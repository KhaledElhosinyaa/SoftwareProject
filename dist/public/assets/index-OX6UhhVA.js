var hp=e=>{throw TypeError(e)};var Ld=(e,t,n)=>t.has(e)||hp("Cannot "+n);var U=(e,t,n)=>(Ld(e,t,"read from private field"),n?n.call(e):t.get(e)),Ne=(e,t,n)=>t.has(e)?hp("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),ge=(e,t,n,s)=>(Ld(e,t,"write to private field"),s?s.call(e,n):t.set(e,n),n),ke=(e,t,n)=>(Ld(e,t,"access private method"),n);var rc=(e,t,n,s)=>({set _(a){ge(e,t,a,n)},get _(){return U(e,t,s)}});function zm(e,t){for(var n=0;n<t.length;n++){const s=t[n];if(typeof s!="string"&&!Array.isArray(s)){for(const a in s)if(a!=="default"&&!(a in e)){const u=Object.getOwnPropertyDescriptor(s,a);u&&Object.defineProperty(e,a,u.get?u:{enumerable:!0,get:()=>s[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const u of a)if(u.type==="childList")for(const h of u.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&s(h)}).observe(document,{childList:!0,subtree:!0});function n(a){const u={};return a.integrity&&(u.integrity=a.integrity),a.referrerPolicy&&(u.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?u.credentials="include":a.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(a){if(a.ep)return;a.ep=!0;const u=n(a);fetch(a.href,u)}})();var Ra=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function s1(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Gm={exports:{}},Ou={},Xm={exports:{}},Ue={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pl=Symbol.for("react.element"),YE=Symbol.for("react.portal"),KE=Symbol.for("react.fragment"),QE=Symbol.for("react.strict_mode"),qE=Symbol.for("react.profiler"),ZE=Symbol.for("react.provider"),$E=Symbol.for("react.context"),JE=Symbol.for("react.forward_ref"),e3=Symbol.for("react.suspense"),t3=Symbol.for("react.memo"),n3=Symbol.for("react.lazy"),pp=Symbol.iterator;function r3(e){return e===null||typeof e!="object"?null:(e=pp&&e[pp]||e["@@iterator"],typeof e=="function"?e:null)}var Ym={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Km=Object.assign,Qm={};function ca(e,t,n){this.props=e,this.context=t,this.refs=Qm,this.updater=n||Ym}ca.prototype.isReactComponent={};ca.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};ca.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function qm(){}qm.prototype=ca.prototype;function o1(e,t,n){this.props=e,this.context=t,this.refs=Qm,this.updater=n||Ym}var a1=o1.prototype=new qm;a1.constructor=o1;Km(a1,ca.prototype);a1.isPureReactComponent=!0;var gp=Array.isArray,Zm=Object.prototype.hasOwnProperty,l1={current:null},$m={key:!0,ref:!0,__self:!0,__source:!0};function Jm(e,t,n){var s,a={},u=null,h=null;if(t!=null)for(s in t.ref!==void 0&&(h=t.ref),t.key!==void 0&&(u=""+t.key),t)Zm.call(t,s)&&!$m.hasOwnProperty(s)&&(a[s]=t[s]);var g=arguments.length-2;if(g===1)a.children=n;else if(1<g){for(var w=Array(g),m=0;m<g;m++)w[m]=arguments[m+2];a.children=w}if(e&&e.defaultProps)for(s in g=e.defaultProps,g)a[s]===void 0&&(a[s]=g[s]);return{$$typeof:Pl,type:e,key:u,ref:h,props:a,_owner:l1.current}}function i3(e,t){return{$$typeof:Pl,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function c1(e){return typeof e=="object"&&e!==null&&e.$$typeof===Pl}function s3(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var mp=/\/+/g;function Fd(e,t){return typeof e=="object"&&e!==null&&e.key!=null?s3(""+e.key):t.toString(36)}function Rc(e,t,n,s,a){var u=typeof e;(u==="undefined"||u==="boolean")&&(e=null);var h=!1;if(e===null)h=!0;else switch(u){case"string":case"number":h=!0;break;case"object":switch(e.$$typeof){case Pl:case YE:h=!0}}if(h)return h=e,a=a(h),e=s===""?"."+Fd(h,0):s,gp(a)?(n="",e!=null&&(n=e.replace(mp,"$&/")+"/"),Rc(a,t,n,"",function(m){return m})):a!=null&&(c1(a)&&(a=i3(a,n+(!a.key||h&&h.key===a.key?"":(""+a.key).replace(mp,"$&/")+"/")+e)),t.push(a)),1;if(h=0,s=s===""?".":s+":",gp(e))for(var g=0;g<e.length;g++){u=e[g];var w=s+Fd(u,g);h+=Rc(u,t,n,w,a)}else if(w=r3(e),typeof w=="function")for(e=w.call(e),g=0;!(u=e.next()).done;)u=u.value,w=s+Fd(u,g++),h+=Rc(u,t,n,w,a);else if(u==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return h}function ic(e,t,n){if(e==null)return e;var s=[],a=0;return Rc(e,s,"","",function(u){return t.call(n,u,a++)}),s}function o3(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Cn={current:null},_c={transition:null},a3={ReactCurrentDispatcher:Cn,ReactCurrentBatchConfig:_c,ReactCurrentOwner:l1};function ex(){throw Error("act(...) is not supported in production builds of React.")}Ue.Children={map:ic,forEach:function(e,t,n){ic(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return ic(e,function(){t++}),t},toArray:function(e){return ic(e,function(t){return t})||[]},only:function(e){if(!c1(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Ue.Component=ca;Ue.Fragment=KE;Ue.Profiler=qE;Ue.PureComponent=o1;Ue.StrictMode=QE;Ue.Suspense=e3;Ue.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=a3;Ue.act=ex;Ue.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var s=Km({},e.props),a=e.key,u=e.ref,h=e._owner;if(t!=null){if(t.ref!==void 0&&(u=t.ref,h=l1.current),t.key!==void 0&&(a=""+t.key),e.type&&e.type.defaultProps)var g=e.type.defaultProps;for(w in t)Zm.call(t,w)&&!$m.hasOwnProperty(w)&&(s[w]=t[w]===void 0&&g!==void 0?g[w]:t[w])}var w=arguments.length-2;if(w===1)s.children=n;else if(1<w){g=Array(w);for(var m=0;m<w;m++)g[m]=arguments[m+2];s.children=g}return{$$typeof:Pl,type:e.type,key:a,ref:u,props:s,_owner:h}};Ue.createContext=function(e){return e={$$typeof:$E,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:ZE,_context:e},e.Consumer=e};Ue.createElement=Jm;Ue.createFactory=function(e){var t=Jm.bind(null,e);return t.type=e,t};Ue.createRef=function(){return{current:null}};Ue.forwardRef=function(e){return{$$typeof:JE,render:e}};Ue.isValidElement=c1;Ue.lazy=function(e){return{$$typeof:n3,_payload:{_status:-1,_result:e},_init:o3}};Ue.memo=function(e,t){return{$$typeof:t3,type:e,compare:t===void 0?null:t}};Ue.startTransition=function(e){var t=_c.transition;_c.transition={};try{e()}finally{_c.transition=t}};Ue.unstable_act=ex;Ue.useCallback=function(e,t){return Cn.current.useCallback(e,t)};Ue.useContext=function(e){return Cn.current.useContext(e)};Ue.useDebugValue=function(){};Ue.useDeferredValue=function(e){return Cn.current.useDeferredValue(e)};Ue.useEffect=function(e,t){return Cn.current.useEffect(e,t)};Ue.useId=function(){return Cn.current.useId()};Ue.useImperativeHandle=function(e,t,n){return Cn.current.useImperativeHandle(e,t,n)};Ue.useInsertionEffect=function(e,t){return Cn.current.useInsertionEffect(e,t)};Ue.useLayoutEffect=function(e,t){return Cn.current.useLayoutEffect(e,t)};Ue.useMemo=function(e,t){return Cn.current.useMemo(e,t)};Ue.useReducer=function(e,t,n){return Cn.current.useReducer(e,t,n)};Ue.useRef=function(e){return Cn.current.useRef(e)};Ue.useState=function(e){return Cn.current.useState(e)};Ue.useSyncExternalStore=function(e,t,n){return Cn.current.useSyncExternalStore(e,t,n)};Ue.useTransition=function(){return Cn.current.useTransition()};Ue.version="18.3.1";Xm.exports=Ue;var A=Xm.exports;const Ti=s1(A),tx=zm({__proto__:null,default:Ti},[A]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l3=A,c3=Symbol.for("react.element"),u3=Symbol.for("react.fragment"),d3=Object.prototype.hasOwnProperty,f3=l3.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,h3={key:!0,ref:!0,__self:!0,__source:!0};function nx(e,t,n){var s,a={},u=null,h=null;n!==void 0&&(u=""+n),t.key!==void 0&&(u=""+t.key),t.ref!==void 0&&(h=t.ref);for(s in t)d3.call(t,s)&&!h3.hasOwnProperty(s)&&(a[s]=t[s]);if(e&&e.defaultProps)for(s in t=e.defaultProps,t)a[s]===void 0&&(a[s]=t[s]);return{$$typeof:c3,type:e,key:u,ref:h,props:a,_owner:f3.current}}Ou.Fragment=u3;Ou.jsx=nx;Ou.jsxs=nx;Gm.exports=Ou;var x=Gm.exports,rx={exports:{}},Yn={},ix={exports:{}},sx={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(Z,$){var ce=Z.length;Z.push($);e:for(;0<ce;){var Ce=ce-1>>>1,Ae=Z[Ce];if(0<a(Ae,$))Z[Ce]=$,Z[ce]=Ae,ce=Ce;else break e}}function n(Z){return Z.length===0?null:Z[0]}function s(Z){if(Z.length===0)return null;var $=Z[0],ce=Z.pop();if(ce!==$){Z[0]=ce;e:for(var Ce=0,Ae=Z.length,at=Ae>>>1;Ce<at;){var Fe=2*(Ce+1)-1,Kt=Z[Fe],he=Fe+1,ve=Z[he];if(0>a(Kt,ce))he<Ae&&0>a(ve,Kt)?(Z[Ce]=ve,Z[he]=ce,Ce=he):(Z[Ce]=Kt,Z[Fe]=ce,Ce=Fe);else if(he<Ae&&0>a(ve,ce))Z[Ce]=ve,Z[he]=ce,Ce=he;else break e}}return $}function a(Z,$){var ce=Z.sortIndex-$.sortIndex;return ce!==0?ce:Z.id-$.id}if(typeof performance=="object"&&typeof performance.now=="function"){var u=performance;e.unstable_now=function(){return u.now()}}else{var h=Date,g=h.now();e.unstable_now=function(){return h.now()-g}}var w=[],m=[],C=1,v=null,b=3,D=!1,_=!1,S=!1,P=typeof setTimeout=="function"?setTimeout:null,O=typeof clearTimeout=="function"?clearTimeout:null,I=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function R(Z){for(var $=n(m);$!==null;){if($.callback===null)s(m);else if($.startTime<=Z)s(m),$.sortIndex=$.expirationTime,t(w,$);else break;$=n(m)}}function F(Z){if(S=!1,R(Z),!_)if(n(w)!==null)_=!0,le(W);else{var $=n(m);$!==null&&ae(F,$.startTime-Z)}}function W(Z,$){_=!1,S&&(S=!1,O(G),G=-1),D=!0;var ce=b;try{for(R($),v=n(w);v!==null&&(!(v.expirationTime>$)||Z&&!de());){var Ce=v.callback;if(typeof Ce=="function"){v.callback=null,b=v.priorityLevel;var Ae=Ce(v.expirationTime<=$);$=e.unstable_now(),typeof Ae=="function"?v.callback=Ae:v===n(w)&&s(w),R($)}else s(w);v=n(w)}if(v!==null)var at=!0;else{var Fe=n(m);Fe!==null&&ae(F,Fe.startTime-$),at=!1}return at}finally{v=null,b=ce,D=!1}}var z=!1,B=null,G=-1,H=5,re=-1;function de(){return!(e.unstable_now()-re<H)}function J(){if(B!==null){var Z=e.unstable_now();re=Z;var $=!0;try{$=B(!0,Z)}finally{$?fe():(z=!1,B=null)}}else z=!1}var fe;if(typeof I=="function")fe=function(){I(J)};else if(typeof MessageChannel<"u"){var te=new MessageChannel,X=te.port2;te.port1.onmessage=J,fe=function(){X.postMessage(null)}}else fe=function(){P(J,0)};function le(Z){B=Z,z||(z=!0,fe())}function ae(Z,$){G=P(function(){Z(e.unstable_now())},$)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(Z){Z.callback=null},e.unstable_continueExecution=function(){_||D||(_=!0,le(W))},e.unstable_forceFrameRate=function(Z){0>Z||125<Z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):H=0<Z?Math.floor(1e3/Z):5},e.unstable_getCurrentPriorityLevel=function(){return b},e.unstable_getFirstCallbackNode=function(){return n(w)},e.unstable_next=function(Z){switch(b){case 1:case 2:case 3:var $=3;break;default:$=b}var ce=b;b=$;try{return Z()}finally{b=ce}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(Z,$){switch(Z){case 1:case 2:case 3:case 4:case 5:break;default:Z=3}var ce=b;b=Z;try{return $()}finally{b=ce}},e.unstable_scheduleCallback=function(Z,$,ce){var Ce=e.unstable_now();switch(typeof ce=="object"&&ce!==null?(ce=ce.delay,ce=typeof ce=="number"&&0<ce?Ce+ce:Ce):ce=Ce,Z){case 1:var Ae=-1;break;case 2:Ae=250;break;case 5:Ae=1073741823;break;case 4:Ae=1e4;break;default:Ae=5e3}return Ae=ce+Ae,Z={id:C++,callback:$,priorityLevel:Z,startTime:ce,expirationTime:Ae,sortIndex:-1},ce>Ce?(Z.sortIndex=ce,t(m,Z),n(w)===null&&Z===n(m)&&(S?(O(G),G=-1):S=!0,ae(F,ce-Ce))):(Z.sortIndex=Ae,t(w,Z),_||D||(_=!0,le(W))),Z},e.unstable_shouldYield=de,e.unstable_wrapCallback=function(Z){var $=b;return function(){var ce=b;b=$;try{return Z.apply(this,arguments)}finally{b=ce}}}})(sx);ix.exports=sx;var p3=ix.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var g3=A,Xn=p3;function ie(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var ox=new Set,ol={};function Ys(e,t){Zo(e,t),Zo(e+"Capture",t)}function Zo(e,t){for(ol[e]=t,e=0;e<t.length;e++)ox.add(t[e])}var ai=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Tf=Object.prototype.hasOwnProperty,m3=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,xp={},wp={};function x3(e){return Tf.call(wp,e)?!0:Tf.call(xp,e)?!1:m3.test(e)?wp[e]=!0:(xp[e]=!0,!1)}function w3(e,t,n,s){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return s?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function y3(e,t,n,s){if(t===null||typeof t>"u"||w3(e,t,n,s))return!0;if(s)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function En(e,t,n,s,a,u,h){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=s,this.attributeNamespace=a,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=u,this.removeEmptyString=h}var tn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){tn[e]=new En(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];tn[t]=new En(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){tn[e]=new En(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){tn[e]=new En(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){tn[e]=new En(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){tn[e]=new En(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){tn[e]=new En(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){tn[e]=new En(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){tn[e]=new En(e,5,!1,e.toLowerCase(),null,!1,!1)});var u1=/[\-:]([a-z])/g;function d1(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(u1,d1);tn[t]=new En(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(u1,d1);tn[t]=new En(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(u1,d1);tn[t]=new En(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){tn[e]=new En(e,1,!1,e.toLowerCase(),null,!1,!1)});tn.xlinkHref=new En("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){tn[e]=new En(e,1,!1,e.toLowerCase(),null,!0,!0)});function f1(e,t,n,s){var a=tn.hasOwnProperty(t)?tn[t]:null;(a!==null?a.type!==0:s||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(y3(t,n,a,s)&&(n=null),s||a===null?x3(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):a.mustUseProperty?e[a.propertyName]=n===null?a.type===3?!1:"":n:(t=a.attributeName,s=a.attributeNamespace,n===null?e.removeAttribute(t):(a=a.type,n=a===3||a===4&&n===!0?"":""+n,s?e.setAttributeNS(s,t,n):e.setAttribute(t,n))))}var pi=g3.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,sc=Symbol.for("react.element"),po=Symbol.for("react.portal"),go=Symbol.for("react.fragment"),h1=Symbol.for("react.strict_mode"),Rf=Symbol.for("react.profiler"),ax=Symbol.for("react.provider"),lx=Symbol.for("react.context"),p1=Symbol.for("react.forward_ref"),_f=Symbol.for("react.suspense"),Of=Symbol.for("react.suspense_list"),g1=Symbol.for("react.memo"),Oi=Symbol.for("react.lazy"),cx=Symbol.for("react.offscreen"),yp=Symbol.iterator;function _a(e){return e===null||typeof e!="object"?null:(e=yp&&e[yp]||e["@@iterator"],typeof e=="function"?e:null)}var It=Object.assign,Bd;function Wa(e){if(Bd===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Bd=t&&t[1]||""}return`
`+Bd+e}var jd=!1;function Ud(e,t){if(!e||jd)return"";jd=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(m){var s=m}Reflect.construct(e,[],t)}else{try{t.call()}catch(m){s=m}e.call(t.prototype)}else{try{throw Error()}catch(m){s=m}e()}}catch(m){if(m&&s&&typeof m.stack=="string"){for(var a=m.stack.split(`
`),u=s.stack.split(`
`),h=a.length-1,g=u.length-1;1<=h&&0<=g&&a[h]!==u[g];)g--;for(;1<=h&&0<=g;h--,g--)if(a[h]!==u[g]){if(h!==1||g!==1)do if(h--,g--,0>g||a[h]!==u[g]){var w=`
`+a[h].replace(" at new "," at ");return e.displayName&&w.includes("<anonymous>")&&(w=w.replace("<anonymous>",e.displayName)),w}while(1<=h&&0<=g);break}}}finally{jd=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Wa(e):""}function v3(e){switch(e.tag){case 5:return Wa(e.type);case 16:return Wa("Lazy");case 13:return Wa("Suspense");case 19:return Wa("SuspenseList");case 0:case 2:case 15:return e=Ud(e.type,!1),e;case 11:return e=Ud(e.type.render,!1),e;case 1:return e=Ud(e.type,!0),e;default:return""}}function Mf(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case go:return"Fragment";case po:return"Portal";case Rf:return"Profiler";case h1:return"StrictMode";case _f:return"Suspense";case Of:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case lx:return(e.displayName||"Context")+".Consumer";case ax:return(e._context.displayName||"Context")+".Provider";case p1:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case g1:return t=e.displayName||null,t!==null?t:Mf(e.type)||"Memo";case Oi:t=e._payload,e=e._init;try{return Mf(e(t))}catch{}}return null}function C3(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Mf(t);case 8:return t===h1?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function ns(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function ux(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function E3(e){var t=ux(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),s=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var a=n.get,u=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(h){s=""+h,u.call(this,h)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return s},setValue:function(h){s=""+h},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function oc(e){e._valueTracker||(e._valueTracker=E3(e))}function dx(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),s="";return e&&(s=ux(e)?e.checked?"true":"false":e.value),e=s,e!==n?(t.setValue(e),!0):!1}function Yc(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Df(e,t){var n=t.checked;return It({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function vp(e,t){var n=t.defaultValue==null?"":t.defaultValue,s=t.checked!=null?t.checked:t.defaultChecked;n=ns(t.value!=null?t.value:n),e._wrapperState={initialChecked:s,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function fx(e,t){t=t.checked,t!=null&&f1(e,"checked",t,!1)}function Pf(e,t){fx(e,t);var n=ns(t.value),s=t.type;if(n!=null)s==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(s==="submit"||s==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?kf(e,t.type,n):t.hasOwnProperty("defaultValue")&&kf(e,t.type,ns(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Cp(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var s=t.type;if(!(s!=="submit"&&s!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function kf(e,t,n){(t!=="number"||Yc(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Ha=Array.isArray;function To(e,t,n,s){if(e=e.options,t){t={};for(var a=0;a<n.length;a++)t["$"+n[a]]=!0;for(n=0;n<e.length;n++)a=t.hasOwnProperty("$"+e[n].value),e[n].selected!==a&&(e[n].selected=a),a&&s&&(e[n].defaultSelected=!0)}else{for(n=""+ns(n),t=null,a=0;a<e.length;a++){if(e[a].value===n){e[a].selected=!0,s&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function Lf(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(ie(91));return It({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Ep(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(ie(92));if(Ha(n)){if(1<n.length)throw Error(ie(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:ns(n)}}function hx(e,t){var n=ns(t.value),s=ns(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),s!=null&&(e.defaultValue=""+s)}function Ap(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function px(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ff(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?px(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var ac,gx=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,s,a){MSApp.execUnsafeLocalFunction(function(){return e(t,n,s,a)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(ac=ac||document.createElement("div"),ac.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ac.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function al(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Qa={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},A3=["Webkit","ms","Moz","O"];Object.keys(Qa).forEach(function(e){A3.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Qa[t]=Qa[e]})});function mx(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Qa.hasOwnProperty(e)&&Qa[e]?(""+t).trim():t+"px"}function xx(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var s=n.indexOf("--")===0,a=mx(n,t[n],s);n==="float"&&(n="cssFloat"),s?e.setProperty(n,a):e[n]=a}}var S3=It({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Bf(e,t){if(t){if(S3[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(ie(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(ie(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(ie(61))}if(t.style!=null&&typeof t.style!="object")throw Error(ie(62))}}function jf(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Uf=null;function m1(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Vf=null,Ro=null,_o=null;function Sp(e){if(e=Fl(e)){if(typeof Vf!="function")throw Error(ie(280));var t=e.stateNode;t&&(t=Lu(t),Vf(e.stateNode,e.type,t))}}function wx(e){Ro?_o?_o.push(e):_o=[e]:Ro=e}function yx(){if(Ro){var e=Ro,t=_o;if(_o=Ro=null,Sp(e),t)for(e=0;e<t.length;e++)Sp(t[e])}}function vx(e,t){return e(t)}function Cx(){}var Vd=!1;function Ex(e,t,n){if(Vd)return e(t,n);Vd=!0;try{return vx(e,t,n)}finally{Vd=!1,(Ro!==null||_o!==null)&&(Cx(),yx())}}function ll(e,t){var n=e.stateNode;if(n===null)return null;var s=Lu(n);if(s===null)return null;n=s[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(e=e.type,s=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!s;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(ie(231,t,typeof n));return n}var Wf=!1;if(ai)try{var Oa={};Object.defineProperty(Oa,"passive",{get:function(){Wf=!0}}),window.addEventListener("test",Oa,Oa),window.removeEventListener("test",Oa,Oa)}catch{Wf=!1}function b3(e,t,n,s,a,u,h,g,w){var m=Array.prototype.slice.call(arguments,3);try{t.apply(n,m)}catch(C){this.onError(C)}}var qa=!1,Kc=null,Qc=!1,Hf=null,N3={onError:function(e){qa=!0,Kc=e}};function I3(e,t,n,s,a,u,h,g,w){qa=!1,Kc=null,b3.apply(N3,arguments)}function T3(e,t,n,s,a,u,h,g,w){if(I3.apply(this,arguments),qa){if(qa){var m=Kc;qa=!1,Kc=null}else throw Error(ie(198));Qc||(Qc=!0,Hf=m)}}function Ks(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Ax(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function bp(e){if(Ks(e)!==e)throw Error(ie(188))}function R3(e){var t=e.alternate;if(!t){if(t=Ks(e),t===null)throw Error(ie(188));return t!==e?null:e}for(var n=e,s=t;;){var a=n.return;if(a===null)break;var u=a.alternate;if(u===null){if(s=a.return,s!==null){n=s;continue}break}if(a.child===u.child){for(u=a.child;u;){if(u===n)return bp(a),e;if(u===s)return bp(a),t;u=u.sibling}throw Error(ie(188))}if(n.return!==s.return)n=a,s=u;else{for(var h=!1,g=a.child;g;){if(g===n){h=!0,n=a,s=u;break}if(g===s){h=!0,s=a,n=u;break}g=g.sibling}if(!h){for(g=u.child;g;){if(g===n){h=!0,n=u,s=a;break}if(g===s){h=!0,s=u,n=a;break}g=g.sibling}if(!h)throw Error(ie(189))}}if(n.alternate!==s)throw Error(ie(190))}if(n.tag!==3)throw Error(ie(188));return n.stateNode.current===n?e:t}function Sx(e){return e=R3(e),e!==null?bx(e):null}function bx(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=bx(e);if(t!==null)return t;e=e.sibling}return null}var Nx=Xn.unstable_scheduleCallback,Np=Xn.unstable_cancelCallback,_3=Xn.unstable_shouldYield,O3=Xn.unstable_requestPaint,kt=Xn.unstable_now,M3=Xn.unstable_getCurrentPriorityLevel,x1=Xn.unstable_ImmediatePriority,Ix=Xn.unstable_UserBlockingPriority,qc=Xn.unstable_NormalPriority,D3=Xn.unstable_LowPriority,Tx=Xn.unstable_IdlePriority,Mu=null,Vr=null;function P3(e){if(Vr&&typeof Vr.onCommitFiberRoot=="function")try{Vr.onCommitFiberRoot(Mu,e,void 0,(e.current.flags&128)===128)}catch{}}var vr=Math.clz32?Math.clz32:F3,k3=Math.log,L3=Math.LN2;function F3(e){return e>>>=0,e===0?32:31-(k3(e)/L3|0)|0}var lc=64,cc=4194304;function za(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Zc(e,t){var n=e.pendingLanes;if(n===0)return 0;var s=0,a=e.suspendedLanes,u=e.pingedLanes,h=n&268435455;if(h!==0){var g=h&~a;g!==0?s=za(g):(u&=h,u!==0&&(s=za(u)))}else h=n&~a,h!==0?s=za(h):u!==0&&(s=za(u));if(s===0)return 0;if(t!==0&&t!==s&&!(t&a)&&(a=s&-s,u=t&-t,a>=u||a===16&&(u&4194240)!==0))return t;if(s&4&&(s|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=s;0<t;)n=31-vr(t),a=1<<n,s|=e[n],t&=~a;return s}function B3(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function j3(e,t){for(var n=e.suspendedLanes,s=e.pingedLanes,a=e.expirationTimes,u=e.pendingLanes;0<u;){var h=31-vr(u),g=1<<h,w=a[h];w===-1?(!(g&n)||g&s)&&(a[h]=B3(g,t)):w<=t&&(e.expiredLanes|=g),u&=~g}}function zf(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Rx(){var e=lc;return lc<<=1,!(lc&4194240)&&(lc=64),e}function Wd(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function kl(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-vr(t),e[t]=n}function U3(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var s=e.eventTimes;for(e=e.expirationTimes;0<n;){var a=31-vr(n),u=1<<a;t[a]=0,s[a]=-1,e[a]=-1,n&=~u}}function w1(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var s=31-vr(n),a=1<<s;a&t|e[s]&t&&(e[s]|=t),n&=~a}}var nt=0;function _x(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Ox,y1,Mx,Dx,Px,Gf=!1,uc=[],Ki=null,Qi=null,qi=null,cl=new Map,ul=new Map,Di=[],V3="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ip(e,t){switch(e){case"focusin":case"focusout":Ki=null;break;case"dragenter":case"dragleave":Qi=null;break;case"mouseover":case"mouseout":qi=null;break;case"pointerover":case"pointerout":cl.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ul.delete(t.pointerId)}}function Ma(e,t,n,s,a,u){return e===null||e.nativeEvent!==u?(e={blockedOn:t,domEventName:n,eventSystemFlags:s,nativeEvent:u,targetContainers:[a]},t!==null&&(t=Fl(t),t!==null&&y1(t)),e):(e.eventSystemFlags|=s,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function W3(e,t,n,s,a){switch(t){case"focusin":return Ki=Ma(Ki,e,t,n,s,a),!0;case"dragenter":return Qi=Ma(Qi,e,t,n,s,a),!0;case"mouseover":return qi=Ma(qi,e,t,n,s,a),!0;case"pointerover":var u=a.pointerId;return cl.set(u,Ma(cl.get(u)||null,e,t,n,s,a)),!0;case"gotpointercapture":return u=a.pointerId,ul.set(u,Ma(ul.get(u)||null,e,t,n,s,a)),!0}return!1}function kx(e){var t=As(e.target);if(t!==null){var n=Ks(t);if(n!==null){if(t=n.tag,t===13){if(t=Ax(n),t!==null){e.blockedOn=t,Px(e.priority,function(){Mx(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Oc(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Xf(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var s=new n.constructor(n.type,n);Uf=s,n.target.dispatchEvent(s),Uf=null}else return t=Fl(n),t!==null&&y1(t),e.blockedOn=n,!1;t.shift()}return!0}function Tp(e,t,n){Oc(e)&&n.delete(t)}function H3(){Gf=!1,Ki!==null&&Oc(Ki)&&(Ki=null),Qi!==null&&Oc(Qi)&&(Qi=null),qi!==null&&Oc(qi)&&(qi=null),cl.forEach(Tp),ul.forEach(Tp)}function Da(e,t){e.blockedOn===t&&(e.blockedOn=null,Gf||(Gf=!0,Xn.unstable_scheduleCallback(Xn.unstable_NormalPriority,H3)))}function dl(e){function t(a){return Da(a,e)}if(0<uc.length){Da(uc[0],e);for(var n=1;n<uc.length;n++){var s=uc[n];s.blockedOn===e&&(s.blockedOn=null)}}for(Ki!==null&&Da(Ki,e),Qi!==null&&Da(Qi,e),qi!==null&&Da(qi,e),cl.forEach(t),ul.forEach(t),n=0;n<Di.length;n++)s=Di[n],s.blockedOn===e&&(s.blockedOn=null);for(;0<Di.length&&(n=Di[0],n.blockedOn===null);)kx(n),n.blockedOn===null&&Di.shift()}var Oo=pi.ReactCurrentBatchConfig,$c=!0;function z3(e,t,n,s){var a=nt,u=Oo.transition;Oo.transition=null;try{nt=1,v1(e,t,n,s)}finally{nt=a,Oo.transition=u}}function G3(e,t,n,s){var a=nt,u=Oo.transition;Oo.transition=null;try{nt=4,v1(e,t,n,s)}finally{nt=a,Oo.transition=u}}function v1(e,t,n,s){if($c){var a=Xf(e,t,n,s);if(a===null)$d(e,t,s,Jc,n),Ip(e,s);else if(W3(a,e,t,n,s))s.stopPropagation();else if(Ip(e,s),t&4&&-1<V3.indexOf(e)){for(;a!==null;){var u=Fl(a);if(u!==null&&Ox(u),u=Xf(e,t,n,s),u===null&&$d(e,t,s,Jc,n),u===a)break;a=u}a!==null&&s.stopPropagation()}else $d(e,t,s,null,n)}}var Jc=null;function Xf(e,t,n,s){if(Jc=null,e=m1(s),e=As(e),e!==null)if(t=Ks(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Ax(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Jc=e,null}function Lx(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(M3()){case x1:return 1;case Ix:return 4;case qc:case D3:return 16;case Tx:return 536870912;default:return 16}default:return 16}}var zi=null,C1=null,Mc=null;function Fx(){if(Mc)return Mc;var e,t=C1,n=t.length,s,a="value"in zi?zi.value:zi.textContent,u=a.length;for(e=0;e<n&&t[e]===a[e];e++);var h=n-e;for(s=1;s<=h&&t[n-s]===a[u-s];s++);return Mc=a.slice(e,1<s?1-s:void 0)}function Dc(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function dc(){return!0}function Rp(){return!1}function Kn(e){function t(n,s,a,u,h){this._reactName=n,this._targetInst=a,this.type=s,this.nativeEvent=u,this.target=h,this.currentTarget=null;for(var g in e)e.hasOwnProperty(g)&&(n=e[g],this[g]=n?n(u):u[g]);return this.isDefaultPrevented=(u.defaultPrevented!=null?u.defaultPrevented:u.returnValue===!1)?dc:Rp,this.isPropagationStopped=Rp,this}return It(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=dc)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=dc)},persist:function(){},isPersistent:dc}),t}var ua={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},E1=Kn(ua),Ll=It({},ua,{view:0,detail:0}),X3=Kn(Ll),Hd,zd,Pa,Du=It({},Ll,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:A1,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Pa&&(Pa&&e.type==="mousemove"?(Hd=e.screenX-Pa.screenX,zd=e.screenY-Pa.screenY):zd=Hd=0,Pa=e),Hd)},movementY:function(e){return"movementY"in e?e.movementY:zd}}),_p=Kn(Du),Y3=It({},Du,{dataTransfer:0}),K3=Kn(Y3),Q3=It({},Ll,{relatedTarget:0}),Gd=Kn(Q3),q3=It({},ua,{animationName:0,elapsedTime:0,pseudoElement:0}),Z3=Kn(q3),$3=It({},ua,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),J3=Kn($3),eA=It({},ua,{data:0}),Op=Kn(eA),tA={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},nA={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},rA={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function iA(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=rA[e])?!!t[e]:!1}function A1(){return iA}var sA=It({},Ll,{key:function(e){if(e.key){var t=tA[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Dc(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?nA[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:A1,charCode:function(e){return e.type==="keypress"?Dc(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Dc(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),oA=Kn(sA),aA=It({},Du,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Mp=Kn(aA),lA=It({},Ll,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:A1}),cA=Kn(lA),uA=It({},ua,{propertyName:0,elapsedTime:0,pseudoElement:0}),dA=Kn(uA),fA=It({},Du,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),hA=Kn(fA),pA=[9,13,27,32],S1=ai&&"CompositionEvent"in window,Za=null;ai&&"documentMode"in document&&(Za=document.documentMode);var gA=ai&&"TextEvent"in window&&!Za,Bx=ai&&(!S1||Za&&8<Za&&11>=Za),Dp=" ",Pp=!1;function jx(e,t){switch(e){case"keyup":return pA.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ux(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var mo=!1;function mA(e,t){switch(e){case"compositionend":return Ux(t);case"keypress":return t.which!==32?null:(Pp=!0,Dp);case"textInput":return e=t.data,e===Dp&&Pp?null:e;default:return null}}function xA(e,t){if(mo)return e==="compositionend"||!S1&&jx(e,t)?(e=Fx(),Mc=C1=zi=null,mo=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Bx&&t.locale!=="ko"?null:t.data;default:return null}}var wA={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function kp(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!wA[e.type]:t==="textarea"}function Vx(e,t,n,s){wx(s),t=eu(t,"onChange"),0<t.length&&(n=new E1("onChange","change",null,n,s),e.push({event:n,listeners:t}))}var $a=null,fl=null;function yA(e){$x(e,0)}function Pu(e){var t=yo(e);if(dx(t))return e}function vA(e,t){if(e==="change")return t}var Wx=!1;if(ai){var Xd;if(ai){var Yd="oninput"in document;if(!Yd){var Lp=document.createElement("div");Lp.setAttribute("oninput","return;"),Yd=typeof Lp.oninput=="function"}Xd=Yd}else Xd=!1;Wx=Xd&&(!document.documentMode||9<document.documentMode)}function Fp(){$a&&($a.detachEvent("onpropertychange",Hx),fl=$a=null)}function Hx(e){if(e.propertyName==="value"&&Pu(fl)){var t=[];Vx(t,fl,e,m1(e)),Ex(yA,t)}}function CA(e,t,n){e==="focusin"?(Fp(),$a=t,fl=n,$a.attachEvent("onpropertychange",Hx)):e==="focusout"&&Fp()}function EA(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Pu(fl)}function AA(e,t){if(e==="click")return Pu(t)}function SA(e,t){if(e==="input"||e==="change")return Pu(t)}function bA(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Er=typeof Object.is=="function"?Object.is:bA;function hl(e,t){if(Er(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),s=Object.keys(t);if(n.length!==s.length)return!1;for(s=0;s<n.length;s++){var a=n[s];if(!Tf.call(t,a)||!Er(e[a],t[a]))return!1}return!0}function Bp(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function jp(e,t){var n=Bp(e);e=0;for(var s;n;){if(n.nodeType===3){if(s=e+n.textContent.length,e<=t&&s>=t)return{node:n,offset:t-e};e=s}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Bp(n)}}function zx(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?zx(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Gx(){for(var e=window,t=Yc();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Yc(e.document)}return t}function b1(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function NA(e){var t=Gx(),n=e.focusedElem,s=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&zx(n.ownerDocument.documentElement,n)){if(s!==null&&b1(n)){if(t=s.start,e=s.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var a=n.textContent.length,u=Math.min(s.start,a);s=s.end===void 0?u:Math.min(s.end,a),!e.extend&&u>s&&(a=s,s=u,u=a),a=jp(n,u);var h=jp(n,s);a&&h&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==h.node||e.focusOffset!==h.offset)&&(t=t.createRange(),t.setStart(a.node,a.offset),e.removeAllRanges(),u>s?(e.addRange(t),e.extend(h.node,h.offset)):(t.setEnd(h.node,h.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var IA=ai&&"documentMode"in document&&11>=document.documentMode,xo=null,Yf=null,Ja=null,Kf=!1;function Up(e,t,n){var s=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Kf||xo==null||xo!==Yc(s)||(s=xo,"selectionStart"in s&&b1(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),Ja&&hl(Ja,s)||(Ja=s,s=eu(Yf,"onSelect"),0<s.length&&(t=new E1("onSelect","select",null,t,n),e.push({event:t,listeners:s}),t.target=xo)))}function fc(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var wo={animationend:fc("Animation","AnimationEnd"),animationiteration:fc("Animation","AnimationIteration"),animationstart:fc("Animation","AnimationStart"),transitionend:fc("Transition","TransitionEnd")},Kd={},Xx={};ai&&(Xx=document.createElement("div").style,"AnimationEvent"in window||(delete wo.animationend.animation,delete wo.animationiteration.animation,delete wo.animationstart.animation),"TransitionEvent"in window||delete wo.transitionend.transition);function ku(e){if(Kd[e])return Kd[e];if(!wo[e])return e;var t=wo[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Xx)return Kd[e]=t[n];return e}var Yx=ku("animationend"),Kx=ku("animationiteration"),Qx=ku("animationstart"),qx=ku("transitionend"),Zx=new Map,Vp="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ls(e,t){Zx.set(e,t),Ys(t,[e])}for(var Qd=0;Qd<Vp.length;Qd++){var qd=Vp[Qd],TA=qd.toLowerCase(),RA=qd[0].toUpperCase()+qd.slice(1);ls(TA,"on"+RA)}ls(Yx,"onAnimationEnd");ls(Kx,"onAnimationIteration");ls(Qx,"onAnimationStart");ls("dblclick","onDoubleClick");ls("focusin","onFocus");ls("focusout","onBlur");ls(qx,"onTransitionEnd");Zo("onMouseEnter",["mouseout","mouseover"]);Zo("onMouseLeave",["mouseout","mouseover"]);Zo("onPointerEnter",["pointerout","pointerover"]);Zo("onPointerLeave",["pointerout","pointerover"]);Ys("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ys("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ys("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ys("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ys("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ys("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ga="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),_A=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ga));function Wp(e,t,n){var s=e.type||"unknown-event";e.currentTarget=n,T3(s,t,void 0,e),e.currentTarget=null}function $x(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var s=e[n],a=s.event;s=s.listeners;e:{var u=void 0;if(t)for(var h=s.length-1;0<=h;h--){var g=s[h],w=g.instance,m=g.currentTarget;if(g=g.listener,w!==u&&a.isPropagationStopped())break e;Wp(a,g,m),u=w}else for(h=0;h<s.length;h++){if(g=s[h],w=g.instance,m=g.currentTarget,g=g.listener,w!==u&&a.isPropagationStopped())break e;Wp(a,g,m),u=w}}}if(Qc)throw e=Hf,Qc=!1,Hf=null,e}function xt(e,t){var n=t[Jf];n===void 0&&(n=t[Jf]=new Set);var s=e+"__bubble";n.has(s)||(Jx(t,e,2,!1),n.add(s))}function Zd(e,t,n){var s=0;t&&(s|=4),Jx(n,e,s,t)}var hc="_reactListening"+Math.random().toString(36).slice(2);function pl(e){if(!e[hc]){e[hc]=!0,ox.forEach(function(n){n!=="selectionchange"&&(_A.has(n)||Zd(n,!1,e),Zd(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[hc]||(t[hc]=!0,Zd("selectionchange",!1,t))}}function Jx(e,t,n,s){switch(Lx(t)){case 1:var a=z3;break;case 4:a=G3;break;default:a=v1}n=a.bind(null,t,n,e),a=void 0,!Wf||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),s?a!==void 0?e.addEventListener(t,n,{capture:!0,passive:a}):e.addEventListener(t,n,!0):a!==void 0?e.addEventListener(t,n,{passive:a}):e.addEventListener(t,n,!1)}function $d(e,t,n,s,a){var u=s;if(!(t&1)&&!(t&2)&&s!==null)e:for(;;){if(s===null)return;var h=s.tag;if(h===3||h===4){var g=s.stateNode.containerInfo;if(g===a||g.nodeType===8&&g.parentNode===a)break;if(h===4)for(h=s.return;h!==null;){var w=h.tag;if((w===3||w===4)&&(w=h.stateNode.containerInfo,w===a||w.nodeType===8&&w.parentNode===a))return;h=h.return}for(;g!==null;){if(h=As(g),h===null)return;if(w=h.tag,w===5||w===6){s=u=h;continue e}g=g.parentNode}}s=s.return}Ex(function(){var m=u,C=m1(n),v=[];e:{var b=Zx.get(e);if(b!==void 0){var D=E1,_=e;switch(e){case"keypress":if(Dc(n)===0)break e;case"keydown":case"keyup":D=oA;break;case"focusin":_="focus",D=Gd;break;case"focusout":_="blur",D=Gd;break;case"beforeblur":case"afterblur":D=Gd;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":D=_p;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":D=K3;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":D=cA;break;case Yx:case Kx:case Qx:D=Z3;break;case qx:D=dA;break;case"scroll":D=X3;break;case"wheel":D=hA;break;case"copy":case"cut":case"paste":D=J3;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":D=Mp}var S=(t&4)!==0,P=!S&&e==="scroll",O=S?b!==null?b+"Capture":null:b;S=[];for(var I=m,R;I!==null;){R=I;var F=R.stateNode;if(R.tag===5&&F!==null&&(R=F,O!==null&&(F=ll(I,O),F!=null&&S.push(gl(I,F,R)))),P)break;I=I.return}0<S.length&&(b=new D(b,_,null,n,C),v.push({event:b,listeners:S}))}}if(!(t&7)){e:{if(b=e==="mouseover"||e==="pointerover",D=e==="mouseout"||e==="pointerout",b&&n!==Uf&&(_=n.relatedTarget||n.fromElement)&&(As(_)||_[li]))break e;if((D||b)&&(b=C.window===C?C:(b=C.ownerDocument)?b.defaultView||b.parentWindow:window,D?(_=n.relatedTarget||n.toElement,D=m,_=_?As(_):null,_!==null&&(P=Ks(_),_!==P||_.tag!==5&&_.tag!==6)&&(_=null)):(D=null,_=m),D!==_)){if(S=_p,F="onMouseLeave",O="onMouseEnter",I="mouse",(e==="pointerout"||e==="pointerover")&&(S=Mp,F="onPointerLeave",O="onPointerEnter",I="pointer"),P=D==null?b:yo(D),R=_==null?b:yo(_),b=new S(F,I+"leave",D,n,C),b.target=P,b.relatedTarget=R,F=null,As(C)===m&&(S=new S(O,I+"enter",_,n,C),S.target=R,S.relatedTarget=P,F=S),P=F,D&&_)t:{for(S=D,O=_,I=0,R=S;R;R=lo(R))I++;for(R=0,F=O;F;F=lo(F))R++;for(;0<I-R;)S=lo(S),I--;for(;0<R-I;)O=lo(O),R--;for(;I--;){if(S===O||O!==null&&S===O.alternate)break t;S=lo(S),O=lo(O)}S=null}else S=null;D!==null&&Hp(v,b,D,S,!1),_!==null&&P!==null&&Hp(v,P,_,S,!0)}}e:{if(b=m?yo(m):window,D=b.nodeName&&b.nodeName.toLowerCase(),D==="select"||D==="input"&&b.type==="file")var W=vA;else if(kp(b))if(Wx)W=SA;else{W=EA;var z=CA}else(D=b.nodeName)&&D.toLowerCase()==="input"&&(b.type==="checkbox"||b.type==="radio")&&(W=AA);if(W&&(W=W(e,m))){Vx(v,W,n,C);break e}z&&z(e,b,m),e==="focusout"&&(z=b._wrapperState)&&z.controlled&&b.type==="number"&&kf(b,"number",b.value)}switch(z=m?yo(m):window,e){case"focusin":(kp(z)||z.contentEditable==="true")&&(xo=z,Yf=m,Ja=null);break;case"focusout":Ja=Yf=xo=null;break;case"mousedown":Kf=!0;break;case"contextmenu":case"mouseup":case"dragend":Kf=!1,Up(v,n,C);break;case"selectionchange":if(IA)break;case"keydown":case"keyup":Up(v,n,C)}var B;if(S1)e:{switch(e){case"compositionstart":var G="onCompositionStart";break e;case"compositionend":G="onCompositionEnd";break e;case"compositionupdate":G="onCompositionUpdate";break e}G=void 0}else mo?jx(e,n)&&(G="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(G="onCompositionStart");G&&(Bx&&n.locale!=="ko"&&(mo||G!=="onCompositionStart"?G==="onCompositionEnd"&&mo&&(B=Fx()):(zi=C,C1="value"in zi?zi.value:zi.textContent,mo=!0)),z=eu(m,G),0<z.length&&(G=new Op(G,e,null,n,C),v.push({event:G,listeners:z}),B?G.data=B:(B=Ux(n),B!==null&&(G.data=B)))),(B=gA?mA(e,n):xA(e,n))&&(m=eu(m,"onBeforeInput"),0<m.length&&(C=new Op("onBeforeInput","beforeinput",null,n,C),v.push({event:C,listeners:m}),C.data=B))}$x(v,t)})}function gl(e,t,n){return{instance:e,listener:t,currentTarget:n}}function eu(e,t){for(var n=t+"Capture",s=[];e!==null;){var a=e,u=a.stateNode;a.tag===5&&u!==null&&(a=u,u=ll(e,n),u!=null&&s.unshift(gl(e,u,a)),u=ll(e,t),u!=null&&s.push(gl(e,u,a))),e=e.return}return s}function lo(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Hp(e,t,n,s,a){for(var u=t._reactName,h=[];n!==null&&n!==s;){var g=n,w=g.alternate,m=g.stateNode;if(w!==null&&w===s)break;g.tag===5&&m!==null&&(g=m,a?(w=ll(n,u),w!=null&&h.unshift(gl(n,w,g))):a||(w=ll(n,u),w!=null&&h.push(gl(n,w,g)))),n=n.return}h.length!==0&&e.push({event:t,listeners:h})}var OA=/\r\n?/g,MA=/\u0000|\uFFFD/g;function zp(e){return(typeof e=="string"?e:""+e).replace(OA,`
`).replace(MA,"")}function pc(e,t,n){if(t=zp(t),zp(e)!==t&&n)throw Error(ie(425))}function tu(){}var Qf=null,qf=null;function Zf(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var $f=typeof setTimeout=="function"?setTimeout:void 0,DA=typeof clearTimeout=="function"?clearTimeout:void 0,Gp=typeof Promise=="function"?Promise:void 0,PA=typeof queueMicrotask=="function"?queueMicrotask:typeof Gp<"u"?function(e){return Gp.resolve(null).then(e).catch(kA)}:$f;function kA(e){setTimeout(function(){throw e})}function Jd(e,t){var n=t,s=0;do{var a=n.nextSibling;if(e.removeChild(n),a&&a.nodeType===8)if(n=a.data,n==="/$"){if(s===0){e.removeChild(a),dl(t);return}s--}else n!=="$"&&n!=="$?"&&n!=="$!"||s++;n=a}while(n);dl(t)}function Zi(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Xp(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var da=Math.random().toString(36).slice(2),jr="__reactFiber$"+da,ml="__reactProps$"+da,li="__reactContainer$"+da,Jf="__reactEvents$"+da,LA="__reactListeners$"+da,FA="__reactHandles$"+da;function As(e){var t=e[jr];if(t)return t;for(var n=e.parentNode;n;){if(t=n[li]||n[jr]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Xp(e);e!==null;){if(n=e[jr])return n;e=Xp(e)}return t}e=n,n=e.parentNode}return null}function Fl(e){return e=e[jr]||e[li],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function yo(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(ie(33))}function Lu(e){return e[ml]||null}var eh=[],vo=-1;function cs(e){return{current:e}}function yt(e){0>vo||(e.current=eh[vo],eh[vo]=null,vo--)}function ft(e,t){vo++,eh[vo]=e.current,e.current=t}var rs={},un=cs(rs),Pn=cs(!1),Ls=rs;function $o(e,t){var n=e.type.contextTypes;if(!n)return rs;var s=e.stateNode;if(s&&s.__reactInternalMemoizedUnmaskedChildContext===t)return s.__reactInternalMemoizedMaskedChildContext;var a={},u;for(u in n)a[u]=t[u];return s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function kn(e){return e=e.childContextTypes,e!=null}function nu(){yt(Pn),yt(un)}function Yp(e,t,n){if(un.current!==rs)throw Error(ie(168));ft(un,t),ft(Pn,n)}function e2(e,t,n){var s=e.stateNode;if(t=t.childContextTypes,typeof s.getChildContext!="function")return n;s=s.getChildContext();for(var a in s)if(!(a in t))throw Error(ie(108,C3(e)||"Unknown",a));return It({},n,s)}function ru(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||rs,Ls=un.current,ft(un,e),ft(Pn,Pn.current),!0}function Kp(e,t,n){var s=e.stateNode;if(!s)throw Error(ie(169));n?(e=e2(e,t,Ls),s.__reactInternalMemoizedMergedChildContext=e,yt(Pn),yt(un),ft(un,e)):yt(Pn),ft(Pn,n)}var $r=null,Fu=!1,ef=!1;function t2(e){$r===null?$r=[e]:$r.push(e)}function BA(e){Fu=!0,t2(e)}function us(){if(!ef&&$r!==null){ef=!0;var e=0,t=nt;try{var n=$r;for(nt=1;e<n.length;e++){var s=n[e];do s=s(!0);while(s!==null)}$r=null,Fu=!1}catch(a){throw $r!==null&&($r=$r.slice(e+1)),Nx(x1,us),a}finally{nt=t,ef=!1}}return null}var Co=[],Eo=0,iu=null,su=0,tr=[],nr=0,Fs=null,ei=1,ti="";function vs(e,t){Co[Eo++]=su,Co[Eo++]=iu,iu=e,su=t}function n2(e,t,n){tr[nr++]=ei,tr[nr++]=ti,tr[nr++]=Fs,Fs=e;var s=ei;e=ti;var a=32-vr(s)-1;s&=~(1<<a),n+=1;var u=32-vr(t)+a;if(30<u){var h=a-a%5;u=(s&(1<<h)-1).toString(32),s>>=h,a-=h,ei=1<<32-vr(t)+a|n<<a|s,ti=u+e}else ei=1<<u|n<<a|s,ti=e}function N1(e){e.return!==null&&(vs(e,1),n2(e,1,0))}function I1(e){for(;e===iu;)iu=Co[--Eo],Co[Eo]=null,su=Co[--Eo],Co[Eo]=null;for(;e===Fs;)Fs=tr[--nr],tr[nr]=null,ti=tr[--nr],tr[nr]=null,ei=tr[--nr],tr[nr]=null}var Hn=null,Wn=null,Ct=!1,wr=null;function r2(e,t){var n=rr(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Qp(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Hn=e,Wn=Zi(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Hn=e,Wn=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Fs!==null?{id:ei,overflow:ti}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=rr(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Hn=e,Wn=null,!0):!1;default:return!1}}function th(e){return(e.mode&1)!==0&&(e.flags&128)===0}function nh(e){if(Ct){var t=Wn;if(t){var n=t;if(!Qp(e,t)){if(th(e))throw Error(ie(418));t=Zi(n.nextSibling);var s=Hn;t&&Qp(e,t)?r2(s,n):(e.flags=e.flags&-4097|2,Ct=!1,Hn=e)}}else{if(th(e))throw Error(ie(418));e.flags=e.flags&-4097|2,Ct=!1,Hn=e}}}function qp(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Hn=e}function gc(e){if(e!==Hn)return!1;if(!Ct)return qp(e),Ct=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Zf(e.type,e.memoizedProps)),t&&(t=Wn)){if(th(e))throw i2(),Error(ie(418));for(;t;)r2(e,t),t=Zi(t.nextSibling)}if(qp(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(ie(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Wn=Zi(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Wn=null}}else Wn=Hn?Zi(e.stateNode.nextSibling):null;return!0}function i2(){for(var e=Wn;e;)e=Zi(e.nextSibling)}function Jo(){Wn=Hn=null,Ct=!1}function T1(e){wr===null?wr=[e]:wr.push(e)}var jA=pi.ReactCurrentBatchConfig;function ka(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(ie(309));var s=n.stateNode}if(!s)throw Error(ie(147,e));var a=s,u=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===u?t.ref:(t=function(h){var g=a.refs;h===null?delete g[u]:g[u]=h},t._stringRef=u,t)}if(typeof e!="string")throw Error(ie(284));if(!n._owner)throw Error(ie(290,e))}return e}function mc(e,t){throw e=Object.prototype.toString.call(t),Error(ie(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Zp(e){var t=e._init;return t(e._payload)}function s2(e){function t(O,I){if(e){var R=O.deletions;R===null?(O.deletions=[I],O.flags|=16):R.push(I)}}function n(O,I){if(!e)return null;for(;I!==null;)t(O,I),I=I.sibling;return null}function s(O,I){for(O=new Map;I!==null;)I.key!==null?O.set(I.key,I):O.set(I.index,I),I=I.sibling;return O}function a(O,I){return O=ts(O,I),O.index=0,O.sibling=null,O}function u(O,I,R){return O.index=R,e?(R=O.alternate,R!==null?(R=R.index,R<I?(O.flags|=2,I):R):(O.flags|=2,I)):(O.flags|=1048576,I)}function h(O){return e&&O.alternate===null&&(O.flags|=2),O}function g(O,I,R,F){return I===null||I.tag!==6?(I=lf(R,O.mode,F),I.return=O,I):(I=a(I,R),I.return=O,I)}function w(O,I,R,F){var W=R.type;return W===go?C(O,I,R.props.children,F,R.key):I!==null&&(I.elementType===W||typeof W=="object"&&W!==null&&W.$$typeof===Oi&&Zp(W)===I.type)?(F=a(I,R.props),F.ref=ka(O,I,R),F.return=O,F):(F=Uc(R.type,R.key,R.props,null,O.mode,F),F.ref=ka(O,I,R),F.return=O,F)}function m(O,I,R,F){return I===null||I.tag!==4||I.stateNode.containerInfo!==R.containerInfo||I.stateNode.implementation!==R.implementation?(I=cf(R,O.mode,F),I.return=O,I):(I=a(I,R.children||[]),I.return=O,I)}function C(O,I,R,F,W){return I===null||I.tag!==7?(I=Ps(R,O.mode,F,W),I.return=O,I):(I=a(I,R),I.return=O,I)}function v(O,I,R){if(typeof I=="string"&&I!==""||typeof I=="number")return I=lf(""+I,O.mode,R),I.return=O,I;if(typeof I=="object"&&I!==null){switch(I.$$typeof){case sc:return R=Uc(I.type,I.key,I.props,null,O.mode,R),R.ref=ka(O,null,I),R.return=O,R;case po:return I=cf(I,O.mode,R),I.return=O,I;case Oi:var F=I._init;return v(O,F(I._payload),R)}if(Ha(I)||_a(I))return I=Ps(I,O.mode,R,null),I.return=O,I;mc(O,I)}return null}function b(O,I,R,F){var W=I!==null?I.key:null;if(typeof R=="string"&&R!==""||typeof R=="number")return W!==null?null:g(O,I,""+R,F);if(typeof R=="object"&&R!==null){switch(R.$$typeof){case sc:return R.key===W?w(O,I,R,F):null;case po:return R.key===W?m(O,I,R,F):null;case Oi:return W=R._init,b(O,I,W(R._payload),F)}if(Ha(R)||_a(R))return W!==null?null:C(O,I,R,F,null);mc(O,R)}return null}function D(O,I,R,F,W){if(typeof F=="string"&&F!==""||typeof F=="number")return O=O.get(R)||null,g(I,O,""+F,W);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case sc:return O=O.get(F.key===null?R:F.key)||null,w(I,O,F,W);case po:return O=O.get(F.key===null?R:F.key)||null,m(I,O,F,W);case Oi:var z=F._init;return D(O,I,R,z(F._payload),W)}if(Ha(F)||_a(F))return O=O.get(R)||null,C(I,O,F,W,null);mc(I,F)}return null}function _(O,I,R,F){for(var W=null,z=null,B=I,G=I=0,H=null;B!==null&&G<R.length;G++){B.index>G?(H=B,B=null):H=B.sibling;var re=b(O,B,R[G],F);if(re===null){B===null&&(B=H);break}e&&B&&re.alternate===null&&t(O,B),I=u(re,I,G),z===null?W=re:z.sibling=re,z=re,B=H}if(G===R.length)return n(O,B),Ct&&vs(O,G),W;if(B===null){for(;G<R.length;G++)B=v(O,R[G],F),B!==null&&(I=u(B,I,G),z===null?W=B:z.sibling=B,z=B);return Ct&&vs(O,G),W}for(B=s(O,B);G<R.length;G++)H=D(B,O,G,R[G],F),H!==null&&(e&&H.alternate!==null&&B.delete(H.key===null?G:H.key),I=u(H,I,G),z===null?W=H:z.sibling=H,z=H);return e&&B.forEach(function(de){return t(O,de)}),Ct&&vs(O,G),W}function S(O,I,R,F){var W=_a(R);if(typeof W!="function")throw Error(ie(150));if(R=W.call(R),R==null)throw Error(ie(151));for(var z=W=null,B=I,G=I=0,H=null,re=R.next();B!==null&&!re.done;G++,re=R.next()){B.index>G?(H=B,B=null):H=B.sibling;var de=b(O,B,re.value,F);if(de===null){B===null&&(B=H);break}e&&B&&de.alternate===null&&t(O,B),I=u(de,I,G),z===null?W=de:z.sibling=de,z=de,B=H}if(re.done)return n(O,B),Ct&&vs(O,G),W;if(B===null){for(;!re.done;G++,re=R.next())re=v(O,re.value,F),re!==null&&(I=u(re,I,G),z===null?W=re:z.sibling=re,z=re);return Ct&&vs(O,G),W}for(B=s(O,B);!re.done;G++,re=R.next())re=D(B,O,G,re.value,F),re!==null&&(e&&re.alternate!==null&&B.delete(re.key===null?G:re.key),I=u(re,I,G),z===null?W=re:z.sibling=re,z=re);return e&&B.forEach(function(J){return t(O,J)}),Ct&&vs(O,G),W}function P(O,I,R,F){if(typeof R=="object"&&R!==null&&R.type===go&&R.key===null&&(R=R.props.children),typeof R=="object"&&R!==null){switch(R.$$typeof){case sc:e:{for(var W=R.key,z=I;z!==null;){if(z.key===W){if(W=R.type,W===go){if(z.tag===7){n(O,z.sibling),I=a(z,R.props.children),I.return=O,O=I;break e}}else if(z.elementType===W||typeof W=="object"&&W!==null&&W.$$typeof===Oi&&Zp(W)===z.type){n(O,z.sibling),I=a(z,R.props),I.ref=ka(O,z,R),I.return=O,O=I;break e}n(O,z);break}else t(O,z);z=z.sibling}R.type===go?(I=Ps(R.props.children,O.mode,F,R.key),I.return=O,O=I):(F=Uc(R.type,R.key,R.props,null,O.mode,F),F.ref=ka(O,I,R),F.return=O,O=F)}return h(O);case po:e:{for(z=R.key;I!==null;){if(I.key===z)if(I.tag===4&&I.stateNode.containerInfo===R.containerInfo&&I.stateNode.implementation===R.implementation){n(O,I.sibling),I=a(I,R.children||[]),I.return=O,O=I;break e}else{n(O,I);break}else t(O,I);I=I.sibling}I=cf(R,O.mode,F),I.return=O,O=I}return h(O);case Oi:return z=R._init,P(O,I,z(R._payload),F)}if(Ha(R))return _(O,I,R,F);if(_a(R))return S(O,I,R,F);mc(O,R)}return typeof R=="string"&&R!==""||typeof R=="number"?(R=""+R,I!==null&&I.tag===6?(n(O,I.sibling),I=a(I,R),I.return=O,O=I):(n(O,I),I=lf(R,O.mode,F),I.return=O,O=I),h(O)):n(O,I)}return P}var ea=s2(!0),o2=s2(!1),ou=cs(null),au=null,Ao=null,R1=null;function _1(){R1=Ao=au=null}function O1(e){var t=ou.current;yt(ou),e._currentValue=t}function rh(e,t,n){for(;e!==null;){var s=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,s!==null&&(s.childLanes|=t)):s!==null&&(s.childLanes&t)!==t&&(s.childLanes|=t),e===n)break;e=e.return}}function Mo(e,t){au=e,R1=Ao=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Dn=!0),e.firstContext=null)}function ar(e){var t=e._currentValue;if(R1!==e)if(e={context:e,memoizedValue:t,next:null},Ao===null){if(au===null)throw Error(ie(308));Ao=e,au.dependencies={lanes:0,firstContext:e}}else Ao=Ao.next=e;return t}var Ss=null;function M1(e){Ss===null?Ss=[e]:Ss.push(e)}function a2(e,t,n,s){var a=t.interleaved;return a===null?(n.next=n,M1(t)):(n.next=a.next,a.next=n),t.interleaved=n,ci(e,s)}function ci(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Mi=!1;function D1(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function l2(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function ni(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function $i(e,t,n){var s=e.updateQueue;if(s===null)return null;if(s=s.shared,Ye&2){var a=s.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),s.pending=t,ci(e,n)}return a=s.interleaved,a===null?(t.next=t,M1(s)):(t.next=a.next,a.next=t),s.interleaved=t,ci(e,n)}function Pc(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var s=t.lanes;s&=e.pendingLanes,n|=s,t.lanes=n,w1(e,n)}}function $p(e,t){var n=e.updateQueue,s=e.alternate;if(s!==null&&(s=s.updateQueue,n===s)){var a=null,u=null;if(n=n.firstBaseUpdate,n!==null){do{var h={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};u===null?a=u=h:u=u.next=h,n=n.next}while(n!==null);u===null?a=u=t:u=u.next=t}else a=u=t;n={baseState:s.baseState,firstBaseUpdate:a,lastBaseUpdate:u,shared:s.shared,effects:s.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function lu(e,t,n,s){var a=e.updateQueue;Mi=!1;var u=a.firstBaseUpdate,h=a.lastBaseUpdate,g=a.shared.pending;if(g!==null){a.shared.pending=null;var w=g,m=w.next;w.next=null,h===null?u=m:h.next=m,h=w;var C=e.alternate;C!==null&&(C=C.updateQueue,g=C.lastBaseUpdate,g!==h&&(g===null?C.firstBaseUpdate=m:g.next=m,C.lastBaseUpdate=w))}if(u!==null){var v=a.baseState;h=0,C=m=w=null,g=u;do{var b=g.lane,D=g.eventTime;if((s&b)===b){C!==null&&(C=C.next={eventTime:D,lane:0,tag:g.tag,payload:g.payload,callback:g.callback,next:null});e:{var _=e,S=g;switch(b=t,D=n,S.tag){case 1:if(_=S.payload,typeof _=="function"){v=_.call(D,v,b);break e}v=_;break e;case 3:_.flags=_.flags&-65537|128;case 0:if(_=S.payload,b=typeof _=="function"?_.call(D,v,b):_,b==null)break e;v=It({},v,b);break e;case 2:Mi=!0}}g.callback!==null&&g.lane!==0&&(e.flags|=64,b=a.effects,b===null?a.effects=[g]:b.push(g))}else D={eventTime:D,lane:b,tag:g.tag,payload:g.payload,callback:g.callback,next:null},C===null?(m=C=D,w=v):C=C.next=D,h|=b;if(g=g.next,g===null){if(g=a.shared.pending,g===null)break;b=g,g=b.next,b.next=null,a.lastBaseUpdate=b,a.shared.pending=null}}while(!0);if(C===null&&(w=v),a.baseState=w,a.firstBaseUpdate=m,a.lastBaseUpdate=C,t=a.shared.interleaved,t!==null){a=t;do h|=a.lane,a=a.next;while(a!==t)}else u===null&&(a.shared.lanes=0);js|=h,e.lanes=h,e.memoizedState=v}}function Jp(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var s=e[t],a=s.callback;if(a!==null){if(s.callback=null,s=n,typeof a!="function")throw Error(ie(191,a));a.call(s)}}}var Bl={},Wr=cs(Bl),xl=cs(Bl),wl=cs(Bl);function bs(e){if(e===Bl)throw Error(ie(174));return e}function P1(e,t){switch(ft(wl,t),ft(xl,e),ft(Wr,Bl),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Ff(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Ff(t,e)}yt(Wr),ft(Wr,t)}function ta(){yt(Wr),yt(xl),yt(wl)}function c2(e){bs(wl.current);var t=bs(Wr.current),n=Ff(t,e.type);t!==n&&(ft(xl,e),ft(Wr,n))}function k1(e){xl.current===e&&(yt(Wr),yt(xl))}var bt=cs(0);function cu(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var tf=[];function L1(){for(var e=0;e<tf.length;e++)tf[e]._workInProgressVersionPrimary=null;tf.length=0}var kc=pi.ReactCurrentDispatcher,nf=pi.ReactCurrentBatchConfig,Bs=0,Nt=null,Vt=null,Xt=null,uu=!1,el=!1,yl=0,UA=0;function on(){throw Error(ie(321))}function F1(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Er(e[n],t[n]))return!1;return!0}function B1(e,t,n,s,a,u){if(Bs=u,Nt=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,kc.current=e===null||e.memoizedState===null?zA:GA,e=n(s,a),el){u=0;do{if(el=!1,yl=0,25<=u)throw Error(ie(301));u+=1,Xt=Vt=null,t.updateQueue=null,kc.current=XA,e=n(s,a)}while(el)}if(kc.current=du,t=Vt!==null&&Vt.next!==null,Bs=0,Xt=Vt=Nt=null,uu=!1,t)throw Error(ie(300));return e}function j1(){var e=yl!==0;return yl=0,e}function Pr(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Xt===null?Nt.memoizedState=Xt=e:Xt=Xt.next=e,Xt}function lr(){if(Vt===null){var e=Nt.alternate;e=e!==null?e.memoizedState:null}else e=Vt.next;var t=Xt===null?Nt.memoizedState:Xt.next;if(t!==null)Xt=t,Vt=e;else{if(e===null)throw Error(ie(310));Vt=e,e={memoizedState:Vt.memoizedState,baseState:Vt.baseState,baseQueue:Vt.baseQueue,queue:Vt.queue,next:null},Xt===null?Nt.memoizedState=Xt=e:Xt=Xt.next=e}return Xt}function vl(e,t){return typeof t=="function"?t(e):t}function rf(e){var t=lr(),n=t.queue;if(n===null)throw Error(ie(311));n.lastRenderedReducer=e;var s=Vt,a=s.baseQueue,u=n.pending;if(u!==null){if(a!==null){var h=a.next;a.next=u.next,u.next=h}s.baseQueue=a=u,n.pending=null}if(a!==null){u=a.next,s=s.baseState;var g=h=null,w=null,m=u;do{var C=m.lane;if((Bs&C)===C)w!==null&&(w=w.next={lane:0,action:m.action,hasEagerState:m.hasEagerState,eagerState:m.eagerState,next:null}),s=m.hasEagerState?m.eagerState:e(s,m.action);else{var v={lane:C,action:m.action,hasEagerState:m.hasEagerState,eagerState:m.eagerState,next:null};w===null?(g=w=v,h=s):w=w.next=v,Nt.lanes|=C,js|=C}m=m.next}while(m!==null&&m!==u);w===null?h=s:w.next=g,Er(s,t.memoizedState)||(Dn=!0),t.memoizedState=s,t.baseState=h,t.baseQueue=w,n.lastRenderedState=s}if(e=n.interleaved,e!==null){a=e;do u=a.lane,Nt.lanes|=u,js|=u,a=a.next;while(a!==e)}else a===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function sf(e){var t=lr(),n=t.queue;if(n===null)throw Error(ie(311));n.lastRenderedReducer=e;var s=n.dispatch,a=n.pending,u=t.memoizedState;if(a!==null){n.pending=null;var h=a=a.next;do u=e(u,h.action),h=h.next;while(h!==a);Er(u,t.memoizedState)||(Dn=!0),t.memoizedState=u,t.baseQueue===null&&(t.baseState=u),n.lastRenderedState=u}return[u,s]}function u2(){}function d2(e,t){var n=Nt,s=lr(),a=t(),u=!Er(s.memoizedState,a);if(u&&(s.memoizedState=a,Dn=!0),s=s.queue,U1(p2.bind(null,n,s,e),[e]),s.getSnapshot!==t||u||Xt!==null&&Xt.memoizedState.tag&1){if(n.flags|=2048,Cl(9,h2.bind(null,n,s,a,t),void 0,null),Yt===null)throw Error(ie(349));Bs&30||f2(n,t,a)}return a}function f2(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Nt.updateQueue,t===null?(t={lastEffect:null,stores:null},Nt.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function h2(e,t,n,s){t.value=n,t.getSnapshot=s,g2(t)&&m2(e)}function p2(e,t,n){return n(function(){g2(t)&&m2(e)})}function g2(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Er(e,n)}catch{return!0}}function m2(e){var t=ci(e,1);t!==null&&Cr(t,e,1,-1)}function eg(e){var t=Pr();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:vl,lastRenderedState:e},t.queue=e,e=e.dispatch=HA.bind(null,Nt,e),[t.memoizedState,e]}function Cl(e,t,n,s){return e={tag:e,create:t,destroy:n,deps:s,next:null},t=Nt.updateQueue,t===null?(t={lastEffect:null,stores:null},Nt.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(s=n.next,n.next=e,e.next=s,t.lastEffect=e)),e}function x2(){return lr().memoizedState}function Lc(e,t,n,s){var a=Pr();Nt.flags|=e,a.memoizedState=Cl(1|t,n,void 0,s===void 0?null:s)}function Bu(e,t,n,s){var a=lr();s=s===void 0?null:s;var u=void 0;if(Vt!==null){var h=Vt.memoizedState;if(u=h.destroy,s!==null&&F1(s,h.deps)){a.memoizedState=Cl(t,n,u,s);return}}Nt.flags|=e,a.memoizedState=Cl(1|t,n,u,s)}function tg(e,t){return Lc(8390656,8,e,t)}function U1(e,t){return Bu(2048,8,e,t)}function w2(e,t){return Bu(4,2,e,t)}function y2(e,t){return Bu(4,4,e,t)}function v2(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function C2(e,t,n){return n=n!=null?n.concat([e]):null,Bu(4,4,v2.bind(null,t,e),n)}function V1(){}function E2(e,t){var n=lr();t=t===void 0?null:t;var s=n.memoizedState;return s!==null&&t!==null&&F1(t,s[1])?s[0]:(n.memoizedState=[e,t],e)}function A2(e,t){var n=lr();t=t===void 0?null:t;var s=n.memoizedState;return s!==null&&t!==null&&F1(t,s[1])?s[0]:(e=e(),n.memoizedState=[e,t],e)}function S2(e,t,n){return Bs&21?(Er(n,t)||(n=Rx(),Nt.lanes|=n,js|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Dn=!0),e.memoizedState=n)}function VA(e,t){var n=nt;nt=n!==0&&4>n?n:4,e(!0);var s=nf.transition;nf.transition={};try{e(!1),t()}finally{nt=n,nf.transition=s}}function b2(){return lr().memoizedState}function WA(e,t,n){var s=es(e);if(n={lane:s,action:n,hasEagerState:!1,eagerState:null,next:null},N2(e))I2(t,n);else if(n=a2(e,t,n,s),n!==null){var a=vn();Cr(n,e,s,a),T2(n,t,s)}}function HA(e,t,n){var s=es(e),a={lane:s,action:n,hasEagerState:!1,eagerState:null,next:null};if(N2(e))I2(t,a);else{var u=e.alternate;if(e.lanes===0&&(u===null||u.lanes===0)&&(u=t.lastRenderedReducer,u!==null))try{var h=t.lastRenderedState,g=u(h,n);if(a.hasEagerState=!0,a.eagerState=g,Er(g,h)){var w=t.interleaved;w===null?(a.next=a,M1(t)):(a.next=w.next,w.next=a),t.interleaved=a;return}}catch{}finally{}n=a2(e,t,a,s),n!==null&&(a=vn(),Cr(n,e,s,a),T2(n,t,s))}}function N2(e){var t=e.alternate;return e===Nt||t!==null&&t===Nt}function I2(e,t){el=uu=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function T2(e,t,n){if(n&4194240){var s=t.lanes;s&=e.pendingLanes,n|=s,t.lanes=n,w1(e,n)}}var du={readContext:ar,useCallback:on,useContext:on,useEffect:on,useImperativeHandle:on,useInsertionEffect:on,useLayoutEffect:on,useMemo:on,useReducer:on,useRef:on,useState:on,useDebugValue:on,useDeferredValue:on,useTransition:on,useMutableSource:on,useSyncExternalStore:on,useId:on,unstable_isNewReconciler:!1},zA={readContext:ar,useCallback:function(e,t){return Pr().memoizedState=[e,t===void 0?null:t],e},useContext:ar,useEffect:tg,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Lc(4194308,4,v2.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Lc(4194308,4,e,t)},useInsertionEffect:function(e,t){return Lc(4,2,e,t)},useMemo:function(e,t){var n=Pr();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var s=Pr();return t=n!==void 0?n(t):t,s.memoizedState=s.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},s.queue=e,e=e.dispatch=WA.bind(null,Nt,e),[s.memoizedState,e]},useRef:function(e){var t=Pr();return e={current:e},t.memoizedState=e},useState:eg,useDebugValue:V1,useDeferredValue:function(e){return Pr().memoizedState=e},useTransition:function(){var e=eg(!1),t=e[0];return e=VA.bind(null,e[1]),Pr().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var s=Nt,a=Pr();if(Ct){if(n===void 0)throw Error(ie(407));n=n()}else{if(n=t(),Yt===null)throw Error(ie(349));Bs&30||f2(s,t,n)}a.memoizedState=n;var u={value:n,getSnapshot:t};return a.queue=u,tg(p2.bind(null,s,u,e),[e]),s.flags|=2048,Cl(9,h2.bind(null,s,u,n,t),void 0,null),n},useId:function(){var e=Pr(),t=Yt.identifierPrefix;if(Ct){var n=ti,s=ei;n=(s&~(1<<32-vr(s)-1)).toString(32)+n,t=":"+t+"R"+n,n=yl++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=UA++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},GA={readContext:ar,useCallback:E2,useContext:ar,useEffect:U1,useImperativeHandle:C2,useInsertionEffect:w2,useLayoutEffect:y2,useMemo:A2,useReducer:rf,useRef:x2,useState:function(){return rf(vl)},useDebugValue:V1,useDeferredValue:function(e){var t=lr();return S2(t,Vt.memoizedState,e)},useTransition:function(){var e=rf(vl)[0],t=lr().memoizedState;return[e,t]},useMutableSource:u2,useSyncExternalStore:d2,useId:b2,unstable_isNewReconciler:!1},XA={readContext:ar,useCallback:E2,useContext:ar,useEffect:U1,useImperativeHandle:C2,useInsertionEffect:w2,useLayoutEffect:y2,useMemo:A2,useReducer:sf,useRef:x2,useState:function(){return sf(vl)},useDebugValue:V1,useDeferredValue:function(e){var t=lr();return Vt===null?t.memoizedState=e:S2(t,Vt.memoizedState,e)},useTransition:function(){var e=sf(vl)[0],t=lr().memoizedState;return[e,t]},useMutableSource:u2,useSyncExternalStore:d2,useId:b2,unstable_isNewReconciler:!1};function gr(e,t){if(e&&e.defaultProps){t=It({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function ih(e,t,n,s){t=e.memoizedState,n=n(s,t),n=n==null?t:It({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var ju={isMounted:function(e){return(e=e._reactInternals)?Ks(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var s=vn(),a=es(e),u=ni(s,a);u.payload=t,n!=null&&(u.callback=n),t=$i(e,u,a),t!==null&&(Cr(t,e,a,s),Pc(t,e,a))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var s=vn(),a=es(e),u=ni(s,a);u.tag=1,u.payload=t,n!=null&&(u.callback=n),t=$i(e,u,a),t!==null&&(Cr(t,e,a,s),Pc(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=vn(),s=es(e),a=ni(n,s);a.tag=2,t!=null&&(a.callback=t),t=$i(e,a,s),t!==null&&(Cr(t,e,s,n),Pc(t,e,s))}};function ng(e,t,n,s,a,u,h){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(s,u,h):t.prototype&&t.prototype.isPureReactComponent?!hl(n,s)||!hl(a,u):!0}function R2(e,t,n){var s=!1,a=rs,u=t.contextType;return typeof u=="object"&&u!==null?u=ar(u):(a=kn(t)?Ls:un.current,s=t.contextTypes,u=(s=s!=null)?$o(e,a):rs),t=new t(n,u),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=ju,e.stateNode=t,t._reactInternals=e,s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=u),t}function rg(e,t,n,s){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,s),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,s),t.state!==e&&ju.enqueueReplaceState(t,t.state,null)}function sh(e,t,n,s){var a=e.stateNode;a.props=n,a.state=e.memoizedState,a.refs={},D1(e);var u=t.contextType;typeof u=="object"&&u!==null?a.context=ar(u):(u=kn(t)?Ls:un.current,a.context=$o(e,u)),a.state=e.memoizedState,u=t.getDerivedStateFromProps,typeof u=="function"&&(ih(e,t,u,n),a.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(t=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),t!==a.state&&ju.enqueueReplaceState(a,a.state,null),lu(e,n,a,s),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function na(e,t){try{var n="",s=t;do n+=v3(s),s=s.return;while(s);var a=n}catch(u){a=`
Error generating stack: `+u.message+`
`+u.stack}return{value:e,source:t,stack:a,digest:null}}function of(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function oh(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var YA=typeof WeakMap=="function"?WeakMap:Map;function _2(e,t,n){n=ni(-1,n),n.tag=3,n.payload={element:null};var s=t.value;return n.callback=function(){hu||(hu=!0,mh=s),oh(e,t)},n}function O2(e,t,n){n=ni(-1,n),n.tag=3;var s=e.type.getDerivedStateFromError;if(typeof s=="function"){var a=t.value;n.payload=function(){return s(a)},n.callback=function(){oh(e,t)}}var u=e.stateNode;return u!==null&&typeof u.componentDidCatch=="function"&&(n.callback=function(){oh(e,t),typeof s!="function"&&(Ji===null?Ji=new Set([this]):Ji.add(this));var h=t.stack;this.componentDidCatch(t.value,{componentStack:h!==null?h:""})}),n}function ig(e,t,n){var s=e.pingCache;if(s===null){s=e.pingCache=new YA;var a=new Set;s.set(t,a)}else a=s.get(t),a===void 0&&(a=new Set,s.set(t,a));a.has(n)||(a.add(n),e=aS.bind(null,e,t,n),t.then(e,e))}function sg(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function og(e,t,n,s,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=ni(-1,1),t.tag=2,$i(n,t,1))),n.lanes|=1),e)}var KA=pi.ReactCurrentOwner,Dn=!1;function xn(e,t,n,s){t.child=e===null?o2(t,null,n,s):ea(t,e.child,n,s)}function ag(e,t,n,s,a){n=n.render;var u=t.ref;return Mo(t,a),s=B1(e,t,n,s,u,a),n=j1(),e!==null&&!Dn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,ui(e,t,a)):(Ct&&n&&N1(t),t.flags|=1,xn(e,t,s,a),t.child)}function lg(e,t,n,s,a){if(e===null){var u=n.type;return typeof u=="function"&&!Q1(u)&&u.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=u,M2(e,t,u,s,a)):(e=Uc(n.type,null,s,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(u=e.child,!(e.lanes&a)){var h=u.memoizedProps;if(n=n.compare,n=n!==null?n:hl,n(h,s)&&e.ref===t.ref)return ui(e,t,a)}return t.flags|=1,e=ts(u,s),e.ref=t.ref,e.return=t,t.child=e}function M2(e,t,n,s,a){if(e!==null){var u=e.memoizedProps;if(hl(u,s)&&e.ref===t.ref)if(Dn=!1,t.pendingProps=s=u,(e.lanes&a)!==0)e.flags&131072&&(Dn=!0);else return t.lanes=e.lanes,ui(e,t,a)}return ah(e,t,n,s,a)}function D2(e,t,n){var s=t.pendingProps,a=s.children,u=e!==null?e.memoizedState:null;if(s.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ft(bo,Un),Un|=n;else{if(!(n&1073741824))return e=u!==null?u.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ft(bo,Un),Un|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},s=u!==null?u.baseLanes:n,ft(bo,Un),Un|=s}else u!==null?(s=u.baseLanes|n,t.memoizedState=null):s=n,ft(bo,Un),Un|=s;return xn(e,t,a,n),t.child}function P2(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function ah(e,t,n,s,a){var u=kn(n)?Ls:un.current;return u=$o(t,u),Mo(t,a),n=B1(e,t,n,s,u,a),s=j1(),e!==null&&!Dn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,ui(e,t,a)):(Ct&&s&&N1(t),t.flags|=1,xn(e,t,n,a),t.child)}function cg(e,t,n,s,a){if(kn(n)){var u=!0;ru(t)}else u=!1;if(Mo(t,a),t.stateNode===null)Fc(e,t),R2(t,n,s),sh(t,n,s,a),s=!0;else if(e===null){var h=t.stateNode,g=t.memoizedProps;h.props=g;var w=h.context,m=n.contextType;typeof m=="object"&&m!==null?m=ar(m):(m=kn(n)?Ls:un.current,m=$o(t,m));var C=n.getDerivedStateFromProps,v=typeof C=="function"||typeof h.getSnapshotBeforeUpdate=="function";v||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(g!==s||w!==m)&&rg(t,h,s,m),Mi=!1;var b=t.memoizedState;h.state=b,lu(t,s,h,a),w=t.memoizedState,g!==s||b!==w||Pn.current||Mi?(typeof C=="function"&&(ih(t,n,C,s),w=t.memoizedState),(g=Mi||ng(t,n,g,s,b,w,m))?(v||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount()),typeof h.componentDidMount=="function"&&(t.flags|=4194308)):(typeof h.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=s,t.memoizedState=w),h.props=s,h.state=w,h.context=m,s=g):(typeof h.componentDidMount=="function"&&(t.flags|=4194308),s=!1)}else{h=t.stateNode,l2(e,t),g=t.memoizedProps,m=t.type===t.elementType?g:gr(t.type,g),h.props=m,v=t.pendingProps,b=h.context,w=n.contextType,typeof w=="object"&&w!==null?w=ar(w):(w=kn(n)?Ls:un.current,w=$o(t,w));var D=n.getDerivedStateFromProps;(C=typeof D=="function"||typeof h.getSnapshotBeforeUpdate=="function")||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(g!==v||b!==w)&&rg(t,h,s,w),Mi=!1,b=t.memoizedState,h.state=b,lu(t,s,h,a);var _=t.memoizedState;g!==v||b!==_||Pn.current||Mi?(typeof D=="function"&&(ih(t,n,D,s),_=t.memoizedState),(m=Mi||ng(t,n,m,s,b,_,w)||!1)?(C||typeof h.UNSAFE_componentWillUpdate!="function"&&typeof h.componentWillUpdate!="function"||(typeof h.componentWillUpdate=="function"&&h.componentWillUpdate(s,_,w),typeof h.UNSAFE_componentWillUpdate=="function"&&h.UNSAFE_componentWillUpdate(s,_,w)),typeof h.componentDidUpdate=="function"&&(t.flags|=4),typeof h.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof h.componentDidUpdate!="function"||g===e.memoizedProps&&b===e.memoizedState||(t.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&b===e.memoizedState||(t.flags|=1024),t.memoizedProps=s,t.memoizedState=_),h.props=s,h.state=_,h.context=w,s=m):(typeof h.componentDidUpdate!="function"||g===e.memoizedProps&&b===e.memoizedState||(t.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&b===e.memoizedState||(t.flags|=1024),s=!1)}return lh(e,t,n,s,u,a)}function lh(e,t,n,s,a,u){P2(e,t);var h=(t.flags&128)!==0;if(!s&&!h)return a&&Kp(t,n,!1),ui(e,t,u);s=t.stateNode,KA.current=t;var g=h&&typeof n.getDerivedStateFromError!="function"?null:s.render();return t.flags|=1,e!==null&&h?(t.child=ea(t,e.child,null,u),t.child=ea(t,null,g,u)):xn(e,t,g,u),t.memoizedState=s.state,a&&Kp(t,n,!0),t.child}function k2(e){var t=e.stateNode;t.pendingContext?Yp(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Yp(e,t.context,!1),P1(e,t.containerInfo)}function ug(e,t,n,s,a){return Jo(),T1(a),t.flags|=256,xn(e,t,n,s),t.child}var ch={dehydrated:null,treeContext:null,retryLane:0};function uh(e){return{baseLanes:e,cachePool:null,transitions:null}}function L2(e,t,n){var s=t.pendingProps,a=bt.current,u=!1,h=(t.flags&128)!==0,g;if((g=h)||(g=e!==null&&e.memoizedState===null?!1:(a&2)!==0),g?(u=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),ft(bt,a&1),e===null)return nh(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(h=s.children,e=s.fallback,u?(s=t.mode,u=t.child,h={mode:"hidden",children:h},!(s&1)&&u!==null?(u.childLanes=0,u.pendingProps=h):u=Wu(h,s,0,null),e=Ps(e,s,n,null),u.return=t,e.return=t,u.sibling=e,t.child=u,t.child.memoizedState=uh(n),t.memoizedState=ch,e):W1(t,h));if(a=e.memoizedState,a!==null&&(g=a.dehydrated,g!==null))return QA(e,t,h,s,g,a,n);if(u){u=s.fallback,h=t.mode,a=e.child,g=a.sibling;var w={mode:"hidden",children:s.children};return!(h&1)&&t.child!==a?(s=t.child,s.childLanes=0,s.pendingProps=w,t.deletions=null):(s=ts(a,w),s.subtreeFlags=a.subtreeFlags&14680064),g!==null?u=ts(g,u):(u=Ps(u,h,n,null),u.flags|=2),u.return=t,s.return=t,s.sibling=u,t.child=s,s=u,u=t.child,h=e.child.memoizedState,h=h===null?uh(n):{baseLanes:h.baseLanes|n,cachePool:null,transitions:h.transitions},u.memoizedState=h,u.childLanes=e.childLanes&~n,t.memoizedState=ch,s}return u=e.child,e=u.sibling,s=ts(u,{mode:"visible",children:s.children}),!(t.mode&1)&&(s.lanes=n),s.return=t,s.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=s,t.memoizedState=null,s}function W1(e,t){return t=Wu({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function xc(e,t,n,s){return s!==null&&T1(s),ea(t,e.child,null,n),e=W1(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function QA(e,t,n,s,a,u,h){if(n)return t.flags&256?(t.flags&=-257,s=of(Error(ie(422))),xc(e,t,h,s)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(u=s.fallback,a=t.mode,s=Wu({mode:"visible",children:s.children},a,0,null),u=Ps(u,a,h,null),u.flags|=2,s.return=t,u.return=t,s.sibling=u,t.child=s,t.mode&1&&ea(t,e.child,null,h),t.child.memoizedState=uh(h),t.memoizedState=ch,u);if(!(t.mode&1))return xc(e,t,h,null);if(a.data==="$!"){if(s=a.nextSibling&&a.nextSibling.dataset,s)var g=s.dgst;return s=g,u=Error(ie(419)),s=of(u,s,void 0),xc(e,t,h,s)}if(g=(h&e.childLanes)!==0,Dn||g){if(s=Yt,s!==null){switch(h&-h){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(s.suspendedLanes|h)?0:a,a!==0&&a!==u.retryLane&&(u.retryLane=a,ci(e,a),Cr(s,e,a,-1))}return K1(),s=of(Error(ie(421))),xc(e,t,h,s)}return a.data==="$?"?(t.flags|=128,t.child=e.child,t=lS.bind(null,e),a._reactRetry=t,null):(e=u.treeContext,Wn=Zi(a.nextSibling),Hn=t,Ct=!0,wr=null,e!==null&&(tr[nr++]=ei,tr[nr++]=ti,tr[nr++]=Fs,ei=e.id,ti=e.overflow,Fs=t),t=W1(t,s.children),t.flags|=4096,t)}function dg(e,t,n){e.lanes|=t;var s=e.alternate;s!==null&&(s.lanes|=t),rh(e.return,t,n)}function af(e,t,n,s,a){var u=e.memoizedState;u===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:s,tail:n,tailMode:a}:(u.isBackwards=t,u.rendering=null,u.renderingStartTime=0,u.last=s,u.tail=n,u.tailMode=a)}function F2(e,t,n){var s=t.pendingProps,a=s.revealOrder,u=s.tail;if(xn(e,t,s.children,n),s=bt.current,s&2)s=s&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&dg(e,n,t);else if(e.tag===19)dg(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}s&=1}if(ft(bt,s),!(t.mode&1))t.memoizedState=null;else switch(a){case"forwards":for(n=t.child,a=null;n!==null;)e=n.alternate,e!==null&&cu(e)===null&&(a=n),n=n.sibling;n=a,n===null?(a=t.child,t.child=null):(a=n.sibling,n.sibling=null),af(t,!1,a,n,u);break;case"backwards":for(n=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&cu(e)===null){t.child=a;break}e=a.sibling,a.sibling=n,n=a,a=e}af(t,!0,n,null,u);break;case"together":af(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Fc(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function ui(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),js|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(ie(153));if(t.child!==null){for(e=t.child,n=ts(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=ts(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function qA(e,t,n){switch(t.tag){case 3:k2(t),Jo();break;case 5:c2(t);break;case 1:kn(t.type)&&ru(t);break;case 4:P1(t,t.stateNode.containerInfo);break;case 10:var s=t.type._context,a=t.memoizedProps.value;ft(ou,s._currentValue),s._currentValue=a;break;case 13:if(s=t.memoizedState,s!==null)return s.dehydrated!==null?(ft(bt,bt.current&1),t.flags|=128,null):n&t.child.childLanes?L2(e,t,n):(ft(bt,bt.current&1),e=ui(e,t,n),e!==null?e.sibling:null);ft(bt,bt.current&1);break;case 19:if(s=(n&t.childLanes)!==0,e.flags&128){if(s)return F2(e,t,n);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),ft(bt,bt.current),s)break;return null;case 22:case 23:return t.lanes=0,D2(e,t,n)}return ui(e,t,n)}var B2,dh,j2,U2;B2=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};dh=function(){};j2=function(e,t,n,s){var a=e.memoizedProps;if(a!==s){e=t.stateNode,bs(Wr.current);var u=null;switch(n){case"input":a=Df(e,a),s=Df(e,s),u=[];break;case"select":a=It({},a,{value:void 0}),s=It({},s,{value:void 0}),u=[];break;case"textarea":a=Lf(e,a),s=Lf(e,s),u=[];break;default:typeof a.onClick!="function"&&typeof s.onClick=="function"&&(e.onclick=tu)}Bf(n,s);var h;n=null;for(m in a)if(!s.hasOwnProperty(m)&&a.hasOwnProperty(m)&&a[m]!=null)if(m==="style"){var g=a[m];for(h in g)g.hasOwnProperty(h)&&(n||(n={}),n[h]="")}else m!=="dangerouslySetInnerHTML"&&m!=="children"&&m!=="suppressContentEditableWarning"&&m!=="suppressHydrationWarning"&&m!=="autoFocus"&&(ol.hasOwnProperty(m)?u||(u=[]):(u=u||[]).push(m,null));for(m in s){var w=s[m];if(g=a!=null?a[m]:void 0,s.hasOwnProperty(m)&&w!==g&&(w!=null||g!=null))if(m==="style")if(g){for(h in g)!g.hasOwnProperty(h)||w&&w.hasOwnProperty(h)||(n||(n={}),n[h]="");for(h in w)w.hasOwnProperty(h)&&g[h]!==w[h]&&(n||(n={}),n[h]=w[h])}else n||(u||(u=[]),u.push(m,n)),n=w;else m==="dangerouslySetInnerHTML"?(w=w?w.__html:void 0,g=g?g.__html:void 0,w!=null&&g!==w&&(u=u||[]).push(m,w)):m==="children"?typeof w!="string"&&typeof w!="number"||(u=u||[]).push(m,""+w):m!=="suppressContentEditableWarning"&&m!=="suppressHydrationWarning"&&(ol.hasOwnProperty(m)?(w!=null&&m==="onScroll"&&xt("scroll",e),u||g===w||(u=[])):(u=u||[]).push(m,w))}n&&(u=u||[]).push("style",n);var m=u;(t.updateQueue=m)&&(t.flags|=4)}};U2=function(e,t,n,s){n!==s&&(t.flags|=4)};function La(e,t){if(!Ct)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:s.sibling=null}}function an(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,s=0;if(t)for(var a=e.child;a!==null;)n|=a.lanes|a.childLanes,s|=a.subtreeFlags&14680064,s|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)n|=a.lanes|a.childLanes,s|=a.subtreeFlags,s|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=s,e.childLanes=n,t}function ZA(e,t,n){var s=t.pendingProps;switch(I1(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return an(t),null;case 1:return kn(t.type)&&nu(),an(t),null;case 3:return s=t.stateNode,ta(),yt(Pn),yt(un),L1(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(gc(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,wr!==null&&(yh(wr),wr=null))),dh(e,t),an(t),null;case 5:k1(t);var a=bs(wl.current);if(n=t.type,e!==null&&t.stateNode!=null)j2(e,t,n,s,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!s){if(t.stateNode===null)throw Error(ie(166));return an(t),null}if(e=bs(Wr.current),gc(t)){s=t.stateNode,n=t.type;var u=t.memoizedProps;switch(s[jr]=t,s[ml]=u,e=(t.mode&1)!==0,n){case"dialog":xt("cancel",s),xt("close",s);break;case"iframe":case"object":case"embed":xt("load",s);break;case"video":case"audio":for(a=0;a<Ga.length;a++)xt(Ga[a],s);break;case"source":xt("error",s);break;case"img":case"image":case"link":xt("error",s),xt("load",s);break;case"details":xt("toggle",s);break;case"input":vp(s,u),xt("invalid",s);break;case"select":s._wrapperState={wasMultiple:!!u.multiple},xt("invalid",s);break;case"textarea":Ep(s,u),xt("invalid",s)}Bf(n,u),a=null;for(var h in u)if(u.hasOwnProperty(h)){var g=u[h];h==="children"?typeof g=="string"?s.textContent!==g&&(u.suppressHydrationWarning!==!0&&pc(s.textContent,g,e),a=["children",g]):typeof g=="number"&&s.textContent!==""+g&&(u.suppressHydrationWarning!==!0&&pc(s.textContent,g,e),a=["children",""+g]):ol.hasOwnProperty(h)&&g!=null&&h==="onScroll"&&xt("scroll",s)}switch(n){case"input":oc(s),Cp(s,u,!0);break;case"textarea":oc(s),Ap(s);break;case"select":case"option":break;default:typeof u.onClick=="function"&&(s.onclick=tu)}s=a,t.updateQueue=s,s!==null&&(t.flags|=4)}else{h=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=px(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=h.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof s.is=="string"?e=h.createElement(n,{is:s.is}):(e=h.createElement(n),n==="select"&&(h=e,s.multiple?h.multiple=!0:s.size&&(h.size=s.size))):e=h.createElementNS(e,n),e[jr]=t,e[ml]=s,B2(e,t,!1,!1),t.stateNode=e;e:{switch(h=jf(n,s),n){case"dialog":xt("cancel",e),xt("close",e),a=s;break;case"iframe":case"object":case"embed":xt("load",e),a=s;break;case"video":case"audio":for(a=0;a<Ga.length;a++)xt(Ga[a],e);a=s;break;case"source":xt("error",e),a=s;break;case"img":case"image":case"link":xt("error",e),xt("load",e),a=s;break;case"details":xt("toggle",e),a=s;break;case"input":vp(e,s),a=Df(e,s),xt("invalid",e);break;case"option":a=s;break;case"select":e._wrapperState={wasMultiple:!!s.multiple},a=It({},s,{value:void 0}),xt("invalid",e);break;case"textarea":Ep(e,s),a=Lf(e,s),xt("invalid",e);break;default:a=s}Bf(n,a),g=a;for(u in g)if(g.hasOwnProperty(u)){var w=g[u];u==="style"?xx(e,w):u==="dangerouslySetInnerHTML"?(w=w?w.__html:void 0,w!=null&&gx(e,w)):u==="children"?typeof w=="string"?(n!=="textarea"||w!=="")&&al(e,w):typeof w=="number"&&al(e,""+w):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(ol.hasOwnProperty(u)?w!=null&&u==="onScroll"&&xt("scroll",e):w!=null&&f1(e,u,w,h))}switch(n){case"input":oc(e),Cp(e,s,!1);break;case"textarea":oc(e),Ap(e);break;case"option":s.value!=null&&e.setAttribute("value",""+ns(s.value));break;case"select":e.multiple=!!s.multiple,u=s.value,u!=null?To(e,!!s.multiple,u,!1):s.defaultValue!=null&&To(e,!!s.multiple,s.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=tu)}switch(n){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}}s&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return an(t),null;case 6:if(e&&t.stateNode!=null)U2(e,t,e.memoizedProps,s);else{if(typeof s!="string"&&t.stateNode===null)throw Error(ie(166));if(n=bs(wl.current),bs(Wr.current),gc(t)){if(s=t.stateNode,n=t.memoizedProps,s[jr]=t,(u=s.nodeValue!==n)&&(e=Hn,e!==null))switch(e.tag){case 3:pc(s.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&pc(s.nodeValue,n,(e.mode&1)!==0)}u&&(t.flags|=4)}else s=(n.nodeType===9?n:n.ownerDocument).createTextNode(s),s[jr]=t,t.stateNode=s}return an(t),null;case 13:if(yt(bt),s=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Ct&&Wn!==null&&t.mode&1&&!(t.flags&128))i2(),Jo(),t.flags|=98560,u=!1;else if(u=gc(t),s!==null&&s.dehydrated!==null){if(e===null){if(!u)throw Error(ie(318));if(u=t.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(ie(317));u[jr]=t}else Jo(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;an(t),u=!1}else wr!==null&&(yh(wr),wr=null),u=!0;if(!u)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(s=s!==null,s!==(e!==null&&e.memoizedState!==null)&&s&&(t.child.flags|=8192,t.mode&1&&(e===null||bt.current&1?Ht===0&&(Ht=3):K1())),t.updateQueue!==null&&(t.flags|=4),an(t),null);case 4:return ta(),dh(e,t),e===null&&pl(t.stateNode.containerInfo),an(t),null;case 10:return O1(t.type._context),an(t),null;case 17:return kn(t.type)&&nu(),an(t),null;case 19:if(yt(bt),u=t.memoizedState,u===null)return an(t),null;if(s=(t.flags&128)!==0,h=u.rendering,h===null)if(s)La(u,!1);else{if(Ht!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(h=cu(e),h!==null){for(t.flags|=128,La(u,!1),s=h.updateQueue,s!==null&&(t.updateQueue=s,t.flags|=4),t.subtreeFlags=0,s=n,n=t.child;n!==null;)u=n,e=s,u.flags&=14680066,h=u.alternate,h===null?(u.childLanes=0,u.lanes=e,u.child=null,u.subtreeFlags=0,u.memoizedProps=null,u.memoizedState=null,u.updateQueue=null,u.dependencies=null,u.stateNode=null):(u.childLanes=h.childLanes,u.lanes=h.lanes,u.child=h.child,u.subtreeFlags=0,u.deletions=null,u.memoizedProps=h.memoizedProps,u.memoizedState=h.memoizedState,u.updateQueue=h.updateQueue,u.type=h.type,e=h.dependencies,u.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return ft(bt,bt.current&1|2),t.child}e=e.sibling}u.tail!==null&&kt()>ra&&(t.flags|=128,s=!0,La(u,!1),t.lanes=4194304)}else{if(!s)if(e=cu(h),e!==null){if(t.flags|=128,s=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),La(u,!0),u.tail===null&&u.tailMode==="hidden"&&!h.alternate&&!Ct)return an(t),null}else 2*kt()-u.renderingStartTime>ra&&n!==1073741824&&(t.flags|=128,s=!0,La(u,!1),t.lanes=4194304);u.isBackwards?(h.sibling=t.child,t.child=h):(n=u.last,n!==null?n.sibling=h:t.child=h,u.last=h)}return u.tail!==null?(t=u.tail,u.rendering=t,u.tail=t.sibling,u.renderingStartTime=kt(),t.sibling=null,n=bt.current,ft(bt,s?n&1|2:n&1),t):(an(t),null);case 22:case 23:return Y1(),s=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==s&&(t.flags|=8192),s&&t.mode&1?Un&1073741824&&(an(t),t.subtreeFlags&6&&(t.flags|=8192)):an(t),null;case 24:return null;case 25:return null}throw Error(ie(156,t.tag))}function $A(e,t){switch(I1(t),t.tag){case 1:return kn(t.type)&&nu(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return ta(),yt(Pn),yt(un),L1(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return k1(t),null;case 13:if(yt(bt),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(ie(340));Jo()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return yt(bt),null;case 4:return ta(),null;case 10:return O1(t.type._context),null;case 22:case 23:return Y1(),null;case 24:return null;default:return null}}var wc=!1,cn=!1,JA=typeof WeakSet=="function"?WeakSet:Set,we=null;function So(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(s){Dt(e,t,s)}else n.current=null}function fh(e,t,n){try{n()}catch(s){Dt(e,t,s)}}var fg=!1;function eS(e,t){if(Qf=$c,e=Gx(),b1(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var s=n.getSelection&&n.getSelection();if(s&&s.rangeCount!==0){n=s.anchorNode;var a=s.anchorOffset,u=s.focusNode;s=s.focusOffset;try{n.nodeType,u.nodeType}catch{n=null;break e}var h=0,g=-1,w=-1,m=0,C=0,v=e,b=null;t:for(;;){for(var D;v!==n||a!==0&&v.nodeType!==3||(g=h+a),v!==u||s!==0&&v.nodeType!==3||(w=h+s),v.nodeType===3&&(h+=v.nodeValue.length),(D=v.firstChild)!==null;)b=v,v=D;for(;;){if(v===e)break t;if(b===n&&++m===a&&(g=h),b===u&&++C===s&&(w=h),(D=v.nextSibling)!==null)break;v=b,b=v.parentNode}v=D}n=g===-1||w===-1?null:{start:g,end:w}}else n=null}n=n||{start:0,end:0}}else n=null;for(qf={focusedElem:e,selectionRange:n},$c=!1,we=t;we!==null;)if(t=we,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,we=e;else for(;we!==null;){t=we;try{var _=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(_!==null){var S=_.memoizedProps,P=_.memoizedState,O=t.stateNode,I=O.getSnapshotBeforeUpdate(t.elementType===t.type?S:gr(t.type,S),P);O.__reactInternalSnapshotBeforeUpdate=I}break;case 3:var R=t.stateNode.containerInfo;R.nodeType===1?R.textContent="":R.nodeType===9&&R.documentElement&&R.removeChild(R.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ie(163))}}catch(F){Dt(t,t.return,F)}if(e=t.sibling,e!==null){e.return=t.return,we=e;break}we=t.return}return _=fg,fg=!1,_}function tl(e,t,n){var s=t.updateQueue;if(s=s!==null?s.lastEffect:null,s!==null){var a=s=s.next;do{if((a.tag&e)===e){var u=a.destroy;a.destroy=void 0,u!==void 0&&fh(t,n,u)}a=a.next}while(a!==s)}}function Uu(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var s=n.create;n.destroy=s()}n=n.next}while(n!==t)}}function hh(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function V2(e){var t=e.alternate;t!==null&&(e.alternate=null,V2(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[jr],delete t[ml],delete t[Jf],delete t[LA],delete t[FA])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function W2(e){return e.tag===5||e.tag===3||e.tag===4}function hg(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||W2(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function ph(e,t,n){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=tu));else if(s!==4&&(e=e.child,e!==null))for(ph(e,t,n),e=e.sibling;e!==null;)ph(e,t,n),e=e.sibling}function gh(e,t,n){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(s!==4&&(e=e.child,e!==null))for(gh(e,t,n),e=e.sibling;e!==null;)gh(e,t,n),e=e.sibling}var Jt=null,xr=!1;function Ai(e,t,n){for(n=n.child;n!==null;)H2(e,t,n),n=n.sibling}function H2(e,t,n){if(Vr&&typeof Vr.onCommitFiberUnmount=="function")try{Vr.onCommitFiberUnmount(Mu,n)}catch{}switch(n.tag){case 5:cn||So(n,t);case 6:var s=Jt,a=xr;Jt=null,Ai(e,t,n),Jt=s,xr=a,Jt!==null&&(xr?(e=Jt,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Jt.removeChild(n.stateNode));break;case 18:Jt!==null&&(xr?(e=Jt,n=n.stateNode,e.nodeType===8?Jd(e.parentNode,n):e.nodeType===1&&Jd(e,n),dl(e)):Jd(Jt,n.stateNode));break;case 4:s=Jt,a=xr,Jt=n.stateNode.containerInfo,xr=!0,Ai(e,t,n),Jt=s,xr=a;break;case 0:case 11:case 14:case 15:if(!cn&&(s=n.updateQueue,s!==null&&(s=s.lastEffect,s!==null))){a=s=s.next;do{var u=a,h=u.destroy;u=u.tag,h!==void 0&&(u&2||u&4)&&fh(n,t,h),a=a.next}while(a!==s)}Ai(e,t,n);break;case 1:if(!cn&&(So(n,t),s=n.stateNode,typeof s.componentWillUnmount=="function"))try{s.props=n.memoizedProps,s.state=n.memoizedState,s.componentWillUnmount()}catch(g){Dt(n,t,g)}Ai(e,t,n);break;case 21:Ai(e,t,n);break;case 22:n.mode&1?(cn=(s=cn)||n.memoizedState!==null,Ai(e,t,n),cn=s):Ai(e,t,n);break;default:Ai(e,t,n)}}function pg(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new JA),t.forEach(function(s){var a=cS.bind(null,e,s);n.has(s)||(n.add(s),s.then(a,a))})}}function hr(e,t){var n=t.deletions;if(n!==null)for(var s=0;s<n.length;s++){var a=n[s];try{var u=e,h=t,g=h;e:for(;g!==null;){switch(g.tag){case 5:Jt=g.stateNode,xr=!1;break e;case 3:Jt=g.stateNode.containerInfo,xr=!0;break e;case 4:Jt=g.stateNode.containerInfo,xr=!0;break e}g=g.return}if(Jt===null)throw Error(ie(160));H2(u,h,a),Jt=null,xr=!1;var w=a.alternate;w!==null&&(w.return=null),a.return=null}catch(m){Dt(a,t,m)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)z2(t,e),t=t.sibling}function z2(e,t){var n=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(hr(t,e),Dr(e),s&4){try{tl(3,e,e.return),Uu(3,e)}catch(S){Dt(e,e.return,S)}try{tl(5,e,e.return)}catch(S){Dt(e,e.return,S)}}break;case 1:hr(t,e),Dr(e),s&512&&n!==null&&So(n,n.return);break;case 5:if(hr(t,e),Dr(e),s&512&&n!==null&&So(n,n.return),e.flags&32){var a=e.stateNode;try{al(a,"")}catch(S){Dt(e,e.return,S)}}if(s&4&&(a=e.stateNode,a!=null)){var u=e.memoizedProps,h=n!==null?n.memoizedProps:u,g=e.type,w=e.updateQueue;if(e.updateQueue=null,w!==null)try{g==="input"&&u.type==="radio"&&u.name!=null&&fx(a,u),jf(g,h);var m=jf(g,u);for(h=0;h<w.length;h+=2){var C=w[h],v=w[h+1];C==="style"?xx(a,v):C==="dangerouslySetInnerHTML"?gx(a,v):C==="children"?al(a,v):f1(a,C,v,m)}switch(g){case"input":Pf(a,u);break;case"textarea":hx(a,u);break;case"select":var b=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!u.multiple;var D=u.value;D!=null?To(a,!!u.multiple,D,!1):b!==!!u.multiple&&(u.defaultValue!=null?To(a,!!u.multiple,u.defaultValue,!0):To(a,!!u.multiple,u.multiple?[]:"",!1))}a[ml]=u}catch(S){Dt(e,e.return,S)}}break;case 6:if(hr(t,e),Dr(e),s&4){if(e.stateNode===null)throw Error(ie(162));a=e.stateNode,u=e.memoizedProps;try{a.nodeValue=u}catch(S){Dt(e,e.return,S)}}break;case 3:if(hr(t,e),Dr(e),s&4&&n!==null&&n.memoizedState.isDehydrated)try{dl(t.containerInfo)}catch(S){Dt(e,e.return,S)}break;case 4:hr(t,e),Dr(e);break;case 13:hr(t,e),Dr(e),a=e.child,a.flags&8192&&(u=a.memoizedState!==null,a.stateNode.isHidden=u,!u||a.alternate!==null&&a.alternate.memoizedState!==null||(G1=kt())),s&4&&pg(e);break;case 22:if(C=n!==null&&n.memoizedState!==null,e.mode&1?(cn=(m=cn)||C,hr(t,e),cn=m):hr(t,e),Dr(e),s&8192){if(m=e.memoizedState!==null,(e.stateNode.isHidden=m)&&!C&&e.mode&1)for(we=e,C=e.child;C!==null;){for(v=we=C;we!==null;){switch(b=we,D=b.child,b.tag){case 0:case 11:case 14:case 15:tl(4,b,b.return);break;case 1:So(b,b.return);var _=b.stateNode;if(typeof _.componentWillUnmount=="function"){s=b,n=b.return;try{t=s,_.props=t.memoizedProps,_.state=t.memoizedState,_.componentWillUnmount()}catch(S){Dt(s,n,S)}}break;case 5:So(b,b.return);break;case 22:if(b.memoizedState!==null){mg(v);continue}}D!==null?(D.return=b,we=D):mg(v)}C=C.sibling}e:for(C=null,v=e;;){if(v.tag===5){if(C===null){C=v;try{a=v.stateNode,m?(u=a.style,typeof u.setProperty=="function"?u.setProperty("display","none","important"):u.display="none"):(g=v.stateNode,w=v.memoizedProps.style,h=w!=null&&w.hasOwnProperty("display")?w.display:null,g.style.display=mx("display",h))}catch(S){Dt(e,e.return,S)}}}else if(v.tag===6){if(C===null)try{v.stateNode.nodeValue=m?"":v.memoizedProps}catch(S){Dt(e,e.return,S)}}else if((v.tag!==22&&v.tag!==23||v.memoizedState===null||v===e)&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===e)break e;for(;v.sibling===null;){if(v.return===null||v.return===e)break e;C===v&&(C=null),v=v.return}C===v&&(C=null),v.sibling.return=v.return,v=v.sibling}}break;case 19:hr(t,e),Dr(e),s&4&&pg(e);break;case 21:break;default:hr(t,e),Dr(e)}}function Dr(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(W2(n)){var s=n;break e}n=n.return}throw Error(ie(160))}switch(s.tag){case 5:var a=s.stateNode;s.flags&32&&(al(a,""),s.flags&=-33);var u=hg(e);gh(e,u,a);break;case 3:case 4:var h=s.stateNode.containerInfo,g=hg(e);ph(e,g,h);break;default:throw Error(ie(161))}}catch(w){Dt(e,e.return,w)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function tS(e,t,n){we=e,G2(e)}function G2(e,t,n){for(var s=(e.mode&1)!==0;we!==null;){var a=we,u=a.child;if(a.tag===22&&s){var h=a.memoizedState!==null||wc;if(!h){var g=a.alternate,w=g!==null&&g.memoizedState!==null||cn;g=wc;var m=cn;if(wc=h,(cn=w)&&!m)for(we=a;we!==null;)h=we,w=h.child,h.tag===22&&h.memoizedState!==null?xg(a):w!==null?(w.return=h,we=w):xg(a);for(;u!==null;)we=u,G2(u),u=u.sibling;we=a,wc=g,cn=m}gg(e)}else a.subtreeFlags&8772&&u!==null?(u.return=a,we=u):gg(e)}}function gg(e){for(;we!==null;){var t=we;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:cn||Uu(5,t);break;case 1:var s=t.stateNode;if(t.flags&4&&!cn)if(n===null)s.componentDidMount();else{var a=t.elementType===t.type?n.memoizedProps:gr(t.type,n.memoizedProps);s.componentDidUpdate(a,n.memoizedState,s.__reactInternalSnapshotBeforeUpdate)}var u=t.updateQueue;u!==null&&Jp(t,u,s);break;case 3:var h=t.updateQueue;if(h!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Jp(t,h,n)}break;case 5:var g=t.stateNode;if(n===null&&t.flags&4){n=g;var w=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":w.autoFocus&&n.focus();break;case"img":w.src&&(n.src=w.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var m=t.alternate;if(m!==null){var C=m.memoizedState;if(C!==null){var v=C.dehydrated;v!==null&&dl(v)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ie(163))}cn||t.flags&512&&hh(t)}catch(b){Dt(t,t.return,b)}}if(t===e){we=null;break}if(n=t.sibling,n!==null){n.return=t.return,we=n;break}we=t.return}}function mg(e){for(;we!==null;){var t=we;if(t===e){we=null;break}var n=t.sibling;if(n!==null){n.return=t.return,we=n;break}we=t.return}}function xg(e){for(;we!==null;){var t=we;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Uu(4,t)}catch(w){Dt(t,n,w)}break;case 1:var s=t.stateNode;if(typeof s.componentDidMount=="function"){var a=t.return;try{s.componentDidMount()}catch(w){Dt(t,a,w)}}var u=t.return;try{hh(t)}catch(w){Dt(t,u,w)}break;case 5:var h=t.return;try{hh(t)}catch(w){Dt(t,h,w)}}}catch(w){Dt(t,t.return,w)}if(t===e){we=null;break}var g=t.sibling;if(g!==null){g.return=t.return,we=g;break}we=t.return}}var nS=Math.ceil,fu=pi.ReactCurrentDispatcher,H1=pi.ReactCurrentOwner,sr=pi.ReactCurrentBatchConfig,Ye=0,Yt=null,Ft=null,en=0,Un=0,bo=cs(0),Ht=0,El=null,js=0,Vu=0,z1=0,nl=null,On=null,G1=0,ra=1/0,Zr=null,hu=!1,mh=null,Ji=null,yc=!1,Gi=null,pu=0,rl=0,xh=null,Bc=-1,jc=0;function vn(){return Ye&6?kt():Bc!==-1?Bc:Bc=kt()}function es(e){return e.mode&1?Ye&2&&en!==0?en&-en:jA.transition!==null?(jc===0&&(jc=Rx()),jc):(e=nt,e!==0||(e=window.event,e=e===void 0?16:Lx(e.type)),e):1}function Cr(e,t,n,s){if(50<rl)throw rl=0,xh=null,Error(ie(185));kl(e,n,s),(!(Ye&2)||e!==Yt)&&(e===Yt&&(!(Ye&2)&&(Vu|=n),Ht===4&&Pi(e,en)),Ln(e,s),n===1&&Ye===0&&!(t.mode&1)&&(ra=kt()+500,Fu&&us()))}function Ln(e,t){var n=e.callbackNode;j3(e,t);var s=Zc(e,e===Yt?en:0);if(s===0)n!==null&&Np(n),e.callbackNode=null,e.callbackPriority=0;else if(t=s&-s,e.callbackPriority!==t){if(n!=null&&Np(n),t===1)e.tag===0?BA(wg.bind(null,e)):t2(wg.bind(null,e)),PA(function(){!(Ye&6)&&us()}),n=null;else{switch(_x(s)){case 1:n=x1;break;case 4:n=Ix;break;case 16:n=qc;break;case 536870912:n=Tx;break;default:n=qc}n=J2(n,X2.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function X2(e,t){if(Bc=-1,jc=0,Ye&6)throw Error(ie(327));var n=e.callbackNode;if(Do()&&e.callbackNode!==n)return null;var s=Zc(e,e===Yt?en:0);if(s===0)return null;if(s&30||s&e.expiredLanes||t)t=gu(e,s);else{t=s;var a=Ye;Ye|=2;var u=K2();(Yt!==e||en!==t)&&(Zr=null,ra=kt()+500,Ds(e,t));do try{sS();break}catch(g){Y2(e,g)}while(!0);_1(),fu.current=u,Ye=a,Ft!==null?t=0:(Yt=null,en=0,t=Ht)}if(t!==0){if(t===2&&(a=zf(e),a!==0&&(s=a,t=wh(e,a))),t===1)throw n=El,Ds(e,0),Pi(e,s),Ln(e,kt()),n;if(t===6)Pi(e,s);else{if(a=e.current.alternate,!(s&30)&&!rS(a)&&(t=gu(e,s),t===2&&(u=zf(e),u!==0&&(s=u,t=wh(e,u))),t===1))throw n=El,Ds(e,0),Pi(e,s),Ln(e,kt()),n;switch(e.finishedWork=a,e.finishedLanes=s,t){case 0:case 1:throw Error(ie(345));case 2:Cs(e,On,Zr);break;case 3:if(Pi(e,s),(s&130023424)===s&&(t=G1+500-kt(),10<t)){if(Zc(e,0)!==0)break;if(a=e.suspendedLanes,(a&s)!==s){vn(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=$f(Cs.bind(null,e,On,Zr),t);break}Cs(e,On,Zr);break;case 4:if(Pi(e,s),(s&4194240)===s)break;for(t=e.eventTimes,a=-1;0<s;){var h=31-vr(s);u=1<<h,h=t[h],h>a&&(a=h),s&=~u}if(s=a,s=kt()-s,s=(120>s?120:480>s?480:1080>s?1080:1920>s?1920:3e3>s?3e3:4320>s?4320:1960*nS(s/1960))-s,10<s){e.timeoutHandle=$f(Cs.bind(null,e,On,Zr),s);break}Cs(e,On,Zr);break;case 5:Cs(e,On,Zr);break;default:throw Error(ie(329))}}}return Ln(e,kt()),e.callbackNode===n?X2.bind(null,e):null}function wh(e,t){var n=nl;return e.current.memoizedState.isDehydrated&&(Ds(e,t).flags|=256),e=gu(e,t),e!==2&&(t=On,On=n,t!==null&&yh(t)),e}function yh(e){On===null?On=e:On.push.apply(On,e)}function rS(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var s=0;s<n.length;s++){var a=n[s],u=a.getSnapshot;a=a.value;try{if(!Er(u(),a))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Pi(e,t){for(t&=~z1,t&=~Vu,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-vr(t),s=1<<n;e[n]=-1,t&=~s}}function wg(e){if(Ye&6)throw Error(ie(327));Do();var t=Zc(e,0);if(!(t&1))return Ln(e,kt()),null;var n=gu(e,t);if(e.tag!==0&&n===2){var s=zf(e);s!==0&&(t=s,n=wh(e,s))}if(n===1)throw n=El,Ds(e,0),Pi(e,t),Ln(e,kt()),n;if(n===6)throw Error(ie(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Cs(e,On,Zr),Ln(e,kt()),null}function X1(e,t){var n=Ye;Ye|=1;try{return e(t)}finally{Ye=n,Ye===0&&(ra=kt()+500,Fu&&us())}}function Us(e){Gi!==null&&Gi.tag===0&&!(Ye&6)&&Do();var t=Ye;Ye|=1;var n=sr.transition,s=nt;try{if(sr.transition=null,nt=1,e)return e()}finally{nt=s,sr.transition=n,Ye=t,!(Ye&6)&&us()}}function Y1(){Un=bo.current,yt(bo)}function Ds(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,DA(n)),Ft!==null)for(n=Ft.return;n!==null;){var s=n;switch(I1(s),s.tag){case 1:s=s.type.childContextTypes,s!=null&&nu();break;case 3:ta(),yt(Pn),yt(un),L1();break;case 5:k1(s);break;case 4:ta();break;case 13:yt(bt);break;case 19:yt(bt);break;case 10:O1(s.type._context);break;case 22:case 23:Y1()}n=n.return}if(Yt=e,Ft=e=ts(e.current,null),en=Un=t,Ht=0,El=null,z1=Vu=js=0,On=nl=null,Ss!==null){for(t=0;t<Ss.length;t++)if(n=Ss[t],s=n.interleaved,s!==null){n.interleaved=null;var a=s.next,u=n.pending;if(u!==null){var h=u.next;u.next=a,s.next=h}n.pending=s}Ss=null}return e}function Y2(e,t){do{var n=Ft;try{if(_1(),kc.current=du,uu){for(var s=Nt.memoizedState;s!==null;){var a=s.queue;a!==null&&(a.pending=null),s=s.next}uu=!1}if(Bs=0,Xt=Vt=Nt=null,el=!1,yl=0,H1.current=null,n===null||n.return===null){Ht=1,El=t,Ft=null;break}e:{var u=e,h=n.return,g=n,w=t;if(t=en,g.flags|=32768,w!==null&&typeof w=="object"&&typeof w.then=="function"){var m=w,C=g,v=C.tag;if(!(C.mode&1)&&(v===0||v===11||v===15)){var b=C.alternate;b?(C.updateQueue=b.updateQueue,C.memoizedState=b.memoizedState,C.lanes=b.lanes):(C.updateQueue=null,C.memoizedState=null)}var D=sg(h);if(D!==null){D.flags&=-257,og(D,h,g,u,t),D.mode&1&&ig(u,m,t),t=D,w=m;var _=t.updateQueue;if(_===null){var S=new Set;S.add(w),t.updateQueue=S}else _.add(w);break e}else{if(!(t&1)){ig(u,m,t),K1();break e}w=Error(ie(426))}}else if(Ct&&g.mode&1){var P=sg(h);if(P!==null){!(P.flags&65536)&&(P.flags|=256),og(P,h,g,u,t),T1(na(w,g));break e}}u=w=na(w,g),Ht!==4&&(Ht=2),nl===null?nl=[u]:nl.push(u),u=h;do{switch(u.tag){case 3:u.flags|=65536,t&=-t,u.lanes|=t;var O=_2(u,w,t);$p(u,O);break e;case 1:g=w;var I=u.type,R=u.stateNode;if(!(u.flags&128)&&(typeof I.getDerivedStateFromError=="function"||R!==null&&typeof R.componentDidCatch=="function"&&(Ji===null||!Ji.has(R)))){u.flags|=65536,t&=-t,u.lanes|=t;var F=O2(u,g,t);$p(u,F);break e}}u=u.return}while(u!==null)}q2(n)}catch(W){t=W,Ft===n&&n!==null&&(Ft=n=n.return);continue}break}while(!0)}function K2(){var e=fu.current;return fu.current=du,e===null?du:e}function K1(){(Ht===0||Ht===3||Ht===2)&&(Ht=4),Yt===null||!(js&268435455)&&!(Vu&268435455)||Pi(Yt,en)}function gu(e,t){var n=Ye;Ye|=2;var s=K2();(Yt!==e||en!==t)&&(Zr=null,Ds(e,t));do try{iS();break}catch(a){Y2(e,a)}while(!0);if(_1(),Ye=n,fu.current=s,Ft!==null)throw Error(ie(261));return Yt=null,en=0,Ht}function iS(){for(;Ft!==null;)Q2(Ft)}function sS(){for(;Ft!==null&&!_3();)Q2(Ft)}function Q2(e){var t=$2(e.alternate,e,Un);e.memoizedProps=e.pendingProps,t===null?q2(e):Ft=t,H1.current=null}function q2(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=$A(n,t),n!==null){n.flags&=32767,Ft=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Ht=6,Ft=null;return}}else if(n=ZA(n,t,Un),n!==null){Ft=n;return}if(t=t.sibling,t!==null){Ft=t;return}Ft=t=e}while(t!==null);Ht===0&&(Ht=5)}function Cs(e,t,n){var s=nt,a=sr.transition;try{sr.transition=null,nt=1,oS(e,t,n,s)}finally{sr.transition=a,nt=s}return null}function oS(e,t,n,s){do Do();while(Gi!==null);if(Ye&6)throw Error(ie(327));n=e.finishedWork;var a=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(ie(177));e.callbackNode=null,e.callbackPriority=0;var u=n.lanes|n.childLanes;if(U3(e,u),e===Yt&&(Ft=Yt=null,en=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||yc||(yc=!0,J2(qc,function(){return Do(),null})),u=(n.flags&15990)!==0,n.subtreeFlags&15990||u){u=sr.transition,sr.transition=null;var h=nt;nt=1;var g=Ye;Ye|=4,H1.current=null,eS(e,n),z2(n,e),NA(qf),$c=!!Qf,qf=Qf=null,e.current=n,tS(n),O3(),Ye=g,nt=h,sr.transition=u}else e.current=n;if(yc&&(yc=!1,Gi=e,pu=a),u=e.pendingLanes,u===0&&(Ji=null),P3(n.stateNode),Ln(e,kt()),t!==null)for(s=e.onRecoverableError,n=0;n<t.length;n++)a=t[n],s(a.value,{componentStack:a.stack,digest:a.digest});if(hu)throw hu=!1,e=mh,mh=null,e;return pu&1&&e.tag!==0&&Do(),u=e.pendingLanes,u&1?e===xh?rl++:(rl=0,xh=e):rl=0,us(),null}function Do(){if(Gi!==null){var e=_x(pu),t=sr.transition,n=nt;try{if(sr.transition=null,nt=16>e?16:e,Gi===null)var s=!1;else{if(e=Gi,Gi=null,pu=0,Ye&6)throw Error(ie(331));var a=Ye;for(Ye|=4,we=e.current;we!==null;){var u=we,h=u.child;if(we.flags&16){var g=u.deletions;if(g!==null){for(var w=0;w<g.length;w++){var m=g[w];for(we=m;we!==null;){var C=we;switch(C.tag){case 0:case 11:case 15:tl(8,C,u)}var v=C.child;if(v!==null)v.return=C,we=v;else for(;we!==null;){C=we;var b=C.sibling,D=C.return;if(V2(C),C===m){we=null;break}if(b!==null){b.return=D,we=b;break}we=D}}}var _=u.alternate;if(_!==null){var S=_.child;if(S!==null){_.child=null;do{var P=S.sibling;S.sibling=null,S=P}while(S!==null)}}we=u}}if(u.subtreeFlags&2064&&h!==null)h.return=u,we=h;else e:for(;we!==null;){if(u=we,u.flags&2048)switch(u.tag){case 0:case 11:case 15:tl(9,u,u.return)}var O=u.sibling;if(O!==null){O.return=u.return,we=O;break e}we=u.return}}var I=e.current;for(we=I;we!==null;){h=we;var R=h.child;if(h.subtreeFlags&2064&&R!==null)R.return=h,we=R;else e:for(h=I;we!==null;){if(g=we,g.flags&2048)try{switch(g.tag){case 0:case 11:case 15:Uu(9,g)}}catch(W){Dt(g,g.return,W)}if(g===h){we=null;break e}var F=g.sibling;if(F!==null){F.return=g.return,we=F;break e}we=g.return}}if(Ye=a,us(),Vr&&typeof Vr.onPostCommitFiberRoot=="function")try{Vr.onPostCommitFiberRoot(Mu,e)}catch{}s=!0}return s}finally{nt=n,sr.transition=t}}return!1}function yg(e,t,n){t=na(n,t),t=_2(e,t,1),e=$i(e,t,1),t=vn(),e!==null&&(kl(e,1,t),Ln(e,t))}function Dt(e,t,n){if(e.tag===3)yg(e,e,n);else for(;t!==null;){if(t.tag===3){yg(t,e,n);break}else if(t.tag===1){var s=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(Ji===null||!Ji.has(s))){e=na(n,e),e=O2(t,e,1),t=$i(t,e,1),e=vn(),t!==null&&(kl(t,1,e),Ln(t,e));break}}t=t.return}}function aS(e,t,n){var s=e.pingCache;s!==null&&s.delete(t),t=vn(),e.pingedLanes|=e.suspendedLanes&n,Yt===e&&(en&n)===n&&(Ht===4||Ht===3&&(en&130023424)===en&&500>kt()-G1?Ds(e,0):z1|=n),Ln(e,t)}function Z2(e,t){t===0&&(e.mode&1?(t=cc,cc<<=1,!(cc&130023424)&&(cc=4194304)):t=1);var n=vn();e=ci(e,t),e!==null&&(kl(e,t,n),Ln(e,n))}function lS(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Z2(e,n)}function cS(e,t){var n=0;switch(e.tag){case 13:var s=e.stateNode,a=e.memoizedState;a!==null&&(n=a.retryLane);break;case 19:s=e.stateNode;break;default:throw Error(ie(314))}s!==null&&s.delete(t),Z2(e,n)}var $2;$2=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Pn.current)Dn=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Dn=!1,qA(e,t,n);Dn=!!(e.flags&131072)}else Dn=!1,Ct&&t.flags&1048576&&n2(t,su,t.index);switch(t.lanes=0,t.tag){case 2:var s=t.type;Fc(e,t),e=t.pendingProps;var a=$o(t,un.current);Mo(t,n),a=B1(null,t,s,e,a,n);var u=j1();return t.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,kn(s)?(u=!0,ru(t)):u=!1,t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,D1(t),a.updater=ju,t.stateNode=a,a._reactInternals=t,sh(t,s,e,n),t=lh(null,t,s,!0,u,n)):(t.tag=0,Ct&&u&&N1(t),xn(null,t,a,n),t=t.child),t;case 16:s=t.elementType;e:{switch(Fc(e,t),e=t.pendingProps,a=s._init,s=a(s._payload),t.type=s,a=t.tag=dS(s),e=gr(s,e),a){case 0:t=ah(null,t,s,e,n);break e;case 1:t=cg(null,t,s,e,n);break e;case 11:t=ag(null,t,s,e,n);break e;case 14:t=lg(null,t,s,gr(s.type,e),n);break e}throw Error(ie(306,s,""))}return t;case 0:return s=t.type,a=t.pendingProps,a=t.elementType===s?a:gr(s,a),ah(e,t,s,a,n);case 1:return s=t.type,a=t.pendingProps,a=t.elementType===s?a:gr(s,a),cg(e,t,s,a,n);case 3:e:{if(k2(t),e===null)throw Error(ie(387));s=t.pendingProps,u=t.memoizedState,a=u.element,l2(e,t),lu(t,s,null,n);var h=t.memoizedState;if(s=h.element,u.isDehydrated)if(u={element:s,isDehydrated:!1,cache:h.cache,pendingSuspenseBoundaries:h.pendingSuspenseBoundaries,transitions:h.transitions},t.updateQueue.baseState=u,t.memoizedState=u,t.flags&256){a=na(Error(ie(423)),t),t=ug(e,t,s,n,a);break e}else if(s!==a){a=na(Error(ie(424)),t),t=ug(e,t,s,n,a);break e}else for(Wn=Zi(t.stateNode.containerInfo.firstChild),Hn=t,Ct=!0,wr=null,n=o2(t,null,s,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Jo(),s===a){t=ui(e,t,n);break e}xn(e,t,s,n)}t=t.child}return t;case 5:return c2(t),e===null&&nh(t),s=t.type,a=t.pendingProps,u=e!==null?e.memoizedProps:null,h=a.children,Zf(s,a)?h=null:u!==null&&Zf(s,u)&&(t.flags|=32),P2(e,t),xn(e,t,h,n),t.child;case 6:return e===null&&nh(t),null;case 13:return L2(e,t,n);case 4:return P1(t,t.stateNode.containerInfo),s=t.pendingProps,e===null?t.child=ea(t,null,s,n):xn(e,t,s,n),t.child;case 11:return s=t.type,a=t.pendingProps,a=t.elementType===s?a:gr(s,a),ag(e,t,s,a,n);case 7:return xn(e,t,t.pendingProps,n),t.child;case 8:return xn(e,t,t.pendingProps.children,n),t.child;case 12:return xn(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(s=t.type._context,a=t.pendingProps,u=t.memoizedProps,h=a.value,ft(ou,s._currentValue),s._currentValue=h,u!==null)if(Er(u.value,h)){if(u.children===a.children&&!Pn.current){t=ui(e,t,n);break e}}else for(u=t.child,u!==null&&(u.return=t);u!==null;){var g=u.dependencies;if(g!==null){h=u.child;for(var w=g.firstContext;w!==null;){if(w.context===s){if(u.tag===1){w=ni(-1,n&-n),w.tag=2;var m=u.updateQueue;if(m!==null){m=m.shared;var C=m.pending;C===null?w.next=w:(w.next=C.next,C.next=w),m.pending=w}}u.lanes|=n,w=u.alternate,w!==null&&(w.lanes|=n),rh(u.return,n,t),g.lanes|=n;break}w=w.next}}else if(u.tag===10)h=u.type===t.type?null:u.child;else if(u.tag===18){if(h=u.return,h===null)throw Error(ie(341));h.lanes|=n,g=h.alternate,g!==null&&(g.lanes|=n),rh(h,n,t),h=u.sibling}else h=u.child;if(h!==null)h.return=u;else for(h=u;h!==null;){if(h===t){h=null;break}if(u=h.sibling,u!==null){u.return=h.return,h=u;break}h=h.return}u=h}xn(e,t,a.children,n),t=t.child}return t;case 9:return a=t.type,s=t.pendingProps.children,Mo(t,n),a=ar(a),s=s(a),t.flags|=1,xn(e,t,s,n),t.child;case 14:return s=t.type,a=gr(s,t.pendingProps),a=gr(s.type,a),lg(e,t,s,a,n);case 15:return M2(e,t,t.type,t.pendingProps,n);case 17:return s=t.type,a=t.pendingProps,a=t.elementType===s?a:gr(s,a),Fc(e,t),t.tag=1,kn(s)?(e=!0,ru(t)):e=!1,Mo(t,n),R2(t,s,a),sh(t,s,a,n),lh(null,t,s,!0,e,n);case 19:return F2(e,t,n);case 22:return D2(e,t,n)}throw Error(ie(156,t.tag))};function J2(e,t){return Nx(e,t)}function uS(e,t,n,s){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function rr(e,t,n,s){return new uS(e,t,n,s)}function Q1(e){return e=e.prototype,!(!e||!e.isReactComponent)}function dS(e){if(typeof e=="function")return Q1(e)?1:0;if(e!=null){if(e=e.$$typeof,e===p1)return 11;if(e===g1)return 14}return 2}function ts(e,t){var n=e.alternate;return n===null?(n=rr(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Uc(e,t,n,s,a,u){var h=2;if(s=e,typeof e=="function")Q1(e)&&(h=1);else if(typeof e=="string")h=5;else e:switch(e){case go:return Ps(n.children,a,u,t);case h1:h=8,a|=8;break;case Rf:return e=rr(12,n,t,a|2),e.elementType=Rf,e.lanes=u,e;case _f:return e=rr(13,n,t,a),e.elementType=_f,e.lanes=u,e;case Of:return e=rr(19,n,t,a),e.elementType=Of,e.lanes=u,e;case cx:return Wu(n,a,u,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case ax:h=10;break e;case lx:h=9;break e;case p1:h=11;break e;case g1:h=14;break e;case Oi:h=16,s=null;break e}throw Error(ie(130,e==null?e:typeof e,""))}return t=rr(h,n,t,a),t.elementType=e,t.type=s,t.lanes=u,t}function Ps(e,t,n,s){return e=rr(7,e,s,t),e.lanes=n,e}function Wu(e,t,n,s){return e=rr(22,e,s,t),e.elementType=cx,e.lanes=n,e.stateNode={isHidden:!1},e}function lf(e,t,n){return e=rr(6,e,null,t),e.lanes=n,e}function cf(e,t,n){return t=rr(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function fS(e,t,n,s,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Wd(0),this.expirationTimes=Wd(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Wd(0),this.identifierPrefix=s,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function q1(e,t,n,s,a,u,h,g,w){return e=new fS(e,t,n,g,w),t===1?(t=1,u===!0&&(t|=8)):t=0,u=rr(3,null,null,t),e.current=u,u.stateNode=e,u.memoizedState={element:s,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},D1(u),e}function hS(e,t,n){var s=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:po,key:s==null?null:""+s,children:e,containerInfo:t,implementation:n}}function ew(e){if(!e)return rs;e=e._reactInternals;e:{if(Ks(e)!==e||e.tag!==1)throw Error(ie(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(kn(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(ie(171))}if(e.tag===1){var n=e.type;if(kn(n))return e2(e,n,t)}return t}function tw(e,t,n,s,a,u,h,g,w){return e=q1(n,s,!0,e,a,u,h,g,w),e.context=ew(null),n=e.current,s=vn(),a=es(n),u=ni(s,a),u.callback=t??null,$i(n,u,a),e.current.lanes=a,kl(e,a,s),Ln(e,s),e}function Hu(e,t,n,s){var a=t.current,u=vn(),h=es(a);return n=ew(n),t.context===null?t.context=n:t.pendingContext=n,t=ni(u,h),t.payload={element:e},s=s===void 0?null:s,s!==null&&(t.callback=s),e=$i(a,t,h),e!==null&&(Cr(e,a,h,u),Pc(e,a,h)),h}function mu(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function vg(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Z1(e,t){vg(e,t),(e=e.alternate)&&vg(e,t)}function pS(){return null}var nw=typeof reportError=="function"?reportError:function(e){console.error(e)};function $1(e){this._internalRoot=e}zu.prototype.render=$1.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(ie(409));Hu(e,t,null,null)};zu.prototype.unmount=$1.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Us(function(){Hu(null,e,null,null)}),t[li]=null}};function zu(e){this._internalRoot=e}zu.prototype.unstable_scheduleHydration=function(e){if(e){var t=Dx();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Di.length&&t!==0&&t<Di[n].priority;n++);Di.splice(n,0,e),n===0&&kx(e)}};function J1(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Gu(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Cg(){}function gS(e,t,n,s,a){if(a){if(typeof s=="function"){var u=s;s=function(){var m=mu(h);u.call(m)}}var h=tw(t,s,e,0,null,!1,!1,"",Cg);return e._reactRootContainer=h,e[li]=h.current,pl(e.nodeType===8?e.parentNode:e),Us(),h}for(;a=e.lastChild;)e.removeChild(a);if(typeof s=="function"){var g=s;s=function(){var m=mu(w);g.call(m)}}var w=q1(e,0,!1,null,null,!1,!1,"",Cg);return e._reactRootContainer=w,e[li]=w.current,pl(e.nodeType===8?e.parentNode:e),Us(function(){Hu(t,w,n,s)}),w}function Xu(e,t,n,s,a){var u=n._reactRootContainer;if(u){var h=u;if(typeof a=="function"){var g=a;a=function(){var w=mu(h);g.call(w)}}Hu(t,h,e,a)}else h=gS(n,t,e,a,s);return mu(h)}Ox=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=za(t.pendingLanes);n!==0&&(w1(t,n|1),Ln(t,kt()),!(Ye&6)&&(ra=kt()+500,us()))}break;case 13:Us(function(){var s=ci(e,1);if(s!==null){var a=vn();Cr(s,e,1,a)}}),Z1(e,1)}};y1=function(e){if(e.tag===13){var t=ci(e,134217728);if(t!==null){var n=vn();Cr(t,e,134217728,n)}Z1(e,134217728)}};Mx=function(e){if(e.tag===13){var t=es(e),n=ci(e,t);if(n!==null){var s=vn();Cr(n,e,t,s)}Z1(e,t)}};Dx=function(){return nt};Px=function(e,t){var n=nt;try{return nt=e,t()}finally{nt=n}};Vf=function(e,t,n){switch(t){case"input":if(Pf(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var s=n[t];if(s!==e&&s.form===e.form){var a=Lu(s);if(!a)throw Error(ie(90));dx(s),Pf(s,a)}}}break;case"textarea":hx(e,n);break;case"select":t=n.value,t!=null&&To(e,!!n.multiple,t,!1)}};vx=X1;Cx=Us;var mS={usingClientEntryPoint:!1,Events:[Fl,yo,Lu,wx,yx,X1]},Fa={findFiberByHostInstance:As,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},xS={bundleType:Fa.bundleType,version:Fa.version,rendererPackageName:Fa.rendererPackageName,rendererConfig:Fa.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:pi.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Sx(e),e===null?null:e.stateNode},findFiberByHostInstance:Fa.findFiberByHostInstance||pS,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var vc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!vc.isDisabled&&vc.supportsFiber)try{Mu=vc.inject(xS),Vr=vc}catch{}}Yn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=mS;Yn.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!J1(t))throw Error(ie(200));return hS(e,t,null,n)};Yn.createRoot=function(e,t){if(!J1(e))throw Error(ie(299));var n=!1,s="",a=nw;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=q1(e,1,!1,null,null,n,!1,s,a),e[li]=t.current,pl(e.nodeType===8?e.parentNode:e),new $1(t)};Yn.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(ie(188)):(e=Object.keys(e).join(","),Error(ie(268,e)));return e=Sx(t),e=e===null?null:e.stateNode,e};Yn.flushSync=function(e){return Us(e)};Yn.hydrate=function(e,t,n){if(!Gu(t))throw Error(ie(200));return Xu(null,e,t,!0,n)};Yn.hydrateRoot=function(e,t,n){if(!J1(e))throw Error(ie(405));var s=n!=null&&n.hydratedSources||null,a=!1,u="",h=nw;if(n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(u=n.identifierPrefix),n.onRecoverableError!==void 0&&(h=n.onRecoverableError)),t=tw(t,null,e,1,n??null,a,!1,u,h),e[li]=t.current,pl(e),s)for(e=0;e<s.length;e++)n=s[e],a=n._getVersion,a=a(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,a]:t.mutableSourceEagerHydrationData.push(n,a);return new zu(t)};Yn.render=function(e,t,n){if(!Gu(t))throw Error(ie(200));return Xu(null,e,t,!1,n)};Yn.unmountComponentAtNode=function(e){if(!Gu(e))throw Error(ie(40));return e._reactRootContainer?(Us(function(){Xu(null,null,e,!1,function(){e._reactRootContainer=null,e[li]=null})}),!0):!1};Yn.unstable_batchedUpdates=X1;Yn.unstable_renderSubtreeIntoContainer=function(e,t,n,s){if(!Gu(n))throw Error(ie(200));if(e==null||e._reactInternals===void 0)throw Error(ie(38));return Xu(e,t,n,!1,s)};Yn.version="18.3.1-next-f1338f8080-20240426";function rw(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(rw)}catch(e){console.error(e)}}rw(),rx.exports=Yn;var Qs=rx.exports;const wS=s1(Qs);var iw,Eg=Qs;iw=Eg.createRoot,Eg.hydrateRoot;function yS(e,t){if(e instanceof RegExp)return{keys:!1,pattern:e};var n,s,a,u,h=[],g="",w=e.split("/");for(w[0]||w.shift();a=w.shift();)n=a[0],n==="*"?(h.push(n),g+=a[1]==="?"?"(?:/(.*))?":"/(.*)"):n===":"?(s=a.indexOf("?",1),u=a.indexOf(".",1),h.push(a.substring(1,~s?s:~u?u:a.length)),g+=~s&&!~u?"(?:/([^/]+?))?":"/([^/]+?)",~u&&(g+=(~s?"?":"")+"\\"+a.substring(u))):g+="/"+a;return{keys:h,pattern:new RegExp("^"+g+(t?"(?=$|/)":"/?$"),"i")}}var sw={exports:{}},ow={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ia=A;function vS(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var CS=typeof Object.is=="function"?Object.is:vS,ES=ia.useState,AS=ia.useEffect,SS=ia.useLayoutEffect,bS=ia.useDebugValue;function NS(e,t){var n=t(),s=ES({inst:{value:n,getSnapshot:t}}),a=s[0].inst,u=s[1];return SS(function(){a.value=n,a.getSnapshot=t,uf(a)&&u({inst:a})},[e,n,t]),AS(function(){return uf(a)&&u({inst:a}),e(function(){uf(a)&&u({inst:a})})},[e]),bS(n),n}function uf(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!CS(e,n)}catch{return!0}}function IS(e,t){return t()}var TS=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?IS:NS;ow.useSyncExternalStore=ia.useSyncExternalStore!==void 0?ia.useSyncExternalStore:TS;sw.exports=ow;var RS=sw.exports;const _S=tx.useInsertionEffect,OS=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",aw=OS?A.useLayoutEffect:A.useEffect,MS=_S||aw,e0=e=>{const t=A.useRef([e,(...n)=>t[0](...n)]).current;return MS(()=>{t[0]=e}),t[1]},DS="popstate",t0="pushState",n0="replaceState",PS="hashchange",Ag=[DS,t0,n0,PS],kS=e=>{for(const t of Ag)addEventListener(t,e);return()=>{for(const t of Ag)removeEventListener(t,e)}},lw=(e,t)=>RS.useSyncExternalStore(kS,e,t),LS=()=>location.search,FS=({ssrSearch:e=""}={})=>lw(LS,()=>e),Sg=()=>location.pathname,BS=({ssrPath:e}={})=>lw(Sg,e?()=>e:Sg),jS=(e,{replace:t=!1,state:n=null}={})=>history[t?n0:t0](n,"",e),US=(e={})=>[BS(e),jS],bg=Symbol.for("wouter_v3");if(typeof history<"u"&&typeof window[bg]>"u"){for(const e of[t0,n0]){const t=history[e];history[e]=function(){const n=t.apply(this,arguments),s=new Event(e);return s.arguments=arguments,dispatchEvent(s),n}}Object.defineProperty(window,bg,{value:!0})}const VS=(e,t)=>t.toLowerCase().indexOf(e.toLowerCase())?"~"+t:t.slice(e.length)||"/",cw=(e="")=>e==="/"?"":e,WS=(e,t)=>e[0]==="~"?e.slice(1):cw(t)+e,HS=(e="",t)=>VS(Ng(cw(e)),Ng(t)),Ng=e=>{try{return decodeURI(e)}catch{return e}},uw={hook:US,searchHook:FS,parser:yS,base:"",ssrPath:void 0,ssrSearch:void 0,hrefs:e=>e},dw=A.createContext(uw),fa=()=>A.useContext(dw),fw={},hw=A.createContext(fw),zS=()=>A.useContext(hw),Yu=e=>{const[t,n]=e.hook(e);return[HS(e.base,t),e0((s,a)=>n(WS(s,e.base),a))]},Gr=()=>Yu(fa()),r0=(e,t,n,s)=>{const{pattern:a,keys:u}=t instanceof RegExp?{keys:!1,pattern:t}:e(t||"*",s),h=a.exec(n)||[],[g,...w]=h;return g!==void 0?[!0,(()=>{const m=u!==!1?Object.fromEntries(u.map((v,b)=>[v,w[b]])):h.groups;let C={...w};return m&&Object.assign(C,m),C})(),...s?[g]:[]]:[!1,null]},i0=e=>r0(fa().parser,e,Gr()[0]),GS=({children:e,...t})=>{var C,v;const n=fa(),s=t.hook?uw:n;let a=s;const[u,h]=((C=t.ssrPath)==null?void 0:C.split("?"))??[];h&&(t.ssrSearch=h,t.ssrPath=u),t.hrefs=t.hrefs??((v=t.hook)==null?void 0:v.hrefs);let g=A.useRef({}),w=g.current,m=w;for(let b in s){const D=b==="base"?s[b]+(t[b]||""):t[b]||s[b];w===m&&D!==m[b]&&(g.current=m={...m}),m[b]=D,D!==s[b]&&(a=m)}return A.createElement(dw.Provider,{value:a,children:e})},Ig=({children:e,component:t},n)=>t?A.createElement(t,{params:n}):typeof e=="function"?e(n):e,XS=e=>{let t=A.useRef(fw),n=t.current;for(const s in e)e[s]!==n[s]&&(n=e);return Object.keys(e).length===0&&(n=e),t.current=n},No=({path:e,nest:t,match:n,...s})=>{const a=fa(),[u]=Yu(a),[h,g,w]=n??r0(a.parser,e,u,t),m=XS({...zS(),...g});if(!h)return null;const C=w?A.createElement(GS,{base:w},Ig(s,m)):Ig(s,m);return A.createElement(hw.Provider,{value:m,children:C})};A.forwardRef((e,t)=>{const n=fa(),[s,a]=Yu(n),{to:u="",href:h=u,onClick:g,asChild:w,children:m,className:C,replace:v,state:b,...D}=e,_=e0(P=>{P.ctrlKey||P.metaKey||P.altKey||P.shiftKey||P.button!==0||(g==null||g(P),P.defaultPrevented||(P.preventDefault(),a(h,e)))}),S=n.hrefs(h[0]==="~"?h.slice(1):n.base+h,n);return w&&A.isValidElement(m)?A.cloneElement(m,{onClick:_,href:S}):A.createElement("a",{...D,onClick:_,href:S,className:C!=null&&C.call?C(s===h):C,children:m,ref:t})});const pw=e=>Array.isArray(e)?e.flatMap(t=>pw(t&&t.type===A.Fragment?t.props.children:t)):[e],YS=({children:e,location:t})=>{const n=fa(),[s]=Yu(n);for(const a of pw(e)){let u=0;if(A.isValidElement(a)&&(u=r0(n.parser,a.props.path,t||s,a.props.nest))[0])return A.cloneElement(a,{match:u})}return null},KS=e=>{const{to:t,href:n=t}=e,[,s]=Gr(),a=e0(()=>s(t||n,e));return aw(()=>{a()},[]),null};var ha=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Vs=typeof window>"u"||"Deno"in globalThis;function er(){}function QS(e,t){return typeof e=="function"?e(t):e}function vh(e){return typeof e=="number"&&e>=0&&e!==1/0}function gw(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Po(e,t){return typeof e=="function"?e(t):e}function yr(e,t){return typeof e=="function"?e(t):e}function Tg(e,t){const{type:n="all",exact:s,fetchStatus:a,predicate:u,queryKey:h,stale:g}=e;if(h){if(s){if(t.queryHash!==s0(h,t.options))return!1}else if(!Al(t.queryKey,h))return!1}if(n!=="all"){const w=t.isActive();if(n==="active"&&!w||n==="inactive"&&w)return!1}return!(typeof g=="boolean"&&t.isStale()!==g||a&&a!==t.state.fetchStatus||u&&!u(t))}function Rg(e,t){const{exact:n,status:s,predicate:a,mutationKey:u}=e;if(u){if(!t.options.mutationKey)return!1;if(n){if(Ws(t.options.mutationKey)!==Ws(u))return!1}else if(!Al(t.options.mutationKey,u))return!1}return!(s&&t.state.status!==s||a&&!a(t))}function s0(e,t){return((t==null?void 0:t.queryKeyHashFn)||Ws)(e)}function Ws(e){return JSON.stringify(e,(t,n)=>Ch(n)?Object.keys(n).sort().reduce((s,a)=>(s[a]=n[a],s),{}):n)}function Al(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?!Object.keys(t).some(n=>!Al(e[n],t[n])):!1}function mw(e,t){if(e===t)return e;const n=_g(e)&&_g(t);if(n||Ch(e)&&Ch(t)){const s=n?e:Object.keys(e),a=s.length,u=n?t:Object.keys(t),h=u.length,g=n?[]:{};let w=0;for(let m=0;m<h;m++){const C=n?m:u[m];(!n&&s.includes(C)||n)&&e[C]===void 0&&t[C]===void 0?(g[C]=void 0,w++):(g[C]=mw(e[C],t[C]),g[C]===e[C]&&e[C]!==void 0&&w++)}return a===h&&w===a?e:g}return t}function xu(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}function _g(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function Ch(e){if(!Og(e))return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(!Og(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function Og(e){return Object.prototype.toString.call(e)==="[object Object]"}function qS(e){return new Promise(t=>{setTimeout(t,e)})}function Eh(e,t,n){return typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?mw(e,t):t}function ZS(e,t,n=0){const s=[...e,t];return n&&s.length>n?s.slice(1):s}function $S(e,t,n=0){const s=[t,...e];return n&&s.length>n?s.slice(0,-1):s}var o0=Symbol();function xw(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===o0?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var Ns,ki,Bo,Pm,JS=(Pm=class extends ha{constructor(){super();Ne(this,Ns);Ne(this,ki);Ne(this,Bo);ge(this,Bo,t=>{if(!Vs&&window.addEventListener){const n=()=>t();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){U(this,ki)||this.setEventListener(U(this,Bo))}onUnsubscribe(){var t;this.hasListeners()||((t=U(this,ki))==null||t.call(this),ge(this,ki,void 0))}setEventListener(t){var n;ge(this,Bo,t),(n=U(this,ki))==null||n.call(this),ge(this,ki,t(s=>{typeof s=="boolean"?this.setFocused(s):this.onFocus()}))}setFocused(t){U(this,Ns)!==t&&(ge(this,Ns,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(n=>{n(t)})}isFocused(){var t;return typeof U(this,Ns)=="boolean"?U(this,Ns):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},Ns=new WeakMap,ki=new WeakMap,Bo=new WeakMap,Pm),a0=new JS,jo,Li,Uo,km,eb=(km=class extends ha{constructor(){super();Ne(this,jo,!0);Ne(this,Li);Ne(this,Uo);ge(this,Uo,t=>{if(!Vs&&window.addEventListener){const n=()=>t(!0),s=()=>t(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",s,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",s)}}})}onSubscribe(){U(this,Li)||this.setEventListener(U(this,Uo))}onUnsubscribe(){var t;this.hasListeners()||((t=U(this,Li))==null||t.call(this),ge(this,Li,void 0))}setEventListener(t){var n;ge(this,Uo,t),(n=U(this,Li))==null||n.call(this),ge(this,Li,t(this.setOnline.bind(this)))}setOnline(t){U(this,jo)!==t&&(ge(this,jo,t),this.listeners.forEach(s=>{s(t)}))}isOnline(){return U(this,jo)}},jo=new WeakMap,Li=new WeakMap,Uo=new WeakMap,km),wu=new eb;function Ah(){let e,t;const n=new Promise((a,u)=>{e=a,t=u});n.status="pending",n.catch(()=>{});function s(a){Object.assign(n,a),delete n.resolve,delete n.reject}return n.resolve=a=>{s({status:"fulfilled",value:a}),e(a)},n.reject=a=>{s({status:"rejected",reason:a}),t(a)},n}function tb(e){return Math.min(1e3*2**e,3e4)}function ww(e){return(e??"online")==="online"?wu.isOnline():!0}var yw=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function df(e){return e instanceof yw}function vw(e){let t=!1,n=0,s=!1,a;const u=Ah(),h=S=>{var P;s||(b(new yw(S)),(P=e.abort)==null||P.call(e))},g=()=>{t=!0},w=()=>{t=!1},m=()=>a0.isFocused()&&(e.networkMode==="always"||wu.isOnline())&&e.canRun(),C=()=>ww(e.networkMode)&&e.canRun(),v=S=>{var P;s||(s=!0,(P=e.onSuccess)==null||P.call(e,S),a==null||a(),u.resolve(S))},b=S=>{var P;s||(s=!0,(P=e.onError)==null||P.call(e,S),a==null||a(),u.reject(S))},D=()=>new Promise(S=>{var P;a=O=>{(s||m())&&S(O)},(P=e.onPause)==null||P.call(e)}).then(()=>{var S;a=void 0,s||(S=e.onContinue)==null||S.call(e)}),_=()=>{if(s)return;let S;const P=n===0?e.initialPromise:void 0;try{S=P??e.fn()}catch(O){S=Promise.reject(O)}Promise.resolve(S).then(v).catch(O=>{var z;if(s)return;const I=e.retry??(Vs?0:3),R=e.retryDelay??tb,F=typeof R=="function"?R(n,O):R,W=I===!0||typeof I=="number"&&n<I||typeof I=="function"&&I(n,O);if(t||!W){b(O);return}n++,(z=e.onFail)==null||z.call(e,n,O),qS(F).then(()=>m()?void 0:D()).then(()=>{t?b(O):_()})})};return{promise:u,cancel:h,continue:()=>(a==null||a(),u),cancelRetry:g,continueRetry:w,canStart:C,start:()=>(C()?_():D().then(_),u)}}function nb(){let e=[],t=0,n=g=>{g()},s=g=>{g()},a=g=>setTimeout(g,0);const u=g=>{t?e.push(g):a(()=>{n(g)})},h=()=>{const g=e;e=[],g.length&&a(()=>{s(()=>{g.forEach(w=>{n(w)})})})};return{batch:g=>{let w;t++;try{w=g()}finally{t--,t||h()}return w},batchCalls:g=>(...w)=>{u(()=>{g(...w)})},schedule:u,setNotifyFunction:g=>{n=g},setBatchNotifyFunction:g=>{s=g},setScheduler:g=>{a=g}}}var Wt=nb(),Is,Lm,Cw=(Lm=class{constructor(){Ne(this,Is)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),vh(this.gcTime)&&ge(this,Is,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Vs?1/0:5*60*1e3))}clearGcTimeout(){U(this,Is)&&(clearTimeout(U(this,Is)),ge(this,Is,void 0))}},Is=new WeakMap,Lm),Vo,Wo,Jn,ln,_l,Ts,mr,Qr,Fm,rb=(Fm=class extends Cw{constructor(t){super();Ne(this,mr);Ne(this,Vo);Ne(this,Wo);Ne(this,Jn);Ne(this,ln);Ne(this,_l);Ne(this,Ts);ge(this,Ts,!1),ge(this,_l,t.defaultOptions),this.setOptions(t.options),this.observers=[],ge(this,Jn,t.cache),this.queryKey=t.queryKey,this.queryHash=t.queryHash,ge(this,Vo,ib(this.options)),this.state=t.state??U(this,Vo),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=U(this,ln))==null?void 0:t.promise}setOptions(t){this.options={...U(this,_l),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&U(this,Jn).remove(this)}setData(t,n){const s=Eh(this.state.data,t,this.options);return ke(this,mr,Qr).call(this,{data:s,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),s}setState(t,n){ke(this,mr,Qr).call(this,{type:"setState",state:t,setStateOptions:n})}cancel(t){var s,a;const n=(s=U(this,ln))==null?void 0:s.promise;return(a=U(this,ln))==null||a.cancel(t),n?n.then(er).catch(er):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(U(this,Vo))}isActive(){return this.observers.some(t=>yr(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===o0||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(t=0){return this.state.isInvalidated||this.state.data===void 0||!gw(this.state.dataUpdatedAt,t)}onFocus(){var n;const t=this.observers.find(s=>s.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(n=U(this,ln))==null||n.continue()}onOnline(){var n;const t=this.observers.find(s=>s.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(n=U(this,ln))==null||n.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),U(this,Jn).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(n=>n!==t),this.observers.length||(U(this,ln)&&(U(this,Ts)?U(this,ln).cancel({revert:!0}):U(this,ln).cancelRetry()),this.scheduleGc()),U(this,Jn).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||ke(this,mr,Qr).call(this,{type:"invalidate"})}fetch(t,n){var w,m,C;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(U(this,ln))return U(this,ln).continueRetry(),U(this,ln).promise}if(t&&this.setOptions(t),!this.options.queryFn){const v=this.observers.find(b=>b.options.queryFn);v&&this.setOptions(v.options)}const s=new AbortController,a=v=>{Object.defineProperty(v,"signal",{enumerable:!0,get:()=>(ge(this,Ts,!0),s.signal)})},u=()=>{const v=xw(this.options,n),b={queryKey:this.queryKey,meta:this.meta};return a(b),ge(this,Ts,!1),this.options.persister?this.options.persister(v,b,this):v(b)},h={fetchOptions:n,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:u};a(h),(w=this.options.behavior)==null||w.onFetch(h,this),ge(this,Wo,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((m=h.fetchOptions)==null?void 0:m.meta))&&ke(this,mr,Qr).call(this,{type:"fetch",meta:(C=h.fetchOptions)==null?void 0:C.meta});const g=v=>{var b,D,_,S;df(v)&&v.silent||ke(this,mr,Qr).call(this,{type:"error",error:v}),df(v)||((D=(b=U(this,Jn).config).onError)==null||D.call(b,v,this),(S=(_=U(this,Jn).config).onSettled)==null||S.call(_,this.state.data,v,this)),this.scheduleGc()};return ge(this,ln,vw({initialPromise:n==null?void 0:n.initialPromise,fn:h.fetchFn,abort:s.abort.bind(s),onSuccess:v=>{var b,D,_,S;if(v===void 0){g(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(v)}catch(P){g(P);return}(D=(b=U(this,Jn).config).onSuccess)==null||D.call(b,v,this),(S=(_=U(this,Jn).config).onSettled)==null||S.call(_,v,this.state.error,this),this.scheduleGc()},onError:g,onFail:(v,b)=>{ke(this,mr,Qr).call(this,{type:"failed",failureCount:v,error:b})},onPause:()=>{ke(this,mr,Qr).call(this,{type:"pause"})},onContinue:()=>{ke(this,mr,Qr).call(this,{type:"continue"})},retry:h.options.retry,retryDelay:h.options.retryDelay,networkMode:h.options.networkMode,canRun:()=>!0})),U(this,ln).start()}},Vo=new WeakMap,Wo=new WeakMap,Jn=new WeakMap,ln=new WeakMap,_l=new WeakMap,Ts=new WeakMap,mr=new WeakSet,Qr=function(t){const n=s=>{switch(t.type){case"failed":return{...s,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...s,fetchStatus:"paused"};case"continue":return{...s,fetchStatus:"fetching"};case"fetch":return{...s,...Ew(s.data,this.options),fetchMeta:t.meta??null};case"success":return{...s,data:t.data,dataUpdateCount:s.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const a=t.error;return df(a)&&a.revert&&U(this,Wo)?{...U(this,Wo),fetchStatus:"idle"}:{...s,error:a,errorUpdateCount:s.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:s.fetchFailureCount+1,fetchFailureReason:a,fetchStatus:"idle",status:"error"};case"invalidate":return{...s,isInvalidated:!0};case"setState":return{...s,...t.state}}};this.state=n(this.state),Wt.batch(()=>{this.observers.forEach(s=>{s.onQueryUpdate()}),U(this,Jn).notify({query:this,type:"updated",action:t})})},Fm);function Ew(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:ww(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function ib(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,n=t!==void 0,s=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?s??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var kr,Bm,sb=(Bm=class extends ha{constructor(t={}){super();Ne(this,kr);this.config=t,ge(this,kr,new Map)}build(t,n,s){const a=n.queryKey,u=n.queryHash??s0(a,n);let h=this.get(u);return h||(h=new rb({cache:this,queryKey:a,queryHash:u,options:t.defaultQueryOptions(n),state:s,defaultOptions:t.getQueryDefaults(a)}),this.add(h)),h}add(t){U(this,kr).has(t.queryHash)||(U(this,kr).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const n=U(this,kr).get(t.queryHash);n&&(t.destroy(),n===t&&U(this,kr).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){Wt.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return U(this,kr).get(t)}getAll(){return[...U(this,kr).values()]}find(t){const n={exact:!0,...t};return this.getAll().find(s=>Tg(n,s))}findAll(t={}){const n=this.getAll();return Object.keys(t).length>0?n.filter(s=>Tg(t,s)):n}notify(t){Wt.batch(()=>{this.listeners.forEach(n=>{n(t)})})}onFocus(){Wt.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){Wt.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},kr=new WeakMap,Bm),Lr,gn,Rs,Fr,Ri,jm,ob=(jm=class extends Cw{constructor(t){super();Ne(this,Fr);Ne(this,Lr);Ne(this,gn);Ne(this,Rs);this.mutationId=t.mutationId,ge(this,gn,t.mutationCache),ge(this,Lr,[]),this.state=t.state||Aw(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){U(this,Lr).includes(t)||(U(this,Lr).push(t),this.clearGcTimeout(),U(this,gn).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){ge(this,Lr,U(this,Lr).filter(n=>n!==t)),this.scheduleGc(),U(this,gn).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){U(this,Lr).length||(this.state.status==="pending"?this.scheduleGc():U(this,gn).remove(this))}continue(){var t;return((t=U(this,Rs))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var a,u,h,g,w,m,C,v,b,D,_,S,P,O,I,R,F,W,z,B;ge(this,Rs,vw({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(G,H)=>{ke(this,Fr,Ri).call(this,{type:"failed",failureCount:G,error:H})},onPause:()=>{ke(this,Fr,Ri).call(this,{type:"pause"})},onContinue:()=>{ke(this,Fr,Ri).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>U(this,gn).canRun(this)}));const n=this.state.status==="pending",s=!U(this,Rs).canStart();try{if(!n){ke(this,Fr,Ri).call(this,{type:"pending",variables:t,isPaused:s}),await((u=(a=U(this,gn).config).onMutate)==null?void 0:u.call(a,t,this));const H=await((g=(h=this.options).onMutate)==null?void 0:g.call(h,t));H!==this.state.context&&ke(this,Fr,Ri).call(this,{type:"pending",context:H,variables:t,isPaused:s})}const G=await U(this,Rs).start();return await((m=(w=U(this,gn).config).onSuccess)==null?void 0:m.call(w,G,t,this.state.context,this)),await((v=(C=this.options).onSuccess)==null?void 0:v.call(C,G,t,this.state.context)),await((D=(b=U(this,gn).config).onSettled)==null?void 0:D.call(b,G,null,this.state.variables,this.state.context,this)),await((S=(_=this.options).onSettled)==null?void 0:S.call(_,G,null,t,this.state.context)),ke(this,Fr,Ri).call(this,{type:"success",data:G}),G}catch(G){try{throw await((O=(P=U(this,gn).config).onError)==null?void 0:O.call(P,G,t,this.state.context,this)),await((R=(I=this.options).onError)==null?void 0:R.call(I,G,t,this.state.context)),await((W=(F=U(this,gn).config).onSettled)==null?void 0:W.call(F,void 0,G,this.state.variables,this.state.context,this)),await((B=(z=this.options).onSettled)==null?void 0:B.call(z,void 0,G,t,this.state.context)),G}finally{ke(this,Fr,Ri).call(this,{type:"error",error:G})}}finally{U(this,gn).runNext(this)}}},Lr=new WeakMap,gn=new WeakMap,Rs=new WeakMap,Fr=new WeakSet,Ri=function(t){const n=s=>{switch(t.type){case"failed":return{...s,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...s,isPaused:!0};case"continue":return{...s,isPaused:!1};case"pending":return{...s,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...s,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...s,data:void 0,error:t.error,failureCount:s.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=n(this.state),Wt.batch(()=>{U(this,Lr).forEach(s=>{s.onMutationUpdate(t)}),U(this,gn).notify({mutation:this,type:"updated",action:t})})},jm);function Aw(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var jn,Ol,Um,ab=(Um=class extends ha{constructor(t={}){super();Ne(this,jn);Ne(this,Ol);this.config=t,ge(this,jn,new Map),ge(this,Ol,Date.now())}build(t,n,s){const a=new ob({mutationCache:this,mutationId:++rc(this,Ol)._,options:t.defaultMutationOptions(n),state:s});return this.add(a),a}add(t){const n=Cc(t),s=U(this,jn).get(n)??[];s.push(t),U(this,jn).set(n,s),this.notify({type:"added",mutation:t})}remove(t){var s;const n=Cc(t);if(U(this,jn).has(n)){const a=(s=U(this,jn).get(n))==null?void 0:s.filter(u=>u!==t);a&&(a.length===0?U(this,jn).delete(n):U(this,jn).set(n,a))}this.notify({type:"removed",mutation:t})}canRun(t){var s;const n=(s=U(this,jn).get(Cc(t)))==null?void 0:s.find(a=>a.state.status==="pending");return!n||n===t}runNext(t){var s;const n=(s=U(this,jn).get(Cc(t)))==null?void 0:s.find(a=>a!==t&&a.state.isPaused);return(n==null?void 0:n.continue())??Promise.resolve()}clear(){Wt.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}getAll(){return[...U(this,jn).values()].flat()}find(t){const n={exact:!0,...t};return this.getAll().find(s=>Rg(n,s))}findAll(t={}){return this.getAll().filter(n=>Rg(t,n))}notify(t){Wt.batch(()=>{this.listeners.forEach(n=>{n(t)})})}resumePausedMutations(){const t=this.getAll().filter(n=>n.state.isPaused);return Wt.batch(()=>Promise.all(t.map(n=>n.continue().catch(er))))}},jn=new WeakMap,Ol=new WeakMap,Um);function Cc(e){var t;return((t=e.options.scope)==null?void 0:t.id)??String(e.mutationId)}function Mg(e){return{onFetch:(t,n)=>{var C,v,b,D,_;const s=t.options,a=(b=(v=(C=t.fetchOptions)==null?void 0:C.meta)==null?void 0:v.fetchMore)==null?void 0:b.direction,u=((D=t.state.data)==null?void 0:D.pages)||[],h=((_=t.state.data)==null?void 0:_.pageParams)||[];let g={pages:[],pageParams:[]},w=0;const m=async()=>{let S=!1;const P=R=>{Object.defineProperty(R,"signal",{enumerable:!0,get:()=>(t.signal.aborted?S=!0:t.signal.addEventListener("abort",()=>{S=!0}),t.signal)})},O=xw(t.options,t.fetchOptions),I=async(R,F,W)=>{if(S)return Promise.reject();if(F==null&&R.pages.length)return Promise.resolve(R);const z={queryKey:t.queryKey,pageParam:F,direction:W?"backward":"forward",meta:t.options.meta};P(z);const B=await O(z),{maxPages:G}=t.options,H=W?$S:ZS;return{pages:H(R.pages,B,G),pageParams:H(R.pageParams,F,G)}};if(a&&u.length){const R=a==="backward",F=R?lb:Dg,W={pages:u,pageParams:h},z=F(s,W);g=await I(W,z,R)}else{const R=e??u.length;do{const F=w===0?h[0]??s.initialPageParam:Dg(s,g);if(w>0&&F==null)break;g=await I(g,F),w++}while(w<R)}return g};t.options.persister?t.fetchFn=()=>{var S,P;return(P=(S=t.options).persister)==null?void 0:P.call(S,m,{queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n)}:t.fetchFn=m}}}function Dg(e,{pages:t,pageParams:n}){const s=t.length-1;return t.length>0?e.getNextPageParam(t[s],t,n[s],n):void 0}function lb(e,{pages:t,pageParams:n}){var s;return t.length>0?(s=e.getPreviousPageParam)==null?void 0:s.call(e,t[0],t,n[0],n):void 0}var Ot,Fi,Bi,Ho,zo,ji,Go,Xo,Vm,cb=(Vm=class{constructor(e={}){Ne(this,Ot);Ne(this,Fi);Ne(this,Bi);Ne(this,Ho);Ne(this,zo);Ne(this,ji);Ne(this,Go);Ne(this,Xo);ge(this,Ot,e.queryCache||new sb),ge(this,Fi,e.mutationCache||new ab),ge(this,Bi,e.defaultOptions||{}),ge(this,Ho,new Map),ge(this,zo,new Map),ge(this,ji,0)}mount(){rc(this,ji)._++,U(this,ji)===1&&(ge(this,Go,a0.subscribe(async e=>{e&&(await this.resumePausedMutations(),U(this,Ot).onFocus())})),ge(this,Xo,wu.subscribe(async e=>{e&&(await this.resumePausedMutations(),U(this,Ot).onOnline())})))}unmount(){var e,t;rc(this,ji)._--,U(this,ji)===0&&((e=U(this,Go))==null||e.call(this),ge(this,Go,void 0),(t=U(this,Xo))==null||t.call(this),ge(this,Xo,void 0))}isFetching(e){return U(this,Ot).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return U(this,Fi).findAll({...e,status:"pending"}).length}getQueryData(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=U(this,Ot).get(t.queryHash))==null?void 0:n.state.data}ensureQueryData(e){const t=this.getQueryData(e.queryKey);if(t===void 0)return this.fetchQuery(e);{const n=this.defaultQueryOptions(e),s=U(this,Ot).build(this,n);return e.revalidateIfStale&&s.isStaleByTime(Po(n.staleTime,s))&&this.prefetchQuery(n),Promise.resolve(t)}}getQueriesData(e){return U(this,Ot).findAll(e).map(({queryKey:t,state:n})=>{const s=n.data;return[t,s]})}setQueryData(e,t,n){const s=this.defaultQueryOptions({queryKey:e}),a=U(this,Ot).get(s.queryHash),u=a==null?void 0:a.state.data,h=QS(t,u);if(h!==void 0)return U(this,Ot).build(this,s).setData(h,{...n,manual:!0})}setQueriesData(e,t,n){return Wt.batch(()=>U(this,Ot).findAll(e).map(({queryKey:s})=>[s,this.setQueryData(s,t,n)]))}getQueryState(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=U(this,Ot).get(t.queryHash))==null?void 0:n.state}removeQueries(e){const t=U(this,Ot);Wt.batch(()=>{t.findAll(e).forEach(n=>{t.remove(n)})})}resetQueries(e,t){const n=U(this,Ot),s={type:"active",...e};return Wt.batch(()=>(n.findAll(e).forEach(a=>{a.reset()}),this.refetchQueries(s,t)))}cancelQueries(e={},t={}){const n={revert:!0,...t},s=Wt.batch(()=>U(this,Ot).findAll(e).map(a=>a.cancel(n)));return Promise.all(s).then(er).catch(er)}invalidateQueries(e={},t={}){return Wt.batch(()=>{if(U(this,Ot).findAll(e).forEach(s=>{s.invalidate()}),e.refetchType==="none")return Promise.resolve();const n={...e,type:e.refetchType??e.type??"active"};return this.refetchQueries(n,t)})}refetchQueries(e={},t){const n={...t,cancelRefetch:(t==null?void 0:t.cancelRefetch)??!0},s=Wt.batch(()=>U(this,Ot).findAll(e).filter(a=>!a.isDisabled()).map(a=>{let u=a.fetch(void 0,n);return n.throwOnError||(u=u.catch(er)),a.state.fetchStatus==="paused"?Promise.resolve():u}));return Promise.all(s).then(er)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const n=U(this,Ot).build(this,t);return n.isStaleByTime(Po(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(er).catch(er)}fetchInfiniteQuery(e){return e.behavior=Mg(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(er).catch(er)}ensureInfiniteQueryData(e){return e.behavior=Mg(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return wu.isOnline()?U(this,Fi).resumePausedMutations():Promise.resolve()}getQueryCache(){return U(this,Ot)}getMutationCache(){return U(this,Fi)}getDefaultOptions(){return U(this,Bi)}setDefaultOptions(e){ge(this,Bi,e)}setQueryDefaults(e,t){U(this,Ho).set(Ws(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...U(this,Ho).values()];let n={};return t.forEach(s=>{Al(e,s.queryKey)&&(n={...n,...s.defaultOptions})}),n}setMutationDefaults(e,t){U(this,zo).set(Ws(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...U(this,zo).values()];let n={};return t.forEach(s=>{Al(e,s.mutationKey)&&(n={...n,...s.defaultOptions})}),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...U(this,Bi).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=s0(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.enabled!==!0&&t.queryFn===o0&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...U(this,Bi).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){U(this,Ot).clear(),U(this,Fi).clear()}},Ot=new WeakMap,Fi=new WeakMap,Bi=new WeakMap,Ho=new WeakMap,zo=new WeakMap,ji=new WeakMap,Go=new WeakMap,Xo=new WeakMap,Vm),Rn,ze,Ml,mn,_s,Yo,Ui,Br,Dl,Ko,Qo,Os,Ms,Vi,qo,$e,Xa,Sh,bh,Nh,Ih,Th,Rh,_h,Sw,Wm,ub=(Wm=class extends ha{constructor(t,n){super();Ne(this,$e);Ne(this,Rn);Ne(this,ze);Ne(this,Ml);Ne(this,mn);Ne(this,_s);Ne(this,Yo);Ne(this,Ui);Ne(this,Br);Ne(this,Dl);Ne(this,Ko);Ne(this,Qo);Ne(this,Os);Ne(this,Ms);Ne(this,Vi);Ne(this,qo,new Set);this.options=n,ge(this,Rn,t),ge(this,Br,null),ge(this,Ui,Ah()),this.options.experimental_prefetchInRender||U(this,Ui).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(n)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(U(this,ze).addObserver(this),Pg(U(this,ze),this.options)?ke(this,$e,Xa).call(this):this.updateResult(),ke(this,$e,Ih).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Oh(U(this,ze),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Oh(U(this,ze),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,ke(this,$e,Th).call(this),ke(this,$e,Rh).call(this),U(this,ze).removeObserver(this)}setOptions(t,n){const s=this.options,a=U(this,ze);if(this.options=U(this,Rn).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof yr(this.options.enabled,U(this,ze))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");ke(this,$e,_h).call(this),U(this,ze).setOptions(this.options),s._defaulted&&!xu(this.options,s)&&U(this,Rn).getQueryCache().notify({type:"observerOptionsUpdated",query:U(this,ze),observer:this});const u=this.hasListeners();u&&kg(U(this,ze),a,this.options,s)&&ke(this,$e,Xa).call(this),this.updateResult(n),u&&(U(this,ze)!==a||yr(this.options.enabled,U(this,ze))!==yr(s.enabled,U(this,ze))||Po(this.options.staleTime,U(this,ze))!==Po(s.staleTime,U(this,ze)))&&ke(this,$e,Sh).call(this);const h=ke(this,$e,bh).call(this);u&&(U(this,ze)!==a||yr(this.options.enabled,U(this,ze))!==yr(s.enabled,U(this,ze))||h!==U(this,Vi))&&ke(this,$e,Nh).call(this,h)}getOptimisticResult(t){const n=U(this,Rn).getQueryCache().build(U(this,Rn),t),s=this.createResult(n,t);return fb(this,s)&&(ge(this,mn,s),ge(this,Yo,this.options),ge(this,_s,U(this,ze).state)),s}getCurrentResult(){return U(this,mn)}trackResult(t,n){const s={};return Object.keys(t).forEach(a=>{Object.defineProperty(s,a,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(a),n==null||n(a),t[a])})}),s}trackProp(t){U(this,qo).add(t)}getCurrentQuery(){return U(this,ze)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const n=U(this,Rn).defaultQueryOptions(t),s=U(this,Rn).getQueryCache().build(U(this,Rn),n);return s.fetch().then(()=>this.createResult(s,n))}fetch(t){return ke(this,$e,Xa).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),U(this,mn)))}createResult(t,n){var G;const s=U(this,ze),a=this.options,u=U(this,mn),h=U(this,_s),g=U(this,Yo),m=t!==s?t.state:U(this,Ml),{state:C}=t;let v={...C},b=!1,D;if(n._optimisticResults){const H=this.hasListeners(),re=!H&&Pg(t,n),de=H&&kg(t,s,n,a);(re||de)&&(v={...v,...Ew(C.data,t.options)}),n._optimisticResults==="isRestoring"&&(v.fetchStatus="idle")}let{error:_,errorUpdatedAt:S,status:P}=v;if(n.select&&v.data!==void 0)if(u&&v.data===(h==null?void 0:h.data)&&n.select===U(this,Dl))D=U(this,Ko);else try{ge(this,Dl,n.select),D=n.select(v.data),D=Eh(u==null?void 0:u.data,D,n),ge(this,Ko,D),ge(this,Br,null)}catch(H){ge(this,Br,H)}else D=v.data;if(n.placeholderData!==void 0&&D===void 0&&P==="pending"){let H;if(u!=null&&u.isPlaceholderData&&n.placeholderData===(g==null?void 0:g.placeholderData))H=u.data;else if(H=typeof n.placeholderData=="function"?n.placeholderData((G=U(this,Qo))==null?void 0:G.state.data,U(this,Qo)):n.placeholderData,n.select&&H!==void 0)try{H=n.select(H),ge(this,Br,null)}catch(re){ge(this,Br,re)}H!==void 0&&(P="success",D=Eh(u==null?void 0:u.data,H,n),b=!0)}U(this,Br)&&(_=U(this,Br),D=U(this,Ko),S=Date.now(),P="error");const O=v.fetchStatus==="fetching",I=P==="pending",R=P==="error",F=I&&O,W=D!==void 0,B={status:P,fetchStatus:v.fetchStatus,isPending:I,isSuccess:P==="success",isError:R,isInitialLoading:F,isLoading:F,data:D,dataUpdatedAt:v.dataUpdatedAt,error:_,errorUpdatedAt:S,failureCount:v.fetchFailureCount,failureReason:v.fetchFailureReason,errorUpdateCount:v.errorUpdateCount,isFetched:v.dataUpdateCount>0||v.errorUpdateCount>0,isFetchedAfterMount:v.dataUpdateCount>m.dataUpdateCount||v.errorUpdateCount>m.errorUpdateCount,isFetching:O,isRefetching:O&&!I,isLoadingError:R&&!W,isPaused:v.fetchStatus==="paused",isPlaceholderData:b,isRefetchError:R&&W,isStale:l0(t,n),refetch:this.refetch,promise:U(this,Ui)};if(this.options.experimental_prefetchInRender){const H=J=>{B.status==="error"?J.reject(B.error):B.data!==void 0&&J.resolve(B.data)},re=()=>{const J=ge(this,Ui,B.promise=Ah());H(J)},de=U(this,Ui);switch(de.status){case"pending":t.queryHash===s.queryHash&&H(de);break;case"fulfilled":(B.status==="error"||B.data!==de.value)&&re();break;case"rejected":(B.status!=="error"||B.error!==de.reason)&&re();break}}return B}updateResult(t){const n=U(this,mn),s=this.createResult(U(this,ze),this.options);if(ge(this,_s,U(this,ze).state),ge(this,Yo,this.options),U(this,_s).data!==void 0&&ge(this,Qo,U(this,ze)),xu(s,n))return;ge(this,mn,s);const a={},u=()=>{if(!n)return!0;const{notifyOnChangeProps:h}=this.options,g=typeof h=="function"?h():h;if(g==="all"||!g&&!U(this,qo).size)return!0;const w=new Set(g??U(this,qo));return this.options.throwOnError&&w.add("error"),Object.keys(U(this,mn)).some(m=>{const C=m;return U(this,mn)[C]!==n[C]&&w.has(C)})};(t==null?void 0:t.listeners)!==!1&&u()&&(a.listeners=!0),ke(this,$e,Sw).call(this,{...a,...t})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&ke(this,$e,Ih).call(this)}},Rn=new WeakMap,ze=new WeakMap,Ml=new WeakMap,mn=new WeakMap,_s=new WeakMap,Yo=new WeakMap,Ui=new WeakMap,Br=new WeakMap,Dl=new WeakMap,Ko=new WeakMap,Qo=new WeakMap,Os=new WeakMap,Ms=new WeakMap,Vi=new WeakMap,qo=new WeakMap,$e=new WeakSet,Xa=function(t){ke(this,$e,_h).call(this);let n=U(this,ze).fetch(this.options,t);return t!=null&&t.throwOnError||(n=n.catch(er)),n},Sh=function(){ke(this,$e,Th).call(this);const t=Po(this.options.staleTime,U(this,ze));if(Vs||U(this,mn).isStale||!vh(t))return;const s=gw(U(this,mn).dataUpdatedAt,t)+1;ge(this,Os,setTimeout(()=>{U(this,mn).isStale||this.updateResult()},s))},bh=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(U(this,ze)):this.options.refetchInterval)??!1},Nh=function(t){ke(this,$e,Rh).call(this),ge(this,Vi,t),!(Vs||yr(this.options.enabled,U(this,ze))===!1||!vh(U(this,Vi))||U(this,Vi)===0)&&ge(this,Ms,setInterval(()=>{(this.options.refetchIntervalInBackground||a0.isFocused())&&ke(this,$e,Xa).call(this)},U(this,Vi)))},Ih=function(){ke(this,$e,Sh).call(this),ke(this,$e,Nh).call(this,ke(this,$e,bh).call(this))},Th=function(){U(this,Os)&&(clearTimeout(U(this,Os)),ge(this,Os,void 0))},Rh=function(){U(this,Ms)&&(clearInterval(U(this,Ms)),ge(this,Ms,void 0))},_h=function(){const t=U(this,Rn).getQueryCache().build(U(this,Rn),this.options);if(t===U(this,ze))return;const n=U(this,ze);ge(this,ze,t),ge(this,Ml,t.state),this.hasListeners()&&(n==null||n.removeObserver(this),t.addObserver(this))},Sw=function(t){Wt.batch(()=>{t.listeners&&this.listeners.forEach(n=>{n(U(this,mn))}),U(this,Rn).getQueryCache().notify({query:U(this,ze),type:"observerResultsUpdated"})})},Wm);function db(e,t){return yr(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function Pg(e,t){return db(e,t)||e.state.data!==void 0&&Oh(e,t,t.refetchOnMount)}function Oh(e,t,n){if(yr(t.enabled,e)!==!1){const s=typeof n=="function"?n(e):n;return s==="always"||s!==!1&&l0(e,t)}return!1}function kg(e,t,n,s){return(e!==t||yr(s.enabled,e)===!1)&&(!n.suspense||e.state.status!=="error")&&l0(e,n)}function l0(e,t){return yr(t.enabled,e)!==!1&&e.isStaleByTime(Po(t.staleTime,e))}function fb(e,t){return!xu(e.getCurrentResult(),t)}var Wi,Hi,_n,Jr,oi,Vc,Mh,Hm,hb=(Hm=class extends ha{constructor(n,s){super();Ne(this,oi);Ne(this,Wi);Ne(this,Hi);Ne(this,_n);Ne(this,Jr);ge(this,Wi,n),this.setOptions(s),this.bindMethods(),ke(this,oi,Vc).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(n){var a;const s=this.options;this.options=U(this,Wi).defaultMutationOptions(n),xu(this.options,s)||U(this,Wi).getMutationCache().notify({type:"observerOptionsUpdated",mutation:U(this,_n),observer:this}),s!=null&&s.mutationKey&&this.options.mutationKey&&Ws(s.mutationKey)!==Ws(this.options.mutationKey)?this.reset():((a=U(this,_n))==null?void 0:a.state.status)==="pending"&&U(this,_n).setOptions(this.options)}onUnsubscribe(){var n;this.hasListeners()||(n=U(this,_n))==null||n.removeObserver(this)}onMutationUpdate(n){ke(this,oi,Vc).call(this),ke(this,oi,Mh).call(this,n)}getCurrentResult(){return U(this,Hi)}reset(){var n;(n=U(this,_n))==null||n.removeObserver(this),ge(this,_n,void 0),ke(this,oi,Vc).call(this),ke(this,oi,Mh).call(this)}mutate(n,s){var a;return ge(this,Jr,s),(a=U(this,_n))==null||a.removeObserver(this),ge(this,_n,U(this,Wi).getMutationCache().build(U(this,Wi),this.options)),U(this,_n).addObserver(this),U(this,_n).execute(n)}},Wi=new WeakMap,Hi=new WeakMap,_n=new WeakMap,Jr=new WeakMap,oi=new WeakSet,Vc=function(){var s;const n=((s=U(this,_n))==null?void 0:s.state)??Aw();ge(this,Hi,{...n,isPending:n.status==="pending",isSuccess:n.status==="success",isError:n.status==="error",isIdle:n.status==="idle",mutate:this.mutate,reset:this.reset})},Mh=function(n){Wt.batch(()=>{var s,a,u,h,g,w,m,C;if(U(this,Jr)&&this.hasListeners()){const v=U(this,Hi).variables,b=U(this,Hi).context;(n==null?void 0:n.type)==="success"?((a=(s=U(this,Jr)).onSuccess)==null||a.call(s,n.data,v,b),(h=(u=U(this,Jr)).onSettled)==null||h.call(u,n.data,null,v,b)):(n==null?void 0:n.type)==="error"&&((w=(g=U(this,Jr)).onError)==null||w.call(g,n.error,v,b),(C=(m=U(this,Jr)).onSettled)==null||C.call(m,void 0,n.error,v,b))}this.listeners.forEach(v=>{v(U(this,Hi))})})},Hm),bw=A.createContext(void 0),Nw=e=>{const t=A.useContext(bw);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},pb=({client:e,children:t})=>(A.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),x.jsx(bw.Provider,{value:e,children:t})),Iw=A.createContext(!1),gb=()=>A.useContext(Iw);Iw.Provider;function mb(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var xb=A.createContext(mb()),wb=()=>A.useContext(xb);function Tw(e,t){return typeof e=="function"?e(...t):!!e}function Dh(){}var yb=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},vb=e=>{A.useEffect(()=>{e.clearReset()},[e])},Cb=({result:e,errorResetBoundary:t,throwOnError:n,query:s})=>e.isError&&!t.isReset()&&!e.isFetching&&s&&Tw(n,[e.error,s]),Eb=e=>{e.suspense&&(e.staleTime===void 0&&(e.staleTime=1e3),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3)))},Ab=(e,t)=>e.isLoading&&e.isFetching&&!t,Sb=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,Lg=(e,t,n)=>t.fetchOptimistic(e).catch(()=>{n.clearReset()});function bb(e,t,n){var C,v,b,D,_;const s=Nw(),a=gb(),u=wb(),h=s.defaultQueryOptions(e);(v=(C=s.getDefaultOptions().queries)==null?void 0:C._experimental_beforeQuery)==null||v.call(C,h),h._optimisticResults=a?"isRestoring":"optimistic",Eb(h),yb(h,u),vb(u);const g=!s.getQueryCache().get(h.queryHash),[w]=A.useState(()=>new t(s,h)),m=w.getOptimisticResult(h);if(A.useSyncExternalStore(A.useCallback(S=>{const P=a?Dh:w.subscribe(Wt.batchCalls(S));return w.updateResult(),P},[w,a]),()=>w.getCurrentResult(),()=>w.getCurrentResult()),A.useEffect(()=>{w.setOptions(h,{listeners:!1})},[h,w]),Sb(h,m))throw Lg(h,w,u);if(Cb({result:m,errorResetBoundary:u,throwOnError:h.throwOnError,query:s.getQueryCache().get(h.queryHash)}))throw m.error;if((D=(b=s.getDefaultOptions().queries)==null?void 0:b._experimental_afterQuery)==null||D.call(b,h,m),h.experimental_prefetchInRender&&!Vs&&Ab(m,a)){const S=g?Lg(h,w,u):(_=s.getQueryCache().get(h.queryHash))==null?void 0:_.promise;S==null||S.catch(Dh).finally(()=>{w.updateResult()})}return h.notifyOnChangeProps?m:w.trackResult(m)}function Ar(e,t){return bb(e,ub)}function ri(e,t){const n=Nw(),[s]=A.useState(()=>new hb(n,e));A.useEffect(()=>{s.setOptions(e)},[s,e]);const a=A.useSyncExternalStore(A.useCallback(h=>s.subscribe(Wt.batchCalls(h)),[s]),()=>s.getCurrentResult(),()=>s.getCurrentResult()),u=A.useCallback((h,g)=>{s.mutate(h,g).catch(Dh)},[s]);if(a.error&&Tw(s.options.throwOnError,[a.error]))throw a.error;return{...a,mutate:u,mutateAsync:a.mutate}}async function Rw(e){if(!e.ok){const t=await e.text()||e.statusText;throw new Error(`${e.status}: ${t}`)}}async function ii(e,t,n){const s=await fetch(t,{method:e,headers:n?{"Content-Type":"application/json"}:{},body:n?JSON.stringify(n):void 0,credentials:"include"});return await Rw(s),s}const Nb=({on401:e})=>async({queryKey:t})=>{const n=await fetch(t.join("/"),{credentials:"include"});return e==="returnNull"&&n.status===401?null:(await Rw(n),await n.json())},ir=new cb({defaultOptions:{queries:{queryFn:Nb({on401:"throw"}),refetchInterval:!1,refetchOnWindowFocus:!1,staleTime:1/0,retry:!1},mutations:{retry:!1}}}),Ib=1,Tb=1e6;let ff=0;function Rb(){return ff=(ff+1)%Number.MAX_SAFE_INTEGER,ff.toString()}const hf=new Map,Fg=e=>{if(hf.has(e))return;const t=setTimeout(()=>{hf.delete(e),il({type:"REMOVE_TOAST",toastId:e})},Tb);hf.set(e,t)},_b=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,Ib)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(n=>n.id===t.toast.id?{...n,...t.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=t;return n?Fg(n):e.toasts.forEach(s=>{Fg(s.id)}),{...e,toasts:e.toasts.map(s=>s.id===n||n===void 0?{...s,open:!1}:s)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(n=>n.id!==t.toastId)}}},Wc=[];let Hc={toasts:[]};function il(e){Hc=_b(Hc,e),Wc.forEach(t=>{t(Hc)})}function Ob({...e}){const t=Rb(),n=a=>il({type:"UPDATE_TOAST",toast:{...a,id:t}}),s=()=>il({type:"DISMISS_TOAST",toastId:t});return il({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:a=>{a||s()}}}),{id:t,dismiss:s,update:n}}function qs(){const[e,t]=A.useState(Hc);return A.useEffect(()=>(Wc.push(t),()=>{const n=Wc.indexOf(t);n>-1&&Wc.splice(n,1)}),[e]),{...e,toast:Ob,dismiss:n=>il({type:"DISMISS_TOAST",toastId:n})}}function pe(e,t,{checkForDefaultPrevented:n=!0}={}){return function(a){if(e==null||e(a),n===!1||!a.defaultPrevented)return t==null?void 0:t(a)}}function Bg(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function Ku(...e){return t=>{let n=!1;const s=e.map(a=>{const u=Bg(a,t);return!n&&typeof u=="function"&&(n=!0),u});if(n)return()=>{for(let a=0;a<s.length;a++){const u=s[a];typeof u=="function"?u():Bg(e[a],null)}}}}function st(...e){return A.useCallback(Ku(...e),e)}function gi(e,t=[]){let n=[];function s(u,h){const g=A.createContext(h),w=n.length;n=[...n,h];const m=v=>{var O;const{scope:b,children:D,..._}=v,S=((O=b==null?void 0:b[e])==null?void 0:O[w])||g,P=A.useMemo(()=>_,Object.values(_));return x.jsx(S.Provider,{value:P,children:D})};m.displayName=u+"Provider";function C(v,b){var S;const D=((S=b==null?void 0:b[e])==null?void 0:S[w])||g,_=A.useContext(D);if(_)return _;if(h!==void 0)return h;throw new Error(`\`${v}\` must be used within \`${u}\``)}return[m,C]}const a=()=>{const u=n.map(h=>A.createContext(h));return function(g){const w=(g==null?void 0:g[e])||u;return A.useMemo(()=>({[`__scope${e}`]:{...g,[e]:w}}),[g,w])}};return a.scopeName=e,[s,Mb(a,...t)]}function Mb(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const s=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(u){const h=s.reduce((g,{useScope:w,scopeName:m})=>{const v=w(u)[`__scope${m}`];return{...g,...v}},{});return A.useMemo(()=>({[`__scope${t.scopeName}`]:h}),[h])}};return n.scopeName=t.scopeName,n}function sa(e){const t=Pb(e),n=A.forwardRef((s,a)=>{const{children:u,...h}=s,g=A.Children.toArray(u),w=g.find(Lb);if(w){const m=w.props.children,C=g.map(v=>v===w?A.Children.count(m)>1?A.Children.only(null):A.isValidElement(m)?m.props.children:null:v);return x.jsx(t,{...h,ref:a,children:A.isValidElement(m)?A.cloneElement(m,void 0,C):null})}return x.jsx(t,{...h,ref:a,children:u})});return n.displayName=`${e}.Slot`,n}var Db=sa("Slot");function Pb(e){const t=A.forwardRef((n,s)=>{const{children:a,...u}=n;if(A.isValidElement(a)){const h=Bb(a),g=Fb(u,a.props);return a.type!==A.Fragment&&(g.ref=s?Ku(s,h):h),A.cloneElement(a,g)}return A.Children.count(a)>1?A.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var _w=Symbol("radix.slottable");function kb(e){const t=({children:n})=>x.jsx(x.Fragment,{children:n});return t.displayName=`${e}.Slottable`,t.__radixId=_w,t}function Lb(e){return A.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===_w}function Fb(e,t){const n={...t};for(const s in t){const a=e[s],u=t[s];/^on[A-Z]/.test(s)?a&&u?n[s]=(...g)=>{u(...g),a(...g)}:a&&(n[s]=a):s==="style"?n[s]={...a,...u}:s==="className"&&(n[s]=[a,u].filter(Boolean).join(" "))}return{...e,...n}}function Bb(e){var s,a;let t=(s=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function Qu(e){const t=e+"CollectionProvider",[n,s]=gi(t),[a,u]=n(t,{collectionRef:{current:null},itemMap:new Map}),h=S=>{const{scope:P,children:O}=S,I=Ti.useRef(null),R=Ti.useRef(new Map).current;return x.jsx(a,{scope:P,itemMap:R,collectionRef:I,children:O})};h.displayName=t;const g=e+"CollectionSlot",w=sa(g),m=Ti.forwardRef((S,P)=>{const{scope:O,children:I}=S,R=u(g,O),F=st(P,R.collectionRef);return x.jsx(w,{ref:F,children:I})});m.displayName=g;const C=e+"CollectionItemSlot",v="data-radix-collection-item",b=sa(C),D=Ti.forwardRef((S,P)=>{const{scope:O,children:I,...R}=S,F=Ti.useRef(null),W=st(P,F),z=u(C,O);return Ti.useEffect(()=>(z.itemMap.set(F,{ref:F,...R}),()=>void z.itemMap.delete(F))),x.jsx(b,{[v]:"",ref:W,children:I})});D.displayName=C;function _(S){const P=u(e+"CollectionConsumer",S);return Ti.useCallback(()=>{const I=P.collectionRef.current;if(!I)return[];const R=Array.from(I.querySelectorAll(`[${v}]`));return Array.from(P.itemMap.values()).sort((z,B)=>R.indexOf(z.ref.current)-R.indexOf(B.ref.current))},[P.collectionRef,P.itemMap])}return[{Provider:h,Slot:m,ItemSlot:D},_,s]}var jb=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Le=jb.reduce((e,t)=>{const n=sa(`Primitive.${t}`),s=A.forwardRef((a,u)=>{const{asChild:h,...g}=a,w=h?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),x.jsx(w,{...g,ref:u})});return s.displayName=`Primitive.${t}`,{...e,[t]:s}},{});function c0(e,t){e&&Qs.flushSync(()=>e.dispatchEvent(t))}function dn(e){const t=A.useRef(e);return A.useEffect(()=>{t.current=e}),A.useMemo(()=>(...n)=>{var s;return(s=t.current)==null?void 0:s.call(t,...n)},[])}function Ub(e,t=globalThis==null?void 0:globalThis.document){const n=dn(e);A.useEffect(()=>{const s=a=>{a.key==="Escape"&&n(a)};return t.addEventListener("keydown",s,{capture:!0}),()=>t.removeEventListener("keydown",s,{capture:!0})},[n,t])}var Vb="DismissableLayer",Ph="dismissableLayer.update",Wb="dismissableLayer.pointerDownOutside",Hb="dismissableLayer.focusOutside",jg,Ow=A.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),jl=A.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:s,onPointerDownOutside:a,onFocusOutside:u,onInteractOutside:h,onDismiss:g,...w}=e,m=A.useContext(Ow),[C,v]=A.useState(null),b=(C==null?void 0:C.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,D]=A.useState({}),_=st(t,B=>v(B)),S=Array.from(m.layers),[P]=[...m.layersWithOutsidePointerEventsDisabled].slice(-1),O=S.indexOf(P),I=C?S.indexOf(C):-1,R=m.layersWithOutsidePointerEventsDisabled.size>0,F=I>=O,W=Gb(B=>{const G=B.target,H=[...m.branches].some(re=>re.contains(G));!F||H||(a==null||a(B),h==null||h(B),B.defaultPrevented||g==null||g())},b),z=Xb(B=>{const G=B.target;[...m.branches].some(re=>re.contains(G))||(u==null||u(B),h==null||h(B),B.defaultPrevented||g==null||g())},b);return Ub(B=>{I===m.layers.size-1&&(s==null||s(B),!B.defaultPrevented&&g&&(B.preventDefault(),g()))},b),A.useEffect(()=>{if(C)return n&&(m.layersWithOutsidePointerEventsDisabled.size===0&&(jg=b.body.style.pointerEvents,b.body.style.pointerEvents="none"),m.layersWithOutsidePointerEventsDisabled.add(C)),m.layers.add(C),Ug(),()=>{n&&m.layersWithOutsidePointerEventsDisabled.size===1&&(b.body.style.pointerEvents=jg)}},[C,b,n,m]),A.useEffect(()=>()=>{C&&(m.layers.delete(C),m.layersWithOutsidePointerEventsDisabled.delete(C),Ug())},[C,m]),A.useEffect(()=>{const B=()=>D({});return document.addEventListener(Ph,B),()=>document.removeEventListener(Ph,B)},[]),x.jsx(Le.div,{...w,ref:_,style:{pointerEvents:R?F?"auto":"none":void 0,...e.style},onFocusCapture:pe(e.onFocusCapture,z.onFocusCapture),onBlurCapture:pe(e.onBlurCapture,z.onBlurCapture),onPointerDownCapture:pe(e.onPointerDownCapture,W.onPointerDownCapture)})});jl.displayName=Vb;var zb="DismissableLayerBranch",Mw=A.forwardRef((e,t)=>{const n=A.useContext(Ow),s=A.useRef(null),a=st(t,s);return A.useEffect(()=>{const u=s.current;if(u)return n.branches.add(u),()=>{n.branches.delete(u)}},[n.branches]),x.jsx(Le.div,{...e,ref:a})});Mw.displayName=zb;function Gb(e,t=globalThis==null?void 0:globalThis.document){const n=dn(e),s=A.useRef(!1),a=A.useRef(()=>{});return A.useEffect(()=>{const u=g=>{if(g.target&&!s.current){let w=function(){Dw(Wb,n,m,{discrete:!0})};const m={originalEvent:g};g.pointerType==="touch"?(t.removeEventListener("click",a.current),a.current=w,t.addEventListener("click",a.current,{once:!0})):w()}else t.removeEventListener("click",a.current);s.current=!1},h=window.setTimeout(()=>{t.addEventListener("pointerdown",u)},0);return()=>{window.clearTimeout(h),t.removeEventListener("pointerdown",u),t.removeEventListener("click",a.current)}},[t,n]),{onPointerDownCapture:()=>s.current=!0}}function Xb(e,t=globalThis==null?void 0:globalThis.document){const n=dn(e),s=A.useRef(!1);return A.useEffect(()=>{const a=u=>{u.target&&!s.current&&Dw(Hb,n,{originalEvent:u},{discrete:!1})};return t.addEventListener("focusin",a),()=>t.removeEventListener("focusin",a)},[t,n]),{onFocusCapture:()=>s.current=!0,onBlurCapture:()=>s.current=!1}}function Ug(){const e=new CustomEvent(Ph);document.dispatchEvent(e)}function Dw(e,t,n,{discrete:s}){const a=n.originalEvent.target,u=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&a.addEventListener(e,t,{once:!0}),s?c0(a,u):a.dispatchEvent(u)}var Yb=jl,Kb=Mw,fn=globalThis!=null&&globalThis.document?A.useLayoutEffect:()=>{},Qb="Portal",qu=A.forwardRef((e,t)=>{var g;const{container:n,...s}=e,[a,u]=A.useState(!1);fn(()=>u(!0),[]);const h=n||a&&((g=globalThis==null?void 0:globalThis.document)==null?void 0:g.body);return h?wS.createPortal(x.jsx(Le.div,{...s,ref:t}),h):null});qu.displayName=Qb;function qb(e,t){return A.useReducer((n,s)=>t[n][s]??n,e)}var ds=e=>{const{present:t,children:n}=e,s=Zb(t),a=typeof n=="function"?n({present:s.isPresent}):A.Children.only(n),u=st(s.ref,$b(a));return typeof n=="function"||s.isPresent?A.cloneElement(a,{ref:u}):null};ds.displayName="Presence";function Zb(e){const[t,n]=A.useState(),s=A.useRef({}),a=A.useRef(e),u=A.useRef("none"),h=e?"mounted":"unmounted",[g,w]=qb(h,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return A.useEffect(()=>{const m=Ec(s.current);u.current=g==="mounted"?m:"none"},[g]),fn(()=>{const m=s.current,C=a.current;if(C!==e){const b=u.current,D=Ec(m);e?w("MOUNT"):D==="none"||(m==null?void 0:m.display)==="none"?w("UNMOUNT"):w(C&&b!==D?"ANIMATION_OUT":"UNMOUNT"),a.current=e}},[e,w]),fn(()=>{if(t){let m;const C=t.ownerDocument.defaultView??window,v=D=>{const S=Ec(s.current).includes(D.animationName);if(D.target===t&&S&&(w("ANIMATION_END"),!a.current)){const P=t.style.animationFillMode;t.style.animationFillMode="forwards",m=C.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=P)})}},b=D=>{D.target===t&&(u.current=Ec(s.current))};return t.addEventListener("animationstart",b),t.addEventListener("animationcancel",v),t.addEventListener("animationend",v),()=>{C.clearTimeout(m),t.removeEventListener("animationstart",b),t.removeEventListener("animationcancel",v),t.removeEventListener("animationend",v)}}else w("ANIMATION_END")},[t,w]),{isPresent:["mounted","unmountSuspended"].includes(g),ref:A.useCallback(m=>{m&&(s.current=getComputedStyle(m)),n(m)},[])}}function Ec(e){return(e==null?void 0:e.animationName)||"none"}function $b(e){var s,a;let t=(s=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function oa({prop:e,defaultProp:t,onChange:n=()=>{}}){const[s,a]=Jb({defaultProp:t,onChange:n}),u=e!==void 0,h=u?e:s,g=dn(n),w=A.useCallback(m=>{if(u){const v=typeof m=="function"?m(e):m;v!==e&&g(v)}else a(m)},[u,e,a,g]);return[h,w]}function Jb({defaultProp:e,onChange:t}){const n=A.useState(e),[s]=n,a=A.useRef(s),u=dn(t);return A.useEffect(()=>{a.current!==s&&(u(s),a.current=s)},[s,a,u]),n}var e4="VisuallyHidden",Ul=A.forwardRef((e,t)=>x.jsx(Le.span,{...e,ref:t,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...e.style}}));Ul.displayName=e4;var t4=Ul,u0="ToastProvider",[d0,n4,r4]=Qu("Toast"),[Pw,B_]=gi("Toast",[r4]),[i4,Zu]=Pw(u0),kw=e=>{const{__scopeToast:t,label:n="Notification",duration:s=5e3,swipeDirection:a="right",swipeThreshold:u=50,children:h}=e,[g,w]=A.useState(null),[m,C]=A.useState(0),v=A.useRef(!1),b=A.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${u0}\`. Expected non-empty \`string\`.`),x.jsx(d0.Provider,{scope:t,children:x.jsx(i4,{scope:t,label:n,duration:s,swipeDirection:a,swipeThreshold:u,toastCount:m,viewport:g,onViewportChange:w,onToastAdd:A.useCallback(()=>C(D=>D+1),[]),onToastRemove:A.useCallback(()=>C(D=>D-1),[]),isFocusedToastEscapeKeyDownRef:v,isClosePausedRef:b,children:h})})};kw.displayName=u0;var Lw="ToastViewport",s4=["F8"],kh="toast.viewportPause",Lh="toast.viewportResume",Fw=A.forwardRef((e,t)=>{const{__scopeToast:n,hotkey:s=s4,label:a="Notifications ({hotkey})",...u}=e,h=Zu(Lw,n),g=n4(n),w=A.useRef(null),m=A.useRef(null),C=A.useRef(null),v=A.useRef(null),b=st(t,v,h.onViewportChange),D=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),_=h.toastCount>0;A.useEffect(()=>{const P=O=>{var R;s.length!==0&&s.every(F=>O[F]||O.code===F)&&((R=v.current)==null||R.focus())};return document.addEventListener("keydown",P),()=>document.removeEventListener("keydown",P)},[s]),A.useEffect(()=>{const P=w.current,O=v.current;if(_&&P&&O){const I=()=>{if(!h.isClosePausedRef.current){const z=new CustomEvent(kh);O.dispatchEvent(z),h.isClosePausedRef.current=!0}},R=()=>{if(h.isClosePausedRef.current){const z=new CustomEvent(Lh);O.dispatchEvent(z),h.isClosePausedRef.current=!1}},F=z=>{!P.contains(z.relatedTarget)&&R()},W=()=>{P.contains(document.activeElement)||R()};return P.addEventListener("focusin",I),P.addEventListener("focusout",F),P.addEventListener("pointermove",I),P.addEventListener("pointerleave",W),window.addEventListener("blur",I),window.addEventListener("focus",R),()=>{P.removeEventListener("focusin",I),P.removeEventListener("focusout",F),P.removeEventListener("pointermove",I),P.removeEventListener("pointerleave",W),window.removeEventListener("blur",I),window.removeEventListener("focus",R)}}},[_,h.isClosePausedRef]);const S=A.useCallback(({tabbingDirection:P})=>{const I=g().map(R=>{const F=R.ref.current,W=[F,...w4(F)];return P==="forwards"?W:W.reverse()});return(P==="forwards"?I.reverse():I).flat()},[g]);return A.useEffect(()=>{const P=v.current;if(P){const O=I=>{var W,z,B;const R=I.altKey||I.ctrlKey||I.metaKey;if(I.key==="Tab"&&!R){const G=document.activeElement,H=I.shiftKey;if(I.target===P&&H){(W=m.current)==null||W.focus();return}const J=S({tabbingDirection:H?"backwards":"forwards"}),fe=J.findIndex(te=>te===G);pf(J.slice(fe+1))?I.preventDefault():H?(z=m.current)==null||z.focus():(B=C.current)==null||B.focus()}};return P.addEventListener("keydown",O),()=>P.removeEventListener("keydown",O)}},[g,S]),x.jsxs(Kb,{ref:w,role:"region","aria-label":a.replace("{hotkey}",D),tabIndex:-1,style:{pointerEvents:_?void 0:"none"},children:[_&&x.jsx(Fh,{ref:m,onFocusFromOutsideViewport:()=>{const P=S({tabbingDirection:"forwards"});pf(P)}}),x.jsx(d0.Slot,{scope:n,children:x.jsx(Le.ol,{tabIndex:-1,...u,ref:b})}),_&&x.jsx(Fh,{ref:C,onFocusFromOutsideViewport:()=>{const P=S({tabbingDirection:"backwards"});pf(P)}})]})});Fw.displayName=Lw;var Bw="ToastFocusProxy",Fh=A.forwardRef((e,t)=>{const{__scopeToast:n,onFocusFromOutsideViewport:s,...a}=e,u=Zu(Bw,n);return x.jsx(Ul,{"aria-hidden":!0,tabIndex:0,...a,ref:t,style:{position:"fixed"},onFocus:h=>{var m;const g=h.relatedTarget;!((m=u.viewport)!=null&&m.contains(g))&&s()}})});Fh.displayName=Bw;var $u="Toast",o4="toast.swipeStart",a4="toast.swipeMove",l4="toast.swipeCancel",c4="toast.swipeEnd",jw=A.forwardRef((e,t)=>{const{forceMount:n,open:s,defaultOpen:a,onOpenChange:u,...h}=e,[g=!0,w]=oa({prop:s,defaultProp:a,onChange:u});return x.jsx(ds,{present:n||g,children:x.jsx(f4,{open:g,...h,ref:t,onClose:()=>w(!1),onPause:dn(e.onPause),onResume:dn(e.onResume),onSwipeStart:pe(e.onSwipeStart,m=>{m.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:pe(e.onSwipeMove,m=>{const{x:C,y:v}=m.detail.delta;m.currentTarget.setAttribute("data-swipe","move"),m.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${C}px`),m.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${v}px`)}),onSwipeCancel:pe(e.onSwipeCancel,m=>{m.currentTarget.setAttribute("data-swipe","cancel"),m.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),m.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),m.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),m.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:pe(e.onSwipeEnd,m=>{const{x:C,y:v}=m.detail.delta;m.currentTarget.setAttribute("data-swipe","end"),m.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),m.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),m.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${C}px`),m.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${v}px`),w(!1)})})})});jw.displayName=$u;var[u4,d4]=Pw($u,{onClose(){}}),f4=A.forwardRef((e,t)=>{const{__scopeToast:n,type:s="foreground",duration:a,open:u,onClose:h,onEscapeKeyDown:g,onPause:w,onResume:m,onSwipeStart:C,onSwipeMove:v,onSwipeCancel:b,onSwipeEnd:D,..._}=e,S=Zu($u,n),[P,O]=A.useState(null),I=st(t,te=>O(te)),R=A.useRef(null),F=A.useRef(null),W=a||S.duration,z=A.useRef(0),B=A.useRef(W),G=A.useRef(0),{onToastAdd:H,onToastRemove:re}=S,de=dn(()=>{var X;(P==null?void 0:P.contains(document.activeElement))&&((X=S.viewport)==null||X.focus()),h()}),J=A.useCallback(te=>{!te||te===1/0||(window.clearTimeout(G.current),z.current=new Date().getTime(),G.current=window.setTimeout(de,te))},[de]);A.useEffect(()=>{const te=S.viewport;if(te){const X=()=>{J(B.current),m==null||m()},le=()=>{const ae=new Date().getTime()-z.current;B.current=B.current-ae,window.clearTimeout(G.current),w==null||w()};return te.addEventListener(kh,le),te.addEventListener(Lh,X),()=>{te.removeEventListener(kh,le),te.removeEventListener(Lh,X)}}},[S.viewport,W,w,m,J]),A.useEffect(()=>{u&&!S.isClosePausedRef.current&&J(W)},[u,W,S.isClosePausedRef,J]),A.useEffect(()=>(H(),()=>re()),[H,re]);const fe=A.useMemo(()=>P?Xw(P):null,[P]);return S.viewport?x.jsxs(x.Fragment,{children:[fe&&x.jsx(h4,{__scopeToast:n,role:"status","aria-live":s==="foreground"?"assertive":"polite","aria-atomic":!0,children:fe}),x.jsx(u4,{scope:n,onClose:de,children:Qs.createPortal(x.jsx(d0.ItemSlot,{scope:n,children:x.jsx(Yb,{asChild:!0,onEscapeKeyDown:pe(g,()=>{S.isFocusedToastEscapeKeyDownRef.current||de(),S.isFocusedToastEscapeKeyDownRef.current=!1}),children:x.jsx(Le.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":u?"open":"closed","data-swipe-direction":S.swipeDirection,..._,ref:I,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:pe(e.onKeyDown,te=>{te.key==="Escape"&&(g==null||g(te.nativeEvent),te.nativeEvent.defaultPrevented||(S.isFocusedToastEscapeKeyDownRef.current=!0,de()))}),onPointerDown:pe(e.onPointerDown,te=>{te.button===0&&(R.current={x:te.clientX,y:te.clientY})}),onPointerMove:pe(e.onPointerMove,te=>{if(!R.current)return;const X=te.clientX-R.current.x,le=te.clientY-R.current.y,ae=!!F.current,Z=["left","right"].includes(S.swipeDirection),$=["left","up"].includes(S.swipeDirection)?Math.min:Math.max,ce=Z?$(0,X):0,Ce=Z?0:$(0,le),Ae=te.pointerType==="touch"?10:2,at={x:ce,y:Ce},Fe={originalEvent:te,delta:at};ae?(F.current=at,Ac(a4,v,Fe,{discrete:!1})):Vg(at,S.swipeDirection,Ae)?(F.current=at,Ac(o4,C,Fe,{discrete:!1}),te.target.setPointerCapture(te.pointerId)):(Math.abs(X)>Ae||Math.abs(le)>Ae)&&(R.current=null)}),onPointerUp:pe(e.onPointerUp,te=>{const X=F.current,le=te.target;if(le.hasPointerCapture(te.pointerId)&&le.releasePointerCapture(te.pointerId),F.current=null,R.current=null,X){const ae=te.currentTarget,Z={originalEvent:te,delta:X};Vg(X,S.swipeDirection,S.swipeThreshold)?Ac(c4,D,Z,{discrete:!0}):Ac(l4,b,Z,{discrete:!0}),ae.addEventListener("click",$=>$.preventDefault(),{once:!0})}})})})}),S.viewport)})]}):null}),h4=e=>{const{__scopeToast:t,children:n,...s}=e,a=Zu($u,t),[u,h]=A.useState(!1),[g,w]=A.useState(!1);return m4(()=>h(!0)),A.useEffect(()=>{const m=window.setTimeout(()=>w(!0),1e3);return()=>window.clearTimeout(m)},[]),g?null:x.jsx(qu,{asChild:!0,children:x.jsx(Ul,{...s,children:u&&x.jsxs(x.Fragment,{children:[a.label," ",n]})})})},p4="ToastTitle",Uw=A.forwardRef((e,t)=>{const{__scopeToast:n,...s}=e;return x.jsx(Le.div,{...s,ref:t})});Uw.displayName=p4;var g4="ToastDescription",Vw=A.forwardRef((e,t)=>{const{__scopeToast:n,...s}=e;return x.jsx(Le.div,{...s,ref:t})});Vw.displayName=g4;var Ww="ToastAction",Hw=A.forwardRef((e,t)=>{const{altText:n,...s}=e;return n.trim()?x.jsx(Gw,{altText:n,asChild:!0,children:x.jsx(f0,{...s,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${Ww}\`. Expected non-empty \`string\`.`),null)});Hw.displayName=Ww;var zw="ToastClose",f0=A.forwardRef((e,t)=>{const{__scopeToast:n,...s}=e,a=d4(zw,n);return x.jsx(Gw,{asChild:!0,children:x.jsx(Le.button,{type:"button",...s,ref:t,onClick:pe(e.onClick,a.onClose)})})});f0.displayName=zw;var Gw=A.forwardRef((e,t)=>{const{__scopeToast:n,altText:s,...a}=e;return x.jsx(Le.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":s||void 0,...a,ref:t})});function Xw(e){const t=[];return Array.from(e.childNodes).forEach(s=>{if(s.nodeType===s.TEXT_NODE&&s.textContent&&t.push(s.textContent),x4(s)){const a=s.ariaHidden||s.hidden||s.style.display==="none",u=s.dataset.radixToastAnnounceExclude==="";if(!a)if(u){const h=s.dataset.radixToastAnnounceAlt;h&&t.push(h)}else t.push(...Xw(s))}}),t}function Ac(e,t,n,{discrete:s}){const a=n.originalEvent.currentTarget,u=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:n});t&&a.addEventListener(e,t,{once:!0}),s?c0(a,u):a.dispatchEvent(u)}var Vg=(e,t,n=0)=>{const s=Math.abs(e.x),a=Math.abs(e.y),u=s>a;return t==="left"||t==="right"?u&&s>n:!u&&a>n};function m4(e=()=>{}){const t=dn(e);fn(()=>{let n=0,s=0;return n=window.requestAnimationFrame(()=>s=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(s)}},[t])}function x4(e){return e.nodeType===e.ELEMENT_NODE}function w4(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:s=>{const a=s.tagName==="INPUT"&&s.type==="hidden";return s.disabled||s.hidden||a?NodeFilter.FILTER_SKIP:s.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function pf(e){const t=document.activeElement;return e.some(n=>n===t?!0:(n.focus(),document.activeElement!==t))}var y4=kw,Yw=Fw,Kw=jw,Qw=Uw,qw=Vw,Zw=Hw,$w=f0;function Jw(e){var t,n,s="";if(typeof e=="string"||typeof e=="number")s+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(n=Jw(e[t]))&&(s&&(s+=" "),s+=n)}else for(n in e)e[n]&&(s&&(s+=" "),s+=n);return s}function ey(){for(var e,t,n=0,s="",a=arguments.length;n<a;n++)(e=arguments[n])&&(t=Jw(e))&&(s&&(s+=" "),s+=t);return s}const Wg=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,Hg=ey,Ju=(e,t)=>n=>{var s;if((t==null?void 0:t.variants)==null)return Hg(e,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:a,defaultVariants:u}=t,h=Object.keys(a).map(m=>{const C=n==null?void 0:n[m],v=u==null?void 0:u[m];if(C===null)return null;const b=Wg(C)||Wg(v);return a[m][b]}),g=n&&Object.entries(n).reduce((m,C)=>{let[v,b]=C;return b===void 0||(m[v]=b),m},{}),w=t==null||(s=t.compoundVariants)===null||s===void 0?void 0:s.reduce((m,C)=>{let{class:v,className:b,...D}=C;return Object.entries(D).every(_=>{let[S,P]=_;return Array.isArray(P)?P.includes({...u,...g}[S]):{...u,...g}[S]===P})?[...m,v,b]:m},[]);return Hg(e,h,w,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v4=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),ty=(...e)=>e.filter((t,n,s)=>!!t&&s.indexOf(t)===n).join(" ");/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var C4={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E4=A.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:s,className:a="",children:u,iconNode:h,...g},w)=>A.createElement("svg",{ref:w,...C4,width:t,height:t,stroke:e,strokeWidth:s?Number(n)*24/Number(t):n,className:ty("lucide",a),...g},[...h.map(([m,C])=>A.createElement(m,C)),...Array.isArray(u)?u:[u]]));/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ot=(e,t)=>{const n=A.forwardRef(({className:s,...a},u)=>A.createElement(E4,{ref:u,iconNode:t,className:ty(`lucide-${v4(e)}`,s),...a}));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ed=ot("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A4=ot("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yu=ot("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zg=ot("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ny=ot("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ry=ot("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S4=ot("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b4=ot("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N4=ot("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iy=ot("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I4=ot("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h0=ot("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sy=ot("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gg=ot("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bh=ot("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oy=ot("GraduationCap",[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T4=ot("Keyboard",[["path",{d:"M10 8h.01",key:"1r9ogq"}],["path",{d:"M12 12h.01",key:"1mp3jc"}],["path",{d:"M14 8h.01",key:"1primd"}],["path",{d:"M16 12h.01",key:"1l6xoz"}],["path",{d:"M18 8h.01",key:"emo2bl"}],["path",{d:"M6 8h.01",key:"x9i8wu"}],["path",{d:"M7 16h10",key:"wp8him"}],["path",{d:"M8 12h.01",key:"czm47f"}],["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ay=ot("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R4=ot("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jh=ot("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const is=ot("QrCode",[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _4=ot("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O4=ot("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gf=ot("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xg=ot("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yg=ot("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kg=ot("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M4=ot("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),p0="-",D4=e=>{const t=k4(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:s}=e;return{getClassGroupId:h=>{const g=h.split(p0);return g[0]===""&&g.length!==1&&g.shift(),ly(g,t)||P4(h)},getConflictingClassGroupIds:(h,g)=>{const w=n[h]||[];return g&&s[h]?[...w,...s[h]]:w}}},ly=(e,t)=>{var h;if(e.length===0)return t.classGroupId;const n=e[0],s=t.nextPart.get(n),a=s?ly(e.slice(1),s):void 0;if(a)return a;if(t.validators.length===0)return;const u=e.join(p0);return(h=t.validators.find(({validator:g})=>g(u)))==null?void 0:h.classGroupId},Qg=/^\[(.+)\]$/,P4=e=>{if(Qg.test(e)){const t=Qg.exec(e)[1],n=t==null?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},k4=e=>{const{theme:t,prefix:n}=e,s={nextPart:new Map,validators:[]};return F4(Object.entries(e.classGroups),n).forEach(([u,h])=>{Uh(h,s,u,t)}),s},Uh=(e,t,n,s)=>{e.forEach(a=>{if(typeof a=="string"){const u=a===""?t:qg(t,a);u.classGroupId=n;return}if(typeof a=="function"){if(L4(a)){Uh(a(s),t,n,s);return}t.validators.push({validator:a,classGroupId:n});return}Object.entries(a).forEach(([u,h])=>{Uh(h,qg(t,u),n,s)})})},qg=(e,t)=>{let n=e;return t.split(p0).forEach(s=>{n.nextPart.has(s)||n.nextPart.set(s,{nextPart:new Map,validators:[]}),n=n.nextPart.get(s)}),n},L4=e=>e.isThemeGetter,F4=(e,t)=>t?e.map(([n,s])=>{const a=s.map(u=>typeof u=="string"?t+u:typeof u=="object"?Object.fromEntries(Object.entries(u).map(([h,g])=>[t+h,g])):u);return[n,a]}):e,B4=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,s=new Map;const a=(u,h)=>{n.set(u,h),t++,t>e&&(t=0,s=n,n=new Map)};return{get(u){let h=n.get(u);if(h!==void 0)return h;if((h=s.get(u))!==void 0)return a(u,h),h},set(u,h){n.has(u)?n.set(u,h):a(u,h)}}},cy="!",j4=e=>{const{separator:t,experimentalParseClassName:n}=e,s=t.length===1,a=t[0],u=t.length,h=g=>{const w=[];let m=0,C=0,v;for(let P=0;P<g.length;P++){let O=g[P];if(m===0){if(O===a&&(s||g.slice(P,P+u)===t)){w.push(g.slice(C,P)),C=P+u;continue}if(O==="/"){v=P;continue}}O==="["?m++:O==="]"&&m--}const b=w.length===0?g:g.substring(C),D=b.startsWith(cy),_=D?b.substring(1):b,S=v&&v>C?v-C:void 0;return{modifiers:w,hasImportantModifier:D,baseClassName:_,maybePostfixModifierPosition:S}};return n?g=>n({className:g,parseClassName:h}):h},U4=e=>{if(e.length<=1)return e;const t=[];let n=[];return e.forEach(s=>{s[0]==="["?(t.push(...n.sort(),s),n=[]):n.push(s)}),t.push(...n.sort()),t},V4=e=>({cache:B4(e.cacheSize),parseClassName:j4(e),...D4(e)}),W4=/\s+/,H4=(e,t)=>{const{parseClassName:n,getClassGroupId:s,getConflictingClassGroupIds:a}=t,u=[],h=e.trim().split(W4);let g="";for(let w=h.length-1;w>=0;w-=1){const m=h[w],{modifiers:C,hasImportantModifier:v,baseClassName:b,maybePostfixModifierPosition:D}=n(m);let _=!!D,S=s(_?b.substring(0,D):b);if(!S){if(!_){g=m+(g.length>0?" "+g:g);continue}if(S=s(b),!S){g=m+(g.length>0?" "+g:g);continue}_=!1}const P=U4(C).join(":"),O=v?P+cy:P,I=O+S;if(u.includes(I))continue;u.push(I);const R=a(S,_);for(let F=0;F<R.length;++F){const W=R[F];u.push(O+W)}g=m+(g.length>0?" "+g:g)}return g};function z4(){let e=0,t,n,s="";for(;e<arguments.length;)(t=arguments[e++])&&(n=uy(t))&&(s&&(s+=" "),s+=n);return s}const uy=e=>{if(typeof e=="string")return e;let t,n="";for(let s=0;s<e.length;s++)e[s]&&(t=uy(e[s]))&&(n&&(n+=" "),n+=t);return n};function G4(e,...t){let n,s,a,u=h;function h(w){const m=t.reduce((C,v)=>v(C),e());return n=V4(m),s=n.cache.get,a=n.cache.set,u=g,g(w)}function g(w){const m=s(w);if(m)return m;const C=H4(w,n);return a(w,C),C}return function(){return u(z4.apply(null,arguments))}}const mt=e=>{const t=n=>n[e]||[];return t.isThemeGetter=!0,t},dy=/^\[(?:([a-z-]+):)?(.+)\]$/i,X4=/^\d+\/\d+$/,Y4=new Set(["px","full","screen"]),K4=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Q4=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,q4=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,Z4=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,$4=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Kr=e=>ko(e)||Y4.has(e)||X4.test(e),Si=e=>pa(e,"length",o8),ko=e=>!!e&&!Number.isNaN(Number(e)),mf=e=>pa(e,"number",ko),Ba=e=>!!e&&Number.isInteger(Number(e)),J4=e=>e.endsWith("%")&&ko(e.slice(0,-1)),De=e=>dy.test(e),bi=e=>K4.test(e),e8=new Set(["length","size","percentage"]),t8=e=>pa(e,e8,fy),n8=e=>pa(e,"position",fy),r8=new Set(["image","url"]),i8=e=>pa(e,r8,l8),s8=e=>pa(e,"",a8),ja=()=>!0,pa=(e,t,n)=>{const s=dy.exec(e);return s?s[1]?typeof t=="string"?s[1]===t:t.has(s[1]):n(s[2]):!1},o8=e=>Q4.test(e)&&!q4.test(e),fy=()=>!1,a8=e=>Z4.test(e),l8=e=>$4.test(e),c8=()=>{const e=mt("colors"),t=mt("spacing"),n=mt("blur"),s=mt("brightness"),a=mt("borderColor"),u=mt("borderRadius"),h=mt("borderSpacing"),g=mt("borderWidth"),w=mt("contrast"),m=mt("grayscale"),C=mt("hueRotate"),v=mt("invert"),b=mt("gap"),D=mt("gradientColorStops"),_=mt("gradientColorStopPositions"),S=mt("inset"),P=mt("margin"),O=mt("opacity"),I=mt("padding"),R=mt("saturate"),F=mt("scale"),W=mt("sepia"),z=mt("skew"),B=mt("space"),G=mt("translate"),H=()=>["auto","contain","none"],re=()=>["auto","hidden","clip","visible","scroll"],de=()=>["auto",De,t],J=()=>[De,t],fe=()=>["",Kr,Si],te=()=>["auto",ko,De],X=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],le=()=>["solid","dashed","dotted","double","none"],ae=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],Z=()=>["start","end","center","between","around","evenly","stretch"],$=()=>["","0",De],ce=()=>["auto","avoid","all","avoid-page","page","left","right","column"],Ce=()=>[ko,De];return{cacheSize:500,separator:":",theme:{colors:[ja],spacing:[Kr,Si],blur:["none","",bi,De],brightness:Ce(),borderColor:[e],borderRadius:["none","","full",bi,De],borderSpacing:J(),borderWidth:fe(),contrast:Ce(),grayscale:$(),hueRotate:Ce(),invert:$(),gap:J(),gradientColorStops:[e],gradientColorStopPositions:[J4,Si],inset:de(),margin:de(),opacity:Ce(),padding:J(),saturate:Ce(),scale:Ce(),sepia:$(),skew:Ce(),space:J(),translate:J()},classGroups:{aspect:[{aspect:["auto","square","video",De]}],container:["container"],columns:[{columns:[bi]}],"break-after":[{"break-after":ce()}],"break-before":[{"break-before":ce()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...X(),De]}],overflow:[{overflow:re()}],"overflow-x":[{"overflow-x":re()}],"overflow-y":[{"overflow-y":re()}],overscroll:[{overscroll:H()}],"overscroll-x":[{"overscroll-x":H()}],"overscroll-y":[{"overscroll-y":H()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[S]}],"inset-x":[{"inset-x":[S]}],"inset-y":[{"inset-y":[S]}],start:[{start:[S]}],end:[{end:[S]}],top:[{top:[S]}],right:[{right:[S]}],bottom:[{bottom:[S]}],left:[{left:[S]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Ba,De]}],basis:[{basis:de()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",De]}],grow:[{grow:$()}],shrink:[{shrink:$()}],order:[{order:["first","last","none",Ba,De]}],"grid-cols":[{"grid-cols":[ja]}],"col-start-end":[{col:["auto",{span:["full",Ba,De]},De]}],"col-start":[{"col-start":te()}],"col-end":[{"col-end":te()}],"grid-rows":[{"grid-rows":[ja]}],"row-start-end":[{row:["auto",{span:[Ba,De]},De]}],"row-start":[{"row-start":te()}],"row-end":[{"row-end":te()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",De]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",De]}],gap:[{gap:[b]}],"gap-x":[{"gap-x":[b]}],"gap-y":[{"gap-y":[b]}],"justify-content":[{justify:["normal",...Z()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...Z(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...Z(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[I]}],px:[{px:[I]}],py:[{py:[I]}],ps:[{ps:[I]}],pe:[{pe:[I]}],pt:[{pt:[I]}],pr:[{pr:[I]}],pb:[{pb:[I]}],pl:[{pl:[I]}],m:[{m:[P]}],mx:[{mx:[P]}],my:[{my:[P]}],ms:[{ms:[P]}],me:[{me:[P]}],mt:[{mt:[P]}],mr:[{mr:[P]}],mb:[{mb:[P]}],ml:[{ml:[P]}],"space-x":[{"space-x":[B]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[B]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",De,t]}],"min-w":[{"min-w":[De,t,"min","max","fit"]}],"max-w":[{"max-w":[De,t,"none","full","min","max","fit","prose",{screen:[bi]},bi]}],h:[{h:[De,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[De,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[De,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[De,t,"auto","min","max","fit"]}],"font-size":[{text:["base",bi,Si]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",mf]}],"font-family":[{font:[ja]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",De]}],"line-clamp":[{"line-clamp":["none",ko,mf]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Kr,De]}],"list-image":[{"list-image":["none",De]}],"list-style-type":[{list:["none","disc","decimal",De]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[O]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[O]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...le(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Kr,Si]}],"underline-offset":[{"underline-offset":["auto",Kr,De]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:J()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",De]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",De]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[O]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...X(),n8]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",t8]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},i8]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[_]}],"gradient-via-pos":[{via:[_]}],"gradient-to-pos":[{to:[_]}],"gradient-from":[{from:[D]}],"gradient-via":[{via:[D]}],"gradient-to":[{to:[D]}],rounded:[{rounded:[u]}],"rounded-s":[{"rounded-s":[u]}],"rounded-e":[{"rounded-e":[u]}],"rounded-t":[{"rounded-t":[u]}],"rounded-r":[{"rounded-r":[u]}],"rounded-b":[{"rounded-b":[u]}],"rounded-l":[{"rounded-l":[u]}],"rounded-ss":[{"rounded-ss":[u]}],"rounded-se":[{"rounded-se":[u]}],"rounded-ee":[{"rounded-ee":[u]}],"rounded-es":[{"rounded-es":[u]}],"rounded-tl":[{"rounded-tl":[u]}],"rounded-tr":[{"rounded-tr":[u]}],"rounded-br":[{"rounded-br":[u]}],"rounded-bl":[{"rounded-bl":[u]}],"border-w":[{border:[g]}],"border-w-x":[{"border-x":[g]}],"border-w-y":[{"border-y":[g]}],"border-w-s":[{"border-s":[g]}],"border-w-e":[{"border-e":[g]}],"border-w-t":[{"border-t":[g]}],"border-w-r":[{"border-r":[g]}],"border-w-b":[{"border-b":[g]}],"border-w-l":[{"border-l":[g]}],"border-opacity":[{"border-opacity":[O]}],"border-style":[{border:[...le(),"hidden"]}],"divide-x":[{"divide-x":[g]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[g]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[O]}],"divide-style":[{divide:le()}],"border-color":[{border:[a]}],"border-color-x":[{"border-x":[a]}],"border-color-y":[{"border-y":[a]}],"border-color-s":[{"border-s":[a]}],"border-color-e":[{"border-e":[a]}],"border-color-t":[{"border-t":[a]}],"border-color-r":[{"border-r":[a]}],"border-color-b":[{"border-b":[a]}],"border-color-l":[{"border-l":[a]}],"divide-color":[{divide:[a]}],"outline-style":[{outline:["",...le()]}],"outline-offset":[{"outline-offset":[Kr,De]}],"outline-w":[{outline:[Kr,Si]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:fe()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[O]}],"ring-offset-w":[{"ring-offset":[Kr,Si]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",bi,s8]}],"shadow-color":[{shadow:[ja]}],opacity:[{opacity:[O]}],"mix-blend":[{"mix-blend":[...ae(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":ae()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[s]}],contrast:[{contrast:[w]}],"drop-shadow":[{"drop-shadow":["","none",bi,De]}],grayscale:[{grayscale:[m]}],"hue-rotate":[{"hue-rotate":[C]}],invert:[{invert:[v]}],saturate:[{saturate:[R]}],sepia:[{sepia:[W]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[s]}],"backdrop-contrast":[{"backdrop-contrast":[w]}],"backdrop-grayscale":[{"backdrop-grayscale":[m]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[C]}],"backdrop-invert":[{"backdrop-invert":[v]}],"backdrop-opacity":[{"backdrop-opacity":[O]}],"backdrop-saturate":[{"backdrop-saturate":[R]}],"backdrop-sepia":[{"backdrop-sepia":[W]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[h]}],"border-spacing-x":[{"border-spacing-x":[h]}],"border-spacing-y":[{"border-spacing-y":[h]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",De]}],duration:[{duration:Ce()}],ease:[{ease:["linear","in","out","in-out",De]}],delay:[{delay:Ce()}],animate:[{animate:["none","spin","ping","pulse","bounce",De]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[F]}],"scale-x":[{"scale-x":[F]}],"scale-y":[{"scale-y":[F]}],rotate:[{rotate:[Ba,De]}],"translate-x":[{"translate-x":[G]}],"translate-y":[{"translate-y":[G]}],"skew-x":[{"skew-x":[z]}],"skew-y":[{"skew-y":[z]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",De]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",De]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":J()}],"scroll-mx":[{"scroll-mx":J()}],"scroll-my":[{"scroll-my":J()}],"scroll-ms":[{"scroll-ms":J()}],"scroll-me":[{"scroll-me":J()}],"scroll-mt":[{"scroll-mt":J()}],"scroll-mr":[{"scroll-mr":J()}],"scroll-mb":[{"scroll-mb":J()}],"scroll-ml":[{"scroll-ml":J()}],"scroll-p":[{"scroll-p":J()}],"scroll-px":[{"scroll-px":J()}],"scroll-py":[{"scroll-py":J()}],"scroll-ps":[{"scroll-ps":J()}],"scroll-pe":[{"scroll-pe":J()}],"scroll-pt":[{"scroll-pt":J()}],"scroll-pr":[{"scroll-pr":J()}],"scroll-pb":[{"scroll-pb":J()}],"scroll-pl":[{"scroll-pl":J()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",De]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[Kr,Si,mf]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},u8=G4(c8);function _e(...e){return u8(ey(e))}const d8=y4,hy=A.forwardRef(({className:e,...t},n)=>x.jsx(Yw,{ref:n,className:_e("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));hy.displayName=Yw.displayName;const f8=Ju("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),py=A.forwardRef(({className:e,variant:t,...n},s)=>x.jsx(Kw,{ref:s,className:_e(f8({variant:t}),e),...n}));py.displayName=Kw.displayName;const h8=A.forwardRef(({className:e,...t},n)=>x.jsx(Zw,{ref:n,className:_e("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));h8.displayName=Zw.displayName;const gy=A.forwardRef(({className:e,...t},n)=>x.jsx($w,{ref:n,className:_e("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:x.jsx(M4,{className:"h-4 w-4"})}));gy.displayName=$w.displayName;const my=A.forwardRef(({className:e,...t},n)=>x.jsx(Qw,{ref:n,className:_e("text-sm font-semibold",e),...t}));my.displayName=Qw.displayName;const xy=A.forwardRef(({className:e,...t},n)=>x.jsx(qw,{ref:n,className:_e("text-sm opacity-90",e),...t}));xy.displayName=qw.displayName;function p8(){const{toasts:e}=qs();return x.jsxs(d8,{children:[e.map(function({id:t,title:n,description:s,action:a,...u}){return x.jsxs(py,{...u,children:[x.jsxs("div",{className:"grid gap-1",children:[n&&x.jsx(my,{children:n}),s&&x.jsx(xy,{children:s})]}),a,x.jsx(gy,{})]},t)}),x.jsx(hy,{})]})}var g8=tx[" useId ".trim().toString()]||(()=>{}),m8=0;function Hs(e){const[t,n]=A.useState(g8());return fn(()=>{e||n(s=>s??String(m8++))},[e]),e||(t?`radix-${t}`:"")}const x8=["top","right","bottom","left"],ss=Math.min,Vn=Math.max,vu=Math.round,Sc=Math.floor,Hr=e=>({x:e,y:e}),w8={left:"right",right:"left",bottom:"top",top:"bottom"},y8={start:"end",end:"start"};function Vh(e,t,n){return Vn(e,ss(t,n))}function di(e,t){return typeof e=="function"?e(t):e}function fi(e){return e.split("-")[0]}function ga(e){return e.split("-")[1]}function g0(e){return e==="x"?"y":"x"}function m0(e){return e==="y"?"height":"width"}function os(e){return["top","bottom"].includes(fi(e))?"y":"x"}function x0(e){return g0(os(e))}function v8(e,t,n){n===void 0&&(n=!1);const s=ga(e),a=x0(e),u=m0(a);let h=a==="x"?s===(n?"end":"start")?"right":"left":s==="start"?"bottom":"top";return t.reference[u]>t.floating[u]&&(h=Cu(h)),[h,Cu(h)]}function C8(e){const t=Cu(e);return[Wh(e),t,Wh(t)]}function Wh(e){return e.replace(/start|end/g,t=>y8[t])}function E8(e,t,n){const s=["left","right"],a=["right","left"],u=["top","bottom"],h=["bottom","top"];switch(e){case"top":case"bottom":return n?t?a:s:t?s:a;case"left":case"right":return t?u:h;default:return[]}}function A8(e,t,n,s){const a=ga(e);let u=E8(fi(e),n==="start",s);return a&&(u=u.map(h=>h+"-"+a),t&&(u=u.concat(u.map(Wh)))),u}function Cu(e){return e.replace(/left|right|bottom|top/g,t=>w8[t])}function S8(e){return{top:0,right:0,bottom:0,left:0,...e}}function wy(e){return typeof e!="number"?S8(e):{top:e,right:e,bottom:e,left:e}}function Eu(e){const{x:t,y:n,width:s,height:a}=e;return{width:s,height:a,top:n,left:t,right:t+s,bottom:n+a,x:t,y:n}}function Zg(e,t,n){let{reference:s,floating:a}=e;const u=os(t),h=x0(t),g=m0(h),w=fi(t),m=u==="y",C=s.x+s.width/2-a.width/2,v=s.y+s.height/2-a.height/2,b=s[g]/2-a[g]/2;let D;switch(w){case"top":D={x:C,y:s.y-a.height};break;case"bottom":D={x:C,y:s.y+s.height};break;case"right":D={x:s.x+s.width,y:v};break;case"left":D={x:s.x-a.width,y:v};break;default:D={x:s.x,y:s.y}}switch(ga(t)){case"start":D[h]-=b*(n&&m?-1:1);break;case"end":D[h]+=b*(n&&m?-1:1);break}return D}const b8=async(e,t,n)=>{const{placement:s="bottom",strategy:a="absolute",middleware:u=[],platform:h}=n,g=u.filter(Boolean),w=await(h.isRTL==null?void 0:h.isRTL(t));let m=await h.getElementRects({reference:e,floating:t,strategy:a}),{x:C,y:v}=Zg(m,s,w),b=s,D={},_=0;for(let S=0;S<g.length;S++){const{name:P,fn:O}=g[S],{x:I,y:R,data:F,reset:W}=await O({x:C,y:v,initialPlacement:s,placement:b,strategy:a,middlewareData:D,rects:m,platform:h,elements:{reference:e,floating:t}});C=I??C,v=R??v,D={...D,[P]:{...D[P],...F}},W&&_<=50&&(_++,typeof W=="object"&&(W.placement&&(b=W.placement),W.rects&&(m=W.rects===!0?await h.getElementRects({reference:e,floating:t,strategy:a}):W.rects),{x:C,y:v}=Zg(m,b,w)),S=-1)}return{x:C,y:v,placement:b,strategy:a,middlewareData:D}};async function Sl(e,t){var n;t===void 0&&(t={});const{x:s,y:a,platform:u,rects:h,elements:g,strategy:w}=e,{boundary:m="clippingAncestors",rootBoundary:C="viewport",elementContext:v="floating",altBoundary:b=!1,padding:D=0}=di(t,e),_=wy(D),P=g[b?v==="floating"?"reference":"floating":v],O=Eu(await u.getClippingRect({element:(n=await(u.isElement==null?void 0:u.isElement(P)))==null||n?P:P.contextElement||await(u.getDocumentElement==null?void 0:u.getDocumentElement(g.floating)),boundary:m,rootBoundary:C,strategy:w})),I=v==="floating"?{x:s,y:a,width:h.floating.width,height:h.floating.height}:h.reference,R=await(u.getOffsetParent==null?void 0:u.getOffsetParent(g.floating)),F=await(u.isElement==null?void 0:u.isElement(R))?await(u.getScale==null?void 0:u.getScale(R))||{x:1,y:1}:{x:1,y:1},W=Eu(u.convertOffsetParentRelativeRectToViewportRelativeRect?await u.convertOffsetParentRelativeRectToViewportRelativeRect({elements:g,rect:I,offsetParent:R,strategy:w}):I);return{top:(O.top-W.top+_.top)/F.y,bottom:(W.bottom-O.bottom+_.bottom)/F.y,left:(O.left-W.left+_.left)/F.x,right:(W.right-O.right+_.right)/F.x}}const N8=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:s,placement:a,rects:u,platform:h,elements:g,middlewareData:w}=t,{element:m,padding:C=0}=di(e,t)||{};if(m==null)return{};const v=wy(C),b={x:n,y:s},D=x0(a),_=m0(D),S=await h.getDimensions(m),P=D==="y",O=P?"top":"left",I=P?"bottom":"right",R=P?"clientHeight":"clientWidth",F=u.reference[_]+u.reference[D]-b[D]-u.floating[_],W=b[D]-u.reference[D],z=await(h.getOffsetParent==null?void 0:h.getOffsetParent(m));let B=z?z[R]:0;(!B||!await(h.isElement==null?void 0:h.isElement(z)))&&(B=g.floating[R]||u.floating[_]);const G=F/2-W/2,H=B/2-S[_]/2-1,re=ss(v[O],H),de=ss(v[I],H),J=re,fe=B-S[_]-de,te=B/2-S[_]/2+G,X=Vh(J,te,fe),le=!w.arrow&&ga(a)!=null&&te!==X&&u.reference[_]/2-(te<J?re:de)-S[_]/2<0,ae=le?te<J?te-J:te-fe:0;return{[D]:b[D]+ae,data:{[D]:X,centerOffset:te-X-ae,...le&&{alignmentOffset:ae}},reset:le}}}),I8=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,s;const{placement:a,middlewareData:u,rects:h,initialPlacement:g,platform:w,elements:m}=t,{mainAxis:C=!0,crossAxis:v=!0,fallbackPlacements:b,fallbackStrategy:D="bestFit",fallbackAxisSideDirection:_="none",flipAlignment:S=!0,...P}=di(e,t);if((n=u.arrow)!=null&&n.alignmentOffset)return{};const O=fi(a),I=os(g),R=fi(g)===g,F=await(w.isRTL==null?void 0:w.isRTL(m.floating)),W=b||(R||!S?[Cu(g)]:C8(g)),z=_!=="none";!b&&z&&W.push(...A8(g,S,_,F));const B=[g,...W],G=await Sl(t,P),H=[];let re=((s=u.flip)==null?void 0:s.overflows)||[];if(C&&H.push(G[O]),v){const te=v8(a,h,F);H.push(G[te[0]],G[te[1]])}if(re=[...re,{placement:a,overflows:H}],!H.every(te=>te<=0)){var de,J;const te=(((de=u.flip)==null?void 0:de.index)||0)+1,X=B[te];if(X)return{data:{index:te,overflows:re},reset:{placement:X}};let le=(J=re.filter(ae=>ae.overflows[0]<=0).sort((ae,Z)=>ae.overflows[1]-Z.overflows[1])[0])==null?void 0:J.placement;if(!le)switch(D){case"bestFit":{var fe;const ae=(fe=re.filter(Z=>{if(z){const $=os(Z.placement);return $===I||$==="y"}return!0}).map(Z=>[Z.placement,Z.overflows.filter($=>$>0).reduce(($,ce)=>$+ce,0)]).sort((Z,$)=>Z[1]-$[1])[0])==null?void 0:fe[0];ae&&(le=ae);break}case"initialPlacement":le=g;break}if(a!==le)return{reset:{placement:le}}}return{}}}};function $g(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function Jg(e){return x8.some(t=>e[t]>=0)}const T8=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:s="referenceHidden",...a}=di(e,t);switch(s){case"referenceHidden":{const u=await Sl(t,{...a,elementContext:"reference"}),h=$g(u,n.reference);return{data:{referenceHiddenOffsets:h,referenceHidden:Jg(h)}}}case"escaped":{const u=await Sl(t,{...a,altBoundary:!0}),h=$g(u,n.floating);return{data:{escapedOffsets:h,escaped:Jg(h)}}}default:return{}}}}};async function R8(e,t){const{placement:n,platform:s,elements:a}=e,u=await(s.isRTL==null?void 0:s.isRTL(a.floating)),h=fi(n),g=ga(n),w=os(n)==="y",m=["left","top"].includes(h)?-1:1,C=u&&w?-1:1,v=di(t,e);let{mainAxis:b,crossAxis:D,alignmentAxis:_}=typeof v=="number"?{mainAxis:v,crossAxis:0,alignmentAxis:null}:{mainAxis:v.mainAxis||0,crossAxis:v.crossAxis||0,alignmentAxis:v.alignmentAxis};return g&&typeof _=="number"&&(D=g==="end"?_*-1:_),w?{x:D*C,y:b*m}:{x:b*m,y:D*C}}const _8=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,s;const{x:a,y:u,placement:h,middlewareData:g}=t,w=await R8(t,e);return h===((n=g.offset)==null?void 0:n.placement)&&(s=g.arrow)!=null&&s.alignmentOffset?{}:{x:a+w.x,y:u+w.y,data:{...w,placement:h}}}}},O8=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:s,placement:a}=t,{mainAxis:u=!0,crossAxis:h=!1,limiter:g={fn:P=>{let{x:O,y:I}=P;return{x:O,y:I}}},...w}=di(e,t),m={x:n,y:s},C=await Sl(t,w),v=os(fi(a)),b=g0(v);let D=m[b],_=m[v];if(u){const P=b==="y"?"top":"left",O=b==="y"?"bottom":"right",I=D+C[P],R=D-C[O];D=Vh(I,D,R)}if(h){const P=v==="y"?"top":"left",O=v==="y"?"bottom":"right",I=_+C[P],R=_-C[O];_=Vh(I,_,R)}const S=g.fn({...t,[b]:D,[v]:_});return{...S,data:{x:S.x-n,y:S.y-s,enabled:{[b]:u,[v]:h}}}}}},M8=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:s,placement:a,rects:u,middlewareData:h}=t,{offset:g=0,mainAxis:w=!0,crossAxis:m=!0}=di(e,t),C={x:n,y:s},v=os(a),b=g0(v);let D=C[b],_=C[v];const S=di(g,t),P=typeof S=="number"?{mainAxis:S,crossAxis:0}:{mainAxis:0,crossAxis:0,...S};if(w){const R=b==="y"?"height":"width",F=u.reference[b]-u.floating[R]+P.mainAxis,W=u.reference[b]+u.reference[R]-P.mainAxis;D<F?D=F:D>W&&(D=W)}if(m){var O,I;const R=b==="y"?"width":"height",F=["top","left"].includes(fi(a)),W=u.reference[v]-u.floating[R]+(F&&((O=h.offset)==null?void 0:O[v])||0)+(F?0:P.crossAxis),z=u.reference[v]+u.reference[R]+(F?0:((I=h.offset)==null?void 0:I[v])||0)-(F?P.crossAxis:0);_<W?_=W:_>z&&(_=z)}return{[b]:D,[v]:_}}}},D8=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,s;const{placement:a,rects:u,platform:h,elements:g}=t,{apply:w=()=>{},...m}=di(e,t),C=await Sl(t,m),v=fi(a),b=ga(a),D=os(a)==="y",{width:_,height:S}=u.floating;let P,O;v==="top"||v==="bottom"?(P=v,O=b===(await(h.isRTL==null?void 0:h.isRTL(g.floating))?"start":"end")?"left":"right"):(O=v,P=b==="end"?"top":"bottom");const I=S-C.top-C.bottom,R=_-C.left-C.right,F=ss(S-C[P],I),W=ss(_-C[O],R),z=!t.middlewareData.shift;let B=F,G=W;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(G=R),(s=t.middlewareData.shift)!=null&&s.enabled.y&&(B=I),z&&!b){const re=Vn(C.left,0),de=Vn(C.right,0),J=Vn(C.top,0),fe=Vn(C.bottom,0);D?G=_-2*(re!==0||de!==0?re+de:Vn(C.left,C.right)):B=S-2*(J!==0||fe!==0?J+fe:Vn(C.top,C.bottom))}await w({...t,availableWidth:G,availableHeight:B});const H=await h.getDimensions(g.floating);return _!==H.width||S!==H.height?{reset:{rects:!0}}:{}}}};function td(){return typeof window<"u"}function ma(e){return yy(e)?(e.nodeName||"").toLowerCase():"#document"}function zn(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Xr(e){var t;return(t=(yy(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function yy(e){return td()?e instanceof Node||e instanceof zn(e).Node:!1}function Sr(e){return td()?e instanceof Element||e instanceof zn(e).Element:!1}function zr(e){return td()?e instanceof HTMLElement||e instanceof zn(e).HTMLElement:!1}function em(e){return!td()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof zn(e).ShadowRoot}function Vl(e){const{overflow:t,overflowX:n,overflowY:s,display:a}=br(e);return/auto|scroll|overlay|hidden|clip/.test(t+s+n)&&!["inline","contents"].includes(a)}function P8(e){return["table","td","th"].includes(ma(e))}function nd(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function w0(e){const t=y0(),n=Sr(e)?br(e):e;return["transform","translate","scale","rotate","perspective"].some(s=>n[s]?n[s]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(s=>(n.willChange||"").includes(s))||["paint","layout","strict","content"].some(s=>(n.contain||"").includes(s))}function k8(e){let t=as(e);for(;zr(t)&&!aa(t);){if(w0(t))return t;if(nd(t))return null;t=as(t)}return null}function y0(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function aa(e){return["html","body","#document"].includes(ma(e))}function br(e){return zn(e).getComputedStyle(e)}function rd(e){return Sr(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function as(e){if(ma(e)==="html")return e;const t=e.assignedSlot||e.parentNode||em(e)&&e.host||Xr(e);return em(t)?t.host:t}function vy(e){const t=as(e);return aa(t)?e.ownerDocument?e.ownerDocument.body:e.body:zr(t)&&Vl(t)?t:vy(t)}function bl(e,t,n){var s;t===void 0&&(t=[]),n===void 0&&(n=!0);const a=vy(e),u=a===((s=e.ownerDocument)==null?void 0:s.body),h=zn(a);if(u){const g=Hh(h);return t.concat(h,h.visualViewport||[],Vl(a)?a:[],g&&n?bl(g):[])}return t.concat(a,bl(a,[],n))}function Hh(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function Cy(e){const t=br(e);let n=parseFloat(t.width)||0,s=parseFloat(t.height)||0;const a=zr(e),u=a?e.offsetWidth:n,h=a?e.offsetHeight:s,g=vu(n)!==u||vu(s)!==h;return g&&(n=u,s=h),{width:n,height:s,$:g}}function v0(e){return Sr(e)?e:e.contextElement}function Lo(e){const t=v0(e);if(!zr(t))return Hr(1);const n=t.getBoundingClientRect(),{width:s,height:a,$:u}=Cy(t);let h=(u?vu(n.width):n.width)/s,g=(u?vu(n.height):n.height)/a;return(!h||!Number.isFinite(h))&&(h=1),(!g||!Number.isFinite(g))&&(g=1),{x:h,y:g}}const L8=Hr(0);function Ey(e){const t=zn(e);return!y0()||!t.visualViewport?L8:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function F8(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==zn(e)?!1:t}function zs(e,t,n,s){t===void 0&&(t=!1),n===void 0&&(n=!1);const a=e.getBoundingClientRect(),u=v0(e);let h=Hr(1);t&&(s?Sr(s)&&(h=Lo(s)):h=Lo(e));const g=F8(u,n,s)?Ey(u):Hr(0);let w=(a.left+g.x)/h.x,m=(a.top+g.y)/h.y,C=a.width/h.x,v=a.height/h.y;if(u){const b=zn(u),D=s&&Sr(s)?zn(s):s;let _=b,S=Hh(_);for(;S&&s&&D!==_;){const P=Lo(S),O=S.getBoundingClientRect(),I=br(S),R=O.left+(S.clientLeft+parseFloat(I.paddingLeft))*P.x,F=O.top+(S.clientTop+parseFloat(I.paddingTop))*P.y;w*=P.x,m*=P.y,C*=P.x,v*=P.y,w+=R,m+=F,_=zn(S),S=Hh(_)}}return Eu({width:C,height:v,x:w,y:m})}function C0(e,t){const n=rd(e).scrollLeft;return t?t.left+n:zs(Xr(e)).left+n}function Ay(e,t,n){n===void 0&&(n=!1);const s=e.getBoundingClientRect(),a=s.left+t.scrollLeft-(n?0:C0(e,s)),u=s.top+t.scrollTop;return{x:a,y:u}}function B8(e){let{elements:t,rect:n,offsetParent:s,strategy:a}=e;const u=a==="fixed",h=Xr(s),g=t?nd(t.floating):!1;if(s===h||g&&u)return n;let w={scrollLeft:0,scrollTop:0},m=Hr(1);const C=Hr(0),v=zr(s);if((v||!v&&!u)&&((ma(s)!=="body"||Vl(h))&&(w=rd(s)),zr(s))){const D=zs(s);m=Lo(s),C.x=D.x+s.clientLeft,C.y=D.y+s.clientTop}const b=h&&!v&&!u?Ay(h,w,!0):Hr(0);return{width:n.width*m.x,height:n.height*m.y,x:n.x*m.x-w.scrollLeft*m.x+C.x+b.x,y:n.y*m.y-w.scrollTop*m.y+C.y+b.y}}function j8(e){return Array.from(e.getClientRects())}function U8(e){const t=Xr(e),n=rd(e),s=e.ownerDocument.body,a=Vn(t.scrollWidth,t.clientWidth,s.scrollWidth,s.clientWidth),u=Vn(t.scrollHeight,t.clientHeight,s.scrollHeight,s.clientHeight);let h=-n.scrollLeft+C0(e);const g=-n.scrollTop;return br(s).direction==="rtl"&&(h+=Vn(t.clientWidth,s.clientWidth)-a),{width:a,height:u,x:h,y:g}}function V8(e,t){const n=zn(e),s=Xr(e),a=n.visualViewport;let u=s.clientWidth,h=s.clientHeight,g=0,w=0;if(a){u=a.width,h=a.height;const m=y0();(!m||m&&t==="fixed")&&(g=a.offsetLeft,w=a.offsetTop)}return{width:u,height:h,x:g,y:w}}function W8(e,t){const n=zs(e,!0,t==="fixed"),s=n.top+e.clientTop,a=n.left+e.clientLeft,u=zr(e)?Lo(e):Hr(1),h=e.clientWidth*u.x,g=e.clientHeight*u.y,w=a*u.x,m=s*u.y;return{width:h,height:g,x:w,y:m}}function tm(e,t,n){let s;if(t==="viewport")s=V8(e,n);else if(t==="document")s=U8(Xr(e));else if(Sr(t))s=W8(t,n);else{const a=Ey(e);s={x:t.x-a.x,y:t.y-a.y,width:t.width,height:t.height}}return Eu(s)}function Sy(e,t){const n=as(e);return n===t||!Sr(n)||aa(n)?!1:br(n).position==="fixed"||Sy(n,t)}function H8(e,t){const n=t.get(e);if(n)return n;let s=bl(e,[],!1).filter(g=>Sr(g)&&ma(g)!=="body"),a=null;const u=br(e).position==="fixed";let h=u?as(e):e;for(;Sr(h)&&!aa(h);){const g=br(h),w=w0(h);!w&&g.position==="fixed"&&(a=null),(u?!w&&!a:!w&&g.position==="static"&&!!a&&["absolute","fixed"].includes(a.position)||Vl(h)&&!w&&Sy(e,h))?s=s.filter(C=>C!==h):a=g,h=as(h)}return t.set(e,s),s}function z8(e){let{element:t,boundary:n,rootBoundary:s,strategy:a}=e;const h=[...n==="clippingAncestors"?nd(t)?[]:H8(t,this._c):[].concat(n),s],g=h[0],w=h.reduce((m,C)=>{const v=tm(t,C,a);return m.top=Vn(v.top,m.top),m.right=ss(v.right,m.right),m.bottom=ss(v.bottom,m.bottom),m.left=Vn(v.left,m.left),m},tm(t,g,a));return{width:w.right-w.left,height:w.bottom-w.top,x:w.left,y:w.top}}function G8(e){const{width:t,height:n}=Cy(e);return{width:t,height:n}}function X8(e,t,n){const s=zr(t),a=Xr(t),u=n==="fixed",h=zs(e,!0,u,t);let g={scrollLeft:0,scrollTop:0};const w=Hr(0);if(s||!s&&!u)if((ma(t)!=="body"||Vl(a))&&(g=rd(t)),s){const b=zs(t,!0,u,t);w.x=b.x+t.clientLeft,w.y=b.y+t.clientTop}else a&&(w.x=C0(a));const m=a&&!s&&!u?Ay(a,g):Hr(0),C=h.left+g.scrollLeft-w.x-m.x,v=h.top+g.scrollTop-w.y-m.y;return{x:C,y:v,width:h.width,height:h.height}}function xf(e){return br(e).position==="static"}function nm(e,t){if(!zr(e)||br(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return Xr(e)===n&&(n=n.ownerDocument.body),n}function by(e,t){const n=zn(e);if(nd(e))return n;if(!zr(e)){let a=as(e);for(;a&&!aa(a);){if(Sr(a)&&!xf(a))return a;a=as(a)}return n}let s=nm(e,t);for(;s&&P8(s)&&xf(s);)s=nm(s,t);return s&&aa(s)&&xf(s)&&!w0(s)?n:s||k8(e)||n}const Y8=async function(e){const t=this.getOffsetParent||by,n=this.getDimensions,s=await n(e.floating);return{reference:X8(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:s.width,height:s.height}}};function K8(e){return br(e).direction==="rtl"}const Q8={convertOffsetParentRelativeRectToViewportRelativeRect:B8,getDocumentElement:Xr,getClippingRect:z8,getOffsetParent:by,getElementRects:Y8,getClientRects:j8,getDimensions:G8,getScale:Lo,isElement:Sr,isRTL:K8};function Ny(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function q8(e,t){let n=null,s;const a=Xr(e);function u(){var g;clearTimeout(s),(g=n)==null||g.disconnect(),n=null}function h(g,w){g===void 0&&(g=!1),w===void 0&&(w=1),u();const m=e.getBoundingClientRect(),{left:C,top:v,width:b,height:D}=m;if(g||t(),!b||!D)return;const _=Sc(v),S=Sc(a.clientWidth-(C+b)),P=Sc(a.clientHeight-(v+D)),O=Sc(C),R={rootMargin:-_+"px "+-S+"px "+-P+"px "+-O+"px",threshold:Vn(0,ss(1,w))||1};let F=!0;function W(z){const B=z[0].intersectionRatio;if(B!==w){if(!F)return h();B?h(!1,B):s=setTimeout(()=>{h(!1,1e-7)},1e3)}B===1&&!Ny(m,e.getBoundingClientRect())&&h(),F=!1}try{n=new IntersectionObserver(W,{...R,root:a.ownerDocument})}catch{n=new IntersectionObserver(W,R)}n.observe(e)}return h(!0),u}function Z8(e,t,n,s){s===void 0&&(s={});const{ancestorScroll:a=!0,ancestorResize:u=!0,elementResize:h=typeof ResizeObserver=="function",layoutShift:g=typeof IntersectionObserver=="function",animationFrame:w=!1}=s,m=v0(e),C=a||u?[...m?bl(m):[],...bl(t)]:[];C.forEach(O=>{a&&O.addEventListener("scroll",n,{passive:!0}),u&&O.addEventListener("resize",n)});const v=m&&g?q8(m,n):null;let b=-1,D=null;h&&(D=new ResizeObserver(O=>{let[I]=O;I&&I.target===m&&D&&(D.unobserve(t),cancelAnimationFrame(b),b=requestAnimationFrame(()=>{var R;(R=D)==null||R.observe(t)})),n()}),m&&!w&&D.observe(m),D.observe(t));let _,S=w?zs(e):null;w&&P();function P(){const O=zs(e);S&&!Ny(S,O)&&n(),S=O,_=requestAnimationFrame(P)}return n(),()=>{var O;C.forEach(I=>{a&&I.removeEventListener("scroll",n),u&&I.removeEventListener("resize",n)}),v==null||v(),(O=D)==null||O.disconnect(),D=null,w&&cancelAnimationFrame(_)}}const $8=_8,J8=O8,eN=I8,tN=D8,nN=T8,rm=N8,rN=M8,iN=(e,t,n)=>{const s=new Map,a={platform:Q8,...n},u={...a.platform,_c:s};return b8(e,t,{...a,platform:u})};var zc=typeof document<"u"?A.useLayoutEffect:A.useEffect;function Au(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,s,a;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(s=n;s--!==0;)if(!Au(e[s],t[s]))return!1;return!0}if(a=Object.keys(e),n=a.length,n!==Object.keys(t).length)return!1;for(s=n;s--!==0;)if(!{}.hasOwnProperty.call(t,a[s]))return!1;for(s=n;s--!==0;){const u=a[s];if(!(u==="_owner"&&e.$$typeof)&&!Au(e[u],t[u]))return!1}return!0}return e!==e&&t!==t}function Iy(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function im(e,t){const n=Iy(e);return Math.round(t*n)/n}function wf(e){const t=A.useRef(e);return zc(()=>{t.current=e}),t}function sN(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:s=[],platform:a,elements:{reference:u,floating:h}={},transform:g=!0,whileElementsMounted:w,open:m}=e,[C,v]=A.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[b,D]=A.useState(s);Au(b,s)||D(s);const[_,S]=A.useState(null),[P,O]=A.useState(null),I=A.useCallback(Z=>{Z!==z.current&&(z.current=Z,S(Z))},[]),R=A.useCallback(Z=>{Z!==B.current&&(B.current=Z,O(Z))},[]),F=u||_,W=h||P,z=A.useRef(null),B=A.useRef(null),G=A.useRef(C),H=w!=null,re=wf(w),de=wf(a),J=wf(m),fe=A.useCallback(()=>{if(!z.current||!B.current)return;const Z={placement:t,strategy:n,middleware:b};de.current&&(Z.platform=de.current),iN(z.current,B.current,Z).then($=>{const ce={...$,isPositioned:J.current!==!1};te.current&&!Au(G.current,ce)&&(G.current=ce,Qs.flushSync(()=>{v(ce)}))})},[b,t,n,de,J]);zc(()=>{m===!1&&G.current.isPositioned&&(G.current.isPositioned=!1,v(Z=>({...Z,isPositioned:!1})))},[m]);const te=A.useRef(!1);zc(()=>(te.current=!0,()=>{te.current=!1}),[]),zc(()=>{if(F&&(z.current=F),W&&(B.current=W),F&&W){if(re.current)return re.current(F,W,fe);fe()}},[F,W,fe,re,H]);const X=A.useMemo(()=>({reference:z,floating:B,setReference:I,setFloating:R}),[I,R]),le=A.useMemo(()=>({reference:F,floating:W}),[F,W]),ae=A.useMemo(()=>{const Z={position:n,left:0,top:0};if(!le.floating)return Z;const $=im(le.floating,C.x),ce=im(le.floating,C.y);return g?{...Z,transform:"translate("+$+"px, "+ce+"px)",...Iy(le.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:$,top:ce}},[n,g,le.floating,C.x,C.y]);return A.useMemo(()=>({...C,update:fe,refs:X,elements:le,floatingStyles:ae}),[C,fe,X,le,ae])}const oN=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:s,padding:a}=typeof e=="function"?e(n):e;return s&&t(s)?s.current!=null?rm({element:s.current,padding:a}).fn(n):{}:s?rm({element:s,padding:a}).fn(n):{}}}},aN=(e,t)=>({...$8(e),options:[e,t]}),lN=(e,t)=>({...J8(e),options:[e,t]}),cN=(e,t)=>({...rN(e),options:[e,t]}),uN=(e,t)=>({...eN(e),options:[e,t]}),dN=(e,t)=>({...tN(e),options:[e,t]}),fN=(e,t)=>({...nN(e),options:[e,t]}),hN=(e,t)=>({...oN(e),options:[e,t]});var pN="Arrow",Ty=A.forwardRef((e,t)=>{const{children:n,width:s=10,height:a=5,...u}=e;return x.jsx(Le.svg,{...u,ref:t,width:s,height:a,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:x.jsx("polygon",{points:"0,0 30,0 15,10"})})});Ty.displayName=pN;var gN=Ty;function mN(e){const[t,n]=A.useState(void 0);return fn(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const s=new ResizeObserver(a=>{if(!Array.isArray(a)||!a.length)return;const u=a[0];let h,g;if("borderBoxSize"in u){const w=u.borderBoxSize,m=Array.isArray(w)?w[0]:w;h=m.inlineSize,g=m.blockSize}else h=e.offsetWidth,g=e.offsetHeight;n({width:h,height:g})});return s.observe(e,{box:"border-box"}),()=>s.unobserve(e)}else n(void 0)},[e]),t}var E0="Popper",[Ry,xa]=gi(E0),[xN,_y]=Ry(E0),Oy=e=>{const{__scopePopper:t,children:n}=e,[s,a]=A.useState(null);return x.jsx(xN,{scope:t,anchor:s,onAnchorChange:a,children:n})};Oy.displayName=E0;var My="PopperAnchor",Dy=A.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:s,...a}=e,u=_y(My,n),h=A.useRef(null),g=st(t,h);return A.useEffect(()=>{u.onAnchorChange((s==null?void 0:s.current)||h.current)}),s?null:x.jsx(Le.div,{...a,ref:g})});Dy.displayName=My;var A0="PopperContent",[wN,yN]=Ry(A0),Py=A.forwardRef((e,t)=>{var ve,Te,Ke,We,Oe,Ge;const{__scopePopper:n,side:s="bottom",sideOffset:a=0,align:u="center",alignOffset:h=0,arrowPadding:g=0,avoidCollisions:w=!0,collisionBoundary:m=[],collisionPadding:C=0,sticky:v="partial",hideWhenDetached:b=!1,updatePositionStrategy:D="optimized",onPlaced:_,...S}=e,P=_y(A0,n),[O,I]=A.useState(null),R=st(t,Re=>I(Re)),[F,W]=A.useState(null),z=mN(F),B=(z==null?void 0:z.width)??0,G=(z==null?void 0:z.height)??0,H=s+(u!=="center"?"-"+u:""),re=typeof C=="number"?C:{top:0,right:0,bottom:0,left:0,...C},de=Array.isArray(m)?m:[m],J=de.length>0,fe={padding:re,boundary:de.filter(CN),altBoundary:J},{refs:te,floatingStyles:X,placement:le,isPositioned:ae,middlewareData:Z}=sN({strategy:"fixed",placement:H,whileElementsMounted:(...Re)=>Z8(...Re,{animationFrame:D==="always"}),elements:{reference:P.anchor},middleware:[aN({mainAxis:a+G,alignmentAxis:h}),w&&lN({mainAxis:!0,crossAxis:!1,limiter:v==="partial"?cN():void 0,...fe}),w&&uN({...fe}),dN({...fe,apply:({elements:Re,rects:Qt,availableWidth:nn,availableHeight:cr})=>{const{width:At,height:rt}=Qt.reference,je=Re.floating.style;je.setProperty("--radix-popper-available-width",`${nn}px`),je.setProperty("--radix-popper-available-height",`${cr}px`),je.setProperty("--radix-popper-anchor-width",`${At}px`),je.setProperty("--radix-popper-anchor-height",`${rt}px`)}}),F&&hN({element:F,padding:g}),EN({arrowWidth:B,arrowHeight:G}),b&&fN({strategy:"referenceHidden",...fe})]}),[$,ce]=Fy(le),Ce=dn(_);fn(()=>{ae&&(Ce==null||Ce())},[ae,Ce]);const Ae=(ve=Z.arrow)==null?void 0:ve.x,at=(Te=Z.arrow)==null?void 0:Te.y,Fe=((Ke=Z.arrow)==null?void 0:Ke.centerOffset)!==0,[Kt,he]=A.useState();return fn(()=>{O&&he(window.getComputedStyle(O).zIndex)},[O]),x.jsx("div",{ref:te.setFloating,"data-radix-popper-content-wrapper":"",style:{...X,transform:ae?X.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Kt,"--radix-popper-transform-origin":[(We=Z.transformOrigin)==null?void 0:We.x,(Oe=Z.transformOrigin)==null?void 0:Oe.y].join(" "),...((Ge=Z.hide)==null?void 0:Ge.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:x.jsx(wN,{scope:n,placedSide:$,onArrowChange:W,arrowX:Ae,arrowY:at,shouldHideArrow:Fe,children:x.jsx(Le.div,{"data-side":$,"data-align":ce,...S,ref:R,style:{...S.style,animation:ae?void 0:"none"}})})})});Py.displayName=A0;var ky="PopperArrow",vN={top:"bottom",right:"left",bottom:"top",left:"right"},Ly=A.forwardRef(function(t,n){const{__scopePopper:s,...a}=t,u=yN(ky,s),h=vN[u.placedSide];return x.jsx("span",{ref:u.onArrowChange,style:{position:"absolute",left:u.arrowX,top:u.arrowY,[h]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[u.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[u.placedSide],visibility:u.shouldHideArrow?"hidden":void 0},children:x.jsx(gN,{...a,ref:n,style:{...a.style,display:"block"}})})});Ly.displayName=ky;function CN(e){return e!==null}var EN=e=>({name:"transformOrigin",options:e,fn(t){var P,O,I;const{placement:n,rects:s,middlewareData:a}=t,h=((P=a.arrow)==null?void 0:P.centerOffset)!==0,g=h?0:e.arrowWidth,w=h?0:e.arrowHeight,[m,C]=Fy(n),v={start:"0%",center:"50%",end:"100%"}[C],b=(((O=a.arrow)==null?void 0:O.x)??0)+g/2,D=(((I=a.arrow)==null?void 0:I.y)??0)+w/2;let _="",S="";return m==="bottom"?(_=h?v:`${b}px`,S=`${-w}px`):m==="top"?(_=h?v:`${b}px`,S=`${s.floating.height+w}px`):m==="right"?(_=`${-w}px`,S=h?v:`${D}px`):m==="left"&&(_=`${s.floating.width+w}px`,S=h?v:`${D}px`),{data:{x:_,y:S}}}});function Fy(e){const[t,n="center"]=e.split("-");return[t,n]}var By=Oy,S0=Dy,b0=Py,N0=Ly,[id,j_]=gi("Tooltip",[xa]),I0=xa(),jy="TooltipProvider",AN=700,sm="tooltip.open",[SN,Uy]=id(jy),Vy=e=>{const{__scopeTooltip:t,delayDuration:n=AN,skipDelayDuration:s=300,disableHoverableContent:a=!1,children:u}=e,h=A.useRef(!0),g=A.useRef(!1),w=A.useRef(0);return A.useEffect(()=>{const m=w.current;return()=>window.clearTimeout(m)},[]),x.jsx(SN,{scope:t,isOpenDelayedRef:h,delayDuration:n,onOpen:A.useCallback(()=>{window.clearTimeout(w.current),h.current=!1},[]),onClose:A.useCallback(()=>{window.clearTimeout(w.current),w.current=window.setTimeout(()=>h.current=!0,s)},[s]),isPointerInTransitRef:g,onPointerInTransitChange:A.useCallback(m=>{g.current=m},[]),disableHoverableContent:a,children:u})};Vy.displayName=jy;var Wy="Tooltip",[U_,sd]=id(Wy),zh="TooltipTrigger",bN=A.forwardRef((e,t)=>{const{__scopeTooltip:n,...s}=e,a=sd(zh,n),u=Uy(zh,n),h=I0(n),g=A.useRef(null),w=st(t,g,a.onTriggerChange),m=A.useRef(!1),C=A.useRef(!1),v=A.useCallback(()=>m.current=!1,[]);return A.useEffect(()=>()=>document.removeEventListener("pointerup",v),[v]),x.jsx(S0,{asChild:!0,...h,children:x.jsx(Le.button,{"aria-describedby":a.open?a.contentId:void 0,"data-state":a.stateAttribute,...s,ref:w,onPointerMove:pe(e.onPointerMove,b=>{b.pointerType!=="touch"&&!C.current&&!u.isPointerInTransitRef.current&&(a.onTriggerEnter(),C.current=!0)}),onPointerLeave:pe(e.onPointerLeave,()=>{a.onTriggerLeave(),C.current=!1}),onPointerDown:pe(e.onPointerDown,()=>{a.open&&a.onClose(),m.current=!0,document.addEventListener("pointerup",v,{once:!0})}),onFocus:pe(e.onFocus,()=>{m.current||a.onOpen()}),onBlur:pe(e.onBlur,a.onClose),onClick:pe(e.onClick,a.onClose)})})});bN.displayName=zh;var NN="TooltipPortal",[V_,IN]=id(NN,{forceMount:void 0}),la="TooltipContent",Hy=A.forwardRef((e,t)=>{const n=IN(la,e.__scopeTooltip),{forceMount:s=n.forceMount,side:a="top",...u}=e,h=sd(la,e.__scopeTooltip);return x.jsx(ds,{present:s||h.open,children:h.disableHoverableContent?x.jsx(zy,{side:a,...u,ref:t}):x.jsx(TN,{side:a,...u,ref:t})})}),TN=A.forwardRef((e,t)=>{const n=sd(la,e.__scopeTooltip),s=Uy(la,e.__scopeTooltip),a=A.useRef(null),u=st(t,a),[h,g]=A.useState(null),{trigger:w,onClose:m}=n,C=a.current,{onPointerInTransitChange:v}=s,b=A.useCallback(()=>{g(null),v(!1)},[v]),D=A.useCallback((_,S)=>{const P=_.currentTarget,O={x:_.clientX,y:_.clientY},I=DN(O,P.getBoundingClientRect()),R=PN(O,I),F=kN(S.getBoundingClientRect()),W=FN([...R,...F]);g(W),v(!0)},[v]);return A.useEffect(()=>()=>b(),[b]),A.useEffect(()=>{if(w&&C){const _=P=>D(P,C),S=P=>D(P,w);return w.addEventListener("pointerleave",_),C.addEventListener("pointerleave",S),()=>{w.removeEventListener("pointerleave",_),C.removeEventListener("pointerleave",S)}}},[w,C,D,b]),A.useEffect(()=>{if(h){const _=S=>{const P=S.target,O={x:S.clientX,y:S.clientY},I=(w==null?void 0:w.contains(P))||(C==null?void 0:C.contains(P)),R=!LN(O,h);I?b():R&&(b(),m())};return document.addEventListener("pointermove",_),()=>document.removeEventListener("pointermove",_)}},[w,C,h,m,b]),x.jsx(zy,{...e,ref:u})}),[RN,_N]=id(Wy,{isInside:!1}),ON=kb("TooltipContent"),zy=A.forwardRef((e,t)=>{const{__scopeTooltip:n,children:s,"aria-label":a,onEscapeKeyDown:u,onPointerDownOutside:h,...g}=e,w=sd(la,n),m=I0(n),{onClose:C}=w;return A.useEffect(()=>(document.addEventListener(sm,C),()=>document.removeEventListener(sm,C)),[C]),A.useEffect(()=>{if(w.trigger){const v=b=>{const D=b.target;D!=null&&D.contains(w.trigger)&&C()};return window.addEventListener("scroll",v,{capture:!0}),()=>window.removeEventListener("scroll",v,{capture:!0})}},[w.trigger,C]),x.jsx(jl,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:u,onPointerDownOutside:h,onFocusOutside:v=>v.preventDefault(),onDismiss:C,children:x.jsxs(b0,{"data-state":w.stateAttribute,...m,...g,ref:t,style:{...g.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[x.jsx(ON,{children:s}),x.jsx(RN,{scope:n,isInside:!0,children:x.jsx(t4,{id:w.contentId,role:"tooltip",children:a||s})})]})})});Hy.displayName=la;var Gy="TooltipArrow",MN=A.forwardRef((e,t)=>{const{__scopeTooltip:n,...s}=e,a=I0(n);return _N(Gy,n).isInside?null:x.jsx(N0,{...a,...s,ref:t})});MN.displayName=Gy;function DN(e,t){const n=Math.abs(t.top-e.y),s=Math.abs(t.bottom-e.y),a=Math.abs(t.right-e.x),u=Math.abs(t.left-e.x);switch(Math.min(n,s,a,u)){case u:return"left";case a:return"right";case n:return"top";case s:return"bottom";default:throw new Error("unreachable")}}function PN(e,t,n=5){const s=[];switch(t){case"top":s.push({x:e.x-n,y:e.y+n},{x:e.x+n,y:e.y+n});break;case"bottom":s.push({x:e.x-n,y:e.y-n},{x:e.x+n,y:e.y-n});break;case"left":s.push({x:e.x+n,y:e.y-n},{x:e.x+n,y:e.y+n});break;case"right":s.push({x:e.x-n,y:e.y-n},{x:e.x-n,y:e.y+n});break}return s}function kN(e){const{top:t,right:n,bottom:s,left:a}=e;return[{x:a,y:t},{x:n,y:t},{x:n,y:s},{x:a,y:s}]}function LN(e,t){const{x:n,y:s}=e;let a=!1;for(let u=0,h=t.length-1;u<t.length;h=u++){const g=t[u].x,w=t[u].y,m=t[h].x,C=t[h].y;w>s!=C>s&&n<(m-g)*(s-w)/(C-w)+g&&(a=!a)}return a}function FN(e){const t=e.slice();return t.sort((n,s)=>n.x<s.x?-1:n.x>s.x?1:n.y<s.y?-1:n.y>s.y?1:0),BN(t)}function BN(e){if(e.length<=1)return e.slice();const t=[];for(let s=0;s<e.length;s++){const a=e[s];for(;t.length>=2;){const u=t[t.length-1],h=t[t.length-2];if((u.x-h.x)*(a.y-h.y)>=(u.y-h.y)*(a.x-h.x))t.pop();else break}t.push(a)}t.pop();const n=[];for(let s=e.length-1;s>=0;s--){const a=e[s];for(;n.length>=2;){const u=n[n.length-1],h=n[n.length-2];if((u.x-h.x)*(a.y-h.y)>=(u.y-h.y)*(a.x-h.x))n.pop();else break}n.push(a)}return n.pop(),t.length===1&&n.length===1&&t[0].x===n[0].x&&t[0].y===n[0].y?t:t.concat(n)}var jN=Vy,Xy=Hy;const UN=jN,VN=A.forwardRef(({className:e,sideOffset:t=4,...n},s)=>x.jsx(Xy,{ref:s,sideOffset:t,className:_e("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-tooltip-content-transform-origin]",e),...n}));VN.displayName=Xy.displayName;const Yy=A.createContext(null);function WN({children:e}){const{toast:t}=qs(),{data:n,error:s,isLoading:a}=Ar({queryKey:["/api/user"],retry:!1}),u=ri({mutationFn:async w=>{const m=await ii("POST","/api/auth/login",w);if(!m.ok){const C=await m.text();throw new Error(C||"Login failed")}return await m.json()},onSuccess:w=>{ir.setQueryData(["/api/user"],w),t({title:"Welcome back!",description:`Logged in as ${w.name}`})},onError:w=>{t({title:"Login failed",description:w.message,variant:"destructive"})}}),h=ri({mutationFn:async w=>{const m=await ii("POST","/api/auth/register",w);if(!m.ok){const C=await m.text();throw new Error(C||"Registration failed")}return await m.json()},onSuccess:w=>{ir.setQueryData(["/api/user"],w),t({title:"Account created!",description:`Welcome, ${w.name}`})},onError:w=>{t({title:"Registration failed",description:w.message,variant:"destructive"})}}),g=ri({mutationFn:async()=>{await ii("POST","/api/auth/logout",{})},onSuccess:()=>{ir.setQueryData(["/api/user"],null),ir.clear(),t({title:"Logged out",description:"You have been logged out successfully"})},onError:w=>{t({title:"Logout failed",description:w.message,variant:"destructive"})}});return x.jsx(Yy.Provider,{value:{user:n??null,isLoading:a,error:s,loginMutation:u,logoutMutation:g,registerMutation:h},children:e})}function wa(){const e=A.useContext(Yy);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e}function Ni({path:e,component:t,allowedRoles:n}){const{user:s,isLoading:a}=wa();return a?x.jsx(No,{path:e,children:x.jsx("div",{className:"flex items-center justify-center min-h-screen bg-background",children:x.jsx(ay,{className:"h-8 w-8 animate-spin text-primary","data-testid":"loading-spinner"})})}):s?n&&!n.includes(s.role)?x.jsx(No,{path:e,children:x.jsx("div",{className:"flex items-center justify-center min-h-screen bg-background",children:x.jsxs("div",{className:"text-center",children:[x.jsx("h1",{className:"text-2xl font-bold text-foreground mb-2",children:"Access Denied"}),x.jsx("p",{className:"text-muted-foreground",children:"You don't have permission to view this page."})]})})}):x.jsx(No,{path:e,component:t}):x.jsx(No,{path:e,children:x.jsx(KS,{to:"/auth"})})}var wn=(e=>(e.ADMIN="ADMIN",e.STUDENT="STUDENT",e.MARKER="MARKER",e))(wn||{});function HN(){const{user:e,isLoading:t}=wa(),[,n]=Gr();return A.useEffect(()=>{if(!t&&e)switch(e.role){case wn.ADMIN:n("/admin");break;case wn.STUDENT:n("/student");break;case wn.MARKER:n("/marker");break;default:n("/auth")}},[e,t,n]),x.jsx("div",{className:"flex items-center justify-center min-h-screen bg-background",children:x.jsx(ay,{className:"h-8 w-8 animate-spin text-primary","data-testid":"loading-redirect"})})}const zN=Ju("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 hover-elevate active-elevate-2",{variants:{variant:{default:"bg-primary text-primary-foreground border border-primary-border",destructive:"bg-destructive text-destructive-foreground border border-destructive-border",outline:" border [border-color:var(--button-outline)]  shadow-xs active:shadow-none ",secondary:"border bg-secondary text-secondary-foreground border border-secondary-border ",ghost:"border border-transparent"},size:{default:"min-h-9 px-4 py-2",sm:"min-h-8 rounded-md px-3 text-xs",lg:"min-h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),Et=A.forwardRef(({className:e,variant:t,size:n,asChild:s=!1,...a},u)=>{const h=s?Db:"button";return x.jsx(h,{className:_e(zN({variant:t,size:n,className:e})),ref:u,...a})});Et.displayName="Button";const Mn=A.forwardRef(({className:e,type:t,...n},s)=>x.jsx("input",{type:t,className:_e("flex h-9 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:s,...n}));Mn.displayName="Input";var GN="Label",Ky=A.forwardRef((e,t)=>x.jsx(Le.label,{...e,ref:t,onMouseDown:n=>{var a;n.target.closest("button, input, select, textarea")||((a=e.onMouseDown)==null||a.call(e,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));Ky.displayName=GN;var Qy=Ky;const XN=Ju("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),yn=A.forwardRef(({className:e,...t},n)=>x.jsx(Qy,{ref:n,className:_e(XN(),e),...t}));yn.displayName=Qy.displayName;const et=A.forwardRef(({className:e,...t},n)=>x.jsx("div",{ref:n,className:_e("shadcn-card rounded-xl border bg-card border-card-border text-card-foreground shadow-sm",e),...t}));et.displayName="Card";const ht=A.forwardRef(({className:e,...t},n)=>x.jsx("div",{ref:n,className:_e("flex flex-col space-y-1.5 p-6",e),...t}));ht.displayName="CardHeader";const pt=A.forwardRef(({className:e,...t},n)=>x.jsx("div",{ref:n,className:_e("text-2xl font-semibold leading-none tracking-tight",e),...t}));pt.displayName="CardTitle";const Gn=A.forwardRef(({className:e,...t},n)=>x.jsx("div",{ref:n,className:_e("text-sm text-muted-foreground",e),...t}));Gn.displayName="CardDescription";const tt=A.forwardRef(({className:e,...t},n)=>x.jsx("div",{ref:n,className:_e("p-6 pt-0",e),...t}));tt.displayName="CardContent";const YN=A.forwardRef(({className:e,...t},n)=>x.jsx("div",{ref:n,className:_e("flex items-center p-6 pt-0",e),...t}));YN.displayName="CardFooter";var KN=A.createContext(void 0);function od(e){const t=A.useContext(KN);return e||t||"ltr"}var yf="rovingFocusGroup.onEntryFocus",QN={bubbles:!1,cancelable:!0},ad="RovingFocusGroup",[Gh,qy,qN]=Qu(ad),[ZN,ld]=gi(ad,[qN]),[$N,JN]=ZN(ad),Zy=A.forwardRef((e,t)=>x.jsx(Gh.Provider,{scope:e.__scopeRovingFocusGroup,children:x.jsx(Gh.Slot,{scope:e.__scopeRovingFocusGroup,children:x.jsx(eI,{...e,ref:t})})}));Zy.displayName=ad;var eI=A.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:s,loop:a=!1,dir:u,currentTabStopId:h,defaultCurrentTabStopId:g,onCurrentTabStopIdChange:w,onEntryFocus:m,preventScrollOnEntryFocus:C=!1,...v}=e,b=A.useRef(null),D=st(t,b),_=od(u),[S=null,P]=oa({prop:h,defaultProp:g,onChange:w}),[O,I]=A.useState(!1),R=dn(m),F=qy(n),W=A.useRef(!1),[z,B]=A.useState(0);return A.useEffect(()=>{const G=b.current;if(G)return G.addEventListener(yf,R),()=>G.removeEventListener(yf,R)},[R]),x.jsx($N,{scope:n,orientation:s,dir:_,loop:a,currentTabStopId:S,onItemFocus:A.useCallback(G=>P(G),[P]),onItemShiftTab:A.useCallback(()=>I(!0),[]),onFocusableItemAdd:A.useCallback(()=>B(G=>G+1),[]),onFocusableItemRemove:A.useCallback(()=>B(G=>G-1),[]),children:x.jsx(Le.div,{tabIndex:O||z===0?-1:0,"data-orientation":s,...v,ref:D,style:{outline:"none",...e.style},onMouseDown:pe(e.onMouseDown,()=>{W.current=!0}),onFocus:pe(e.onFocus,G=>{const H=!W.current;if(G.target===G.currentTarget&&H&&!O){const re=new CustomEvent(yf,QN);if(G.currentTarget.dispatchEvent(re),!re.defaultPrevented){const de=F().filter(le=>le.focusable),J=de.find(le=>le.active),fe=de.find(le=>le.id===S),X=[J,fe,...de].filter(Boolean).map(le=>le.ref.current);ev(X,C)}}W.current=!1}),onBlur:pe(e.onBlur,()=>I(!1))})})}),$y="RovingFocusGroupItem",Jy=A.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:s=!0,active:a=!1,tabStopId:u,...h}=e,g=Hs(),w=u||g,m=JN($y,n),C=m.currentTabStopId===w,v=qy(n),{onFocusableItemAdd:b,onFocusableItemRemove:D}=m;return A.useEffect(()=>{if(s)return b(),()=>D()},[s,b,D]),x.jsx(Gh.ItemSlot,{scope:n,id:w,focusable:s,active:a,children:x.jsx(Le.span,{tabIndex:C?0:-1,"data-orientation":m.orientation,...h,ref:t,onMouseDown:pe(e.onMouseDown,_=>{s?m.onItemFocus(w):_.preventDefault()}),onFocus:pe(e.onFocus,()=>m.onItemFocus(w)),onKeyDown:pe(e.onKeyDown,_=>{if(_.key==="Tab"&&_.shiftKey){m.onItemShiftTab();return}if(_.target!==_.currentTarget)return;const S=rI(_,m.orientation,m.dir);if(S!==void 0){if(_.metaKey||_.ctrlKey||_.altKey||_.shiftKey)return;_.preventDefault();let O=v().filter(I=>I.focusable).map(I=>I.ref.current);if(S==="last")O.reverse();else if(S==="prev"||S==="next"){S==="prev"&&O.reverse();const I=O.indexOf(_.currentTarget);O=m.loop?iI(O,I+1):O.slice(I+1)}setTimeout(()=>ev(O))}})})})});Jy.displayName=$y;var tI={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function nI(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function rI(e,t,n){const s=nI(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(s))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(s)))return tI[s]}function ev(e,t=!1){const n=document.activeElement;for(const s of e)if(s===n||(s.focus({preventScroll:t}),document.activeElement!==n))return}function iI(e,t){return e.map((n,s)=>e[(t+s)%e.length])}var tv=Zy,nv=Jy,T0="Tabs",[sI,W_]=gi(T0,[ld]),rv=ld(),[oI,R0]=sI(T0),iv=A.forwardRef((e,t)=>{const{__scopeTabs:n,value:s,onValueChange:a,defaultValue:u,orientation:h="horizontal",dir:g,activationMode:w="automatic",...m}=e,C=od(g),[v,b]=oa({prop:s,onChange:a,defaultProp:u});return x.jsx(oI,{scope:n,baseId:Hs(),value:v,onValueChange:b,orientation:h,dir:C,activationMode:w,children:x.jsx(Le.div,{dir:C,"data-orientation":h,...m,ref:t})})});iv.displayName=T0;var sv="TabsList",ov=A.forwardRef((e,t)=>{const{__scopeTabs:n,loop:s=!0,...a}=e,u=R0(sv,n),h=rv(n);return x.jsx(tv,{asChild:!0,...h,orientation:u.orientation,dir:u.dir,loop:s,children:x.jsx(Le.div,{role:"tablist","aria-orientation":u.orientation,...a,ref:t})})});ov.displayName=sv;var av="TabsTrigger",lv=A.forwardRef((e,t)=>{const{__scopeTabs:n,value:s,disabled:a=!1,...u}=e,h=R0(av,n),g=rv(n),w=dv(h.baseId,s),m=fv(h.baseId,s),C=s===h.value;return x.jsx(nv,{asChild:!0,...g,focusable:!a,active:C,children:x.jsx(Le.button,{type:"button",role:"tab","aria-selected":C,"aria-controls":m,"data-state":C?"active":"inactive","data-disabled":a?"":void 0,disabled:a,id:w,...u,ref:t,onMouseDown:pe(e.onMouseDown,v=>{!a&&v.button===0&&v.ctrlKey===!1?h.onValueChange(s):v.preventDefault()}),onKeyDown:pe(e.onKeyDown,v=>{[" ","Enter"].includes(v.key)&&h.onValueChange(s)}),onFocus:pe(e.onFocus,()=>{const v=h.activationMode!=="manual";!C&&!a&&v&&h.onValueChange(s)})})})});lv.displayName=av;var cv="TabsContent",uv=A.forwardRef((e,t)=>{const{__scopeTabs:n,value:s,forceMount:a,children:u,...h}=e,g=R0(cv,n),w=dv(g.baseId,s),m=fv(g.baseId,s),C=s===g.value,v=A.useRef(C);return A.useEffect(()=>{const b=requestAnimationFrame(()=>v.current=!1);return()=>cancelAnimationFrame(b)},[]),x.jsx(ds,{present:a||C,children:({present:b})=>x.jsx(Le.div,{"data-state":C?"active":"inactive","data-orientation":g.orientation,role:"tabpanel","aria-labelledby":w,hidden:!b,id:m,tabIndex:0,...h,ref:t,style:{...e.style,animationDuration:v.current?"0s":void 0},children:b&&u})})});uv.displayName=cv;function dv(e,t){return`${e}-trigger-${t}`}function fv(e,t){return`${e}-content-${t}`}var aI=iv,hv=ov,pv=lv,gv=uv;const lI=aI,mv=A.forwardRef(({className:e,...t},n)=>x.jsx(hv,{ref:n,className:_e("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));mv.displayName=hv.displayName;const Xh=A.forwardRef(({className:e,...t},n)=>x.jsx(pv,{ref:n,className:_e("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...t}));Xh.displayName=pv.displayName;const Yh=A.forwardRef(({className:e,...t},n)=>x.jsx(gv,{ref:n,className:_e("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));Yh.displayName=gv.displayName;function om(e,[t,n]){return Math.min(n,Math.max(t,e))}var vf=0;function xv(){A.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??am()),document.body.insertAdjacentElement("beforeend",e[1]??am()),vf++,()=>{vf===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),vf--}},[])}function am(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Cf="focusScope.autoFocusOnMount",Ef="focusScope.autoFocusOnUnmount",lm={bubbles:!1,cancelable:!0},cI="FocusScope",_0=A.forwardRef((e,t)=>{const{loop:n=!1,trapped:s=!1,onMountAutoFocus:a,onUnmountAutoFocus:u,...h}=e,[g,w]=A.useState(null),m=dn(a),C=dn(u),v=A.useRef(null),b=st(t,S=>w(S)),D=A.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;A.useEffect(()=>{if(s){let S=function(R){if(D.paused||!g)return;const F=R.target;g.contains(F)?v.current=F:_i(v.current,{select:!0})},P=function(R){if(D.paused||!g)return;const F=R.relatedTarget;F!==null&&(g.contains(F)||_i(v.current,{select:!0}))},O=function(R){if(document.activeElement===document.body)for(const W of R)W.removedNodes.length>0&&_i(g)};document.addEventListener("focusin",S),document.addEventListener("focusout",P);const I=new MutationObserver(O);return g&&I.observe(g,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",S),document.removeEventListener("focusout",P),I.disconnect()}}},[s,g,D.paused]),A.useEffect(()=>{if(g){um.add(D);const S=document.activeElement;if(!g.contains(S)){const O=new CustomEvent(Cf,lm);g.addEventListener(Cf,m),g.dispatchEvent(O),O.defaultPrevented||(uI(gI(wv(g)),{select:!0}),document.activeElement===S&&_i(g))}return()=>{g.removeEventListener(Cf,m),setTimeout(()=>{const O=new CustomEvent(Ef,lm);g.addEventListener(Ef,C),g.dispatchEvent(O),O.defaultPrevented||_i(S??document.body,{select:!0}),g.removeEventListener(Ef,C),um.remove(D)},0)}}},[g,m,C,D]);const _=A.useCallback(S=>{if(!n&&!s||D.paused)return;const P=S.key==="Tab"&&!S.altKey&&!S.ctrlKey&&!S.metaKey,O=document.activeElement;if(P&&O){const I=S.currentTarget,[R,F]=dI(I);R&&F?!S.shiftKey&&O===F?(S.preventDefault(),n&&_i(R,{select:!0})):S.shiftKey&&O===R&&(S.preventDefault(),n&&_i(F,{select:!0})):O===I&&S.preventDefault()}},[n,s,D.paused]);return x.jsx(Le.div,{tabIndex:-1,...h,ref:b,onKeyDown:_})});_0.displayName=cI;function uI(e,{select:t=!1}={}){const n=document.activeElement;for(const s of e)if(_i(s,{select:t}),document.activeElement!==n)return}function dI(e){const t=wv(e),n=cm(t,e),s=cm(t.reverse(),e);return[n,s]}function wv(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:s=>{const a=s.tagName==="INPUT"&&s.type==="hidden";return s.disabled||s.hidden||a?NodeFilter.FILTER_SKIP:s.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function cm(e,t){for(const n of e)if(!fI(n,{upTo:t}))return n}function fI(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function hI(e){return e instanceof HTMLInputElement&&"select"in e}function _i(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&hI(e)&&t&&e.select()}}var um=pI();function pI(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=dm(e,t),e.unshift(t)},remove(t){var n;e=dm(e,t),(n=e[0])==null||n.resume()}}}function dm(e,t){const n=[...e],s=n.indexOf(t);return s!==-1&&n.splice(s,1),n}function gI(e){return e.filter(t=>t.tagName!=="A")}function mI(e){const t=A.useRef({value:e,previous:e});return A.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var xI=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},co=new WeakMap,bc=new WeakMap,Nc={},Af=0,yv=function(e){return e&&(e.host||yv(e.parentNode))},wI=function(e,t){return t.map(function(n){if(e.contains(n))return n;var s=yv(n);return s&&e.contains(s)?s:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},yI=function(e,t,n,s){var a=wI(t,Array.isArray(e)?e:[e]);Nc[n]||(Nc[n]=new WeakMap);var u=Nc[n],h=[],g=new Set,w=new Set(a),m=function(v){!v||g.has(v)||(g.add(v),m(v.parentNode))};a.forEach(m);var C=function(v){!v||w.has(v)||Array.prototype.forEach.call(v.children,function(b){if(g.has(b))C(b);else try{var D=b.getAttribute(s),_=D!==null&&D!=="false",S=(co.get(b)||0)+1,P=(u.get(b)||0)+1;co.set(b,S),u.set(b,P),h.push(b),S===1&&_&&bc.set(b,!0),P===1&&b.setAttribute(n,"true"),_||b.setAttribute(s,"true")}catch(O){console.error("aria-hidden: cannot operate on ",b,O)}})};return C(t),g.clear(),Af++,function(){h.forEach(function(v){var b=co.get(v)-1,D=u.get(v)-1;co.set(v,b),u.set(v,D),b||(bc.has(v)||v.removeAttribute(s),bc.delete(v)),D||v.removeAttribute(n)}),Af--,Af||(co=new WeakMap,co=new WeakMap,bc=new WeakMap,Nc={})}},vv=function(e,t,n){n===void 0&&(n="data-aria-hidden");var s=Array.from(Array.isArray(e)?e:[e]),a=xI(e);return a?(s.push.apply(s,Array.from(a.querySelectorAll("[aria-live]"))),yI(s,a,n,"aria-hidden")):function(){return null}},Ur=function(){return Ur=Object.assign||function(t){for(var n,s=1,a=arguments.length;s<a;s++){n=arguments[s];for(var u in n)Object.prototype.hasOwnProperty.call(n,u)&&(t[u]=n[u])}return t},Ur.apply(this,arguments)};function Cv(e,t){var n={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(n[s]=e[s]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,s=Object.getOwnPropertySymbols(e);a<s.length;a++)t.indexOf(s[a])<0&&Object.prototype.propertyIsEnumerable.call(e,s[a])&&(n[s[a]]=e[s[a]]);return n}function vI(e,t,n){if(n||arguments.length===2)for(var s=0,a=t.length,u;s<a;s++)(u||!(s in t))&&(u||(u=Array.prototype.slice.call(t,0,s)),u[s]=t[s]);return e.concat(u||Array.prototype.slice.call(t))}var Gc="right-scroll-bar-position",Xc="width-before-scroll-bar",CI="with-scroll-bars-hidden",EI="--removed-body-scroll-bar-size";function Sf(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function AI(e,t){var n=A.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(s){var a=n.value;a!==s&&(n.value=s,n.callback(s,a))}}}})[0];return n.callback=t,n.facade}var SI=typeof window<"u"?A.useLayoutEffect:A.useEffect,fm=new WeakMap;function bI(e,t){var n=AI(null,function(s){return e.forEach(function(a){return Sf(a,s)})});return SI(function(){var s=fm.get(n);if(s){var a=new Set(s),u=new Set(e),h=n.current;a.forEach(function(g){u.has(g)||Sf(g,null)}),u.forEach(function(g){a.has(g)||Sf(g,h)})}fm.set(n,e)},[e]),n}function NI(e){return e}function II(e,t){t===void 0&&(t=NI);var n=[],s=!1,a={read:function(){if(s)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(u){var h=t(u,s);return n.push(h),function(){n=n.filter(function(g){return g!==h})}},assignSyncMedium:function(u){for(s=!0;n.length;){var h=n;n=[],h.forEach(u)}n={push:function(g){return u(g)},filter:function(){return n}}},assignMedium:function(u){s=!0;var h=[];if(n.length){var g=n;n=[],g.forEach(u),h=n}var w=function(){var C=h;h=[],C.forEach(u)},m=function(){return Promise.resolve().then(w)};m(),n={push:function(C){h.push(C),m()},filter:function(C){return h=h.filter(C),n}}}};return a}function TI(e){e===void 0&&(e={});var t=II(null);return t.options=Ur({async:!0,ssr:!1},e),t}var Ev=function(e){var t=e.sideCar,n=Cv(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var s=t.read();if(!s)throw new Error("Sidecar medium not found");return A.createElement(s,Ur({},n))};Ev.isSideCarExport=!0;function RI(e,t){return e.useMedium(t),Ev}var Av=TI(),bf=function(){},cd=A.forwardRef(function(e,t){var n=A.useRef(null),s=A.useState({onScrollCapture:bf,onWheelCapture:bf,onTouchMoveCapture:bf}),a=s[0],u=s[1],h=e.forwardProps,g=e.children,w=e.className,m=e.removeScrollBar,C=e.enabled,v=e.shards,b=e.sideCar,D=e.noIsolation,_=e.inert,S=e.allowPinchZoom,P=e.as,O=P===void 0?"div":P,I=e.gapMode,R=Cv(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),F=b,W=bI([n,t]),z=Ur(Ur({},R),a);return A.createElement(A.Fragment,null,C&&A.createElement(F,{sideCar:Av,removeScrollBar:m,shards:v,noIsolation:D,inert:_,setCallbacks:u,allowPinchZoom:!!S,lockRef:n,gapMode:I}),h?A.cloneElement(A.Children.only(g),Ur(Ur({},z),{ref:W})):A.createElement(O,Ur({},z,{className:w,ref:W}),g))});cd.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};cd.classNames={fullWidth:Xc,zeroRight:Gc};var _I=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function OI(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=_I();return t&&e.setAttribute("nonce",t),e}function MI(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function DI(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var PI=function(){var e=0,t=null;return{add:function(n){e==0&&(t=OI())&&(MI(t,n),DI(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},kI=function(){var e=PI();return function(t,n){A.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},Sv=function(){var e=kI(),t=function(n){var s=n.styles,a=n.dynamic;return e(s,a),null};return t},LI={left:0,top:0,right:0,gap:0},Nf=function(e){return parseInt(e||"",10)||0},FI=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],s=t[e==="padding"?"paddingTop":"marginTop"],a=t[e==="padding"?"paddingRight":"marginRight"];return[Nf(n),Nf(s),Nf(a)]},BI=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return LI;var t=FI(e),n=document.documentElement.clientWidth,s=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,s-n+t[2]-t[0])}},jI=Sv(),Fo="data-scroll-locked",UI=function(e,t,n,s){var a=e.left,u=e.top,h=e.right,g=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(CI,` {
   overflow: hidden `).concat(s,`;
   padding-right: `).concat(g,"px ").concat(s,`;
  }
  body[`).concat(Fo,`] {
    overflow: hidden `).concat(s,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(s,";"),n==="margin"&&`
    padding-left: `.concat(a,`px;
    padding-top: `).concat(u,`px;
    padding-right: `).concat(h,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(g,"px ").concat(s,`;
    `),n==="padding"&&"padding-right: ".concat(g,"px ").concat(s,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Gc,` {
    right: `).concat(g,"px ").concat(s,`;
  }
  
  .`).concat(Xc,` {
    margin-right: `).concat(g,"px ").concat(s,`;
  }
  
  .`).concat(Gc," .").concat(Gc,` {
    right: 0 `).concat(s,`;
  }
  
  .`).concat(Xc," .").concat(Xc,` {
    margin-right: 0 `).concat(s,`;
  }
  
  body[`).concat(Fo,`] {
    `).concat(EI,": ").concat(g,`px;
  }
`)},hm=function(){var e=parseInt(document.body.getAttribute(Fo)||"0",10);return isFinite(e)?e:0},VI=function(){A.useEffect(function(){return document.body.setAttribute(Fo,(hm()+1).toString()),function(){var e=hm()-1;e<=0?document.body.removeAttribute(Fo):document.body.setAttribute(Fo,e.toString())}},[])},WI=function(e){var t=e.noRelative,n=e.noImportant,s=e.gapMode,a=s===void 0?"margin":s;VI();var u=A.useMemo(function(){return BI(a)},[a]);return A.createElement(jI,{styles:UI(u,!t,a,n?"":"!important")})},Kh=!1;if(typeof window<"u")try{var Ic=Object.defineProperty({},"passive",{get:function(){return Kh=!0,!0}});window.addEventListener("test",Ic,Ic),window.removeEventListener("test",Ic,Ic)}catch{Kh=!1}var uo=Kh?{passive:!1}:!1,HI=function(e){return e.tagName==="TEXTAREA"},bv=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!HI(e)&&n[t]==="visible")},zI=function(e){return bv(e,"overflowY")},GI=function(e){return bv(e,"overflowX")},pm=function(e,t){var n=t.ownerDocument,s=t;do{typeof ShadowRoot<"u"&&s instanceof ShadowRoot&&(s=s.host);var a=Nv(e,s);if(a){var u=Iv(e,s),h=u[1],g=u[2];if(h>g)return!0}s=s.parentNode}while(s&&s!==n.body);return!1},XI=function(e){var t=e.scrollTop,n=e.scrollHeight,s=e.clientHeight;return[t,n,s]},YI=function(e){var t=e.scrollLeft,n=e.scrollWidth,s=e.clientWidth;return[t,n,s]},Nv=function(e,t){return e==="v"?zI(t):GI(t)},Iv=function(e,t){return e==="v"?XI(t):YI(t)},KI=function(e,t){return e==="h"&&t==="rtl"?-1:1},QI=function(e,t,n,s,a){var u=KI(e,window.getComputedStyle(t).direction),h=u*s,g=n.target,w=t.contains(g),m=!1,C=h>0,v=0,b=0;do{var D=Iv(e,g),_=D[0],S=D[1],P=D[2],O=S-P-u*_;(_||O)&&Nv(e,g)&&(v+=O,b+=_),g instanceof ShadowRoot?g=g.host:g=g.parentNode}while(!w&&g!==document.body||w&&(t.contains(g)||t===g));return(C&&(Math.abs(v)<1||!a)||!C&&(Math.abs(b)<1||!a))&&(m=!0),m},Tc=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},gm=function(e){return[e.deltaX,e.deltaY]},mm=function(e){return e&&"current"in e?e.current:e},qI=function(e,t){return e[0]===t[0]&&e[1]===t[1]},ZI=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},$I=0,fo=[];function JI(e){var t=A.useRef([]),n=A.useRef([0,0]),s=A.useRef(),a=A.useState($I++)[0],u=A.useState(Sv)[0],h=A.useRef(e);A.useEffect(function(){h.current=e},[e]),A.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(a));var S=vI([e.lockRef.current],(e.shards||[]).map(mm),!0).filter(Boolean);return S.forEach(function(P){return P.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),S.forEach(function(P){return P.classList.remove("allow-interactivity-".concat(a))})}}},[e.inert,e.lockRef.current,e.shards]);var g=A.useCallback(function(S,P){if("touches"in S&&S.touches.length===2||S.type==="wheel"&&S.ctrlKey)return!h.current.allowPinchZoom;var O=Tc(S),I=n.current,R="deltaX"in S?S.deltaX:I[0]-O[0],F="deltaY"in S?S.deltaY:I[1]-O[1],W,z=S.target,B=Math.abs(R)>Math.abs(F)?"h":"v";if("touches"in S&&B==="h"&&z.type==="range")return!1;var G=pm(B,z);if(!G)return!0;if(G?W=B:(W=B==="v"?"h":"v",G=pm(B,z)),!G)return!1;if(!s.current&&"changedTouches"in S&&(R||F)&&(s.current=W),!W)return!0;var H=s.current||W;return QI(H,P,S,H==="h"?R:F,!0)},[]),w=A.useCallback(function(S){var P=S;if(!(!fo.length||fo[fo.length-1]!==u)){var O="deltaY"in P?gm(P):Tc(P),I=t.current.filter(function(W){return W.name===P.type&&(W.target===P.target||P.target===W.shadowParent)&&qI(W.delta,O)})[0];if(I&&I.should){P.cancelable&&P.preventDefault();return}if(!I){var R=(h.current.shards||[]).map(mm).filter(Boolean).filter(function(W){return W.contains(P.target)}),F=R.length>0?g(P,R[0]):!h.current.noIsolation;F&&P.cancelable&&P.preventDefault()}}},[]),m=A.useCallback(function(S,P,O,I){var R={name:S,delta:P,target:O,should:I,shadowParent:eT(O)};t.current.push(R),setTimeout(function(){t.current=t.current.filter(function(F){return F!==R})},1)},[]),C=A.useCallback(function(S){n.current=Tc(S),s.current=void 0},[]),v=A.useCallback(function(S){m(S.type,gm(S),S.target,g(S,e.lockRef.current))},[]),b=A.useCallback(function(S){m(S.type,Tc(S),S.target,g(S,e.lockRef.current))},[]);A.useEffect(function(){return fo.push(u),e.setCallbacks({onScrollCapture:v,onWheelCapture:v,onTouchMoveCapture:b}),document.addEventListener("wheel",w,uo),document.addEventListener("touchmove",w,uo),document.addEventListener("touchstart",C,uo),function(){fo=fo.filter(function(S){return S!==u}),document.removeEventListener("wheel",w,uo),document.removeEventListener("touchmove",w,uo),document.removeEventListener("touchstart",C,uo)}},[]);var D=e.removeScrollBar,_=e.inert;return A.createElement(A.Fragment,null,_?A.createElement(u,{styles:ZI(a)}):null,D?A.createElement(WI,{gapMode:e.gapMode}):null)}function eT(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const tT=RI(Av,JI);var O0=A.forwardRef(function(e,t){return A.createElement(cd,Ur({},e,{ref:t,sideCar:tT}))});O0.classNames=cd.classNames;var nT=[" ","Enter","ArrowUp","ArrowDown"],rT=[" ","Enter"],Wl="Select",[ud,dd,iT]=Qu(Wl),[ya,H_]=gi(Wl,[iT,xa]),fd=xa(),[sT,fs]=ya(Wl),[oT,aT]=ya(Wl),Tv=e=>{const{__scopeSelect:t,children:n,open:s,defaultOpen:a,onOpenChange:u,value:h,defaultValue:g,onValueChange:w,dir:m,name:C,autoComplete:v,disabled:b,required:D,form:_}=e,S=fd(t),[P,O]=A.useState(null),[I,R]=A.useState(null),[F,W]=A.useState(!1),z=od(m),[B=!1,G]=oa({prop:s,defaultProp:a,onChange:u}),[H,re]=oa({prop:h,defaultProp:g,onChange:w}),de=A.useRef(null),J=P?_||!!P.closest("form"):!0,[fe,te]=A.useState(new Set),X=Array.from(fe).map(le=>le.props.value).join(";");return x.jsx(By,{...S,children:x.jsxs(sT,{required:D,scope:t,trigger:P,onTriggerChange:O,valueNode:I,onValueNodeChange:R,valueNodeHasChildren:F,onValueNodeHasChildrenChange:W,contentId:Hs(),value:H,onValueChange:re,open:B,onOpenChange:G,dir:z,triggerPointerDownPosRef:de,disabled:b,children:[x.jsx(ud.Provider,{scope:t,children:x.jsx(oT,{scope:e.__scopeSelect,onNativeOptionAdd:A.useCallback(le=>{te(ae=>new Set(ae).add(le))},[]),onNativeOptionRemove:A.useCallback(le=>{te(ae=>{const Z=new Set(ae);return Z.delete(le),Z})},[]),children:n})}),J?x.jsxs(Jv,{"aria-hidden":!0,required:D,tabIndex:-1,name:C,autoComplete:v,value:H,onChange:le=>re(le.target.value),disabled:b,form:_,children:[H===void 0?x.jsx("option",{value:""}):null,Array.from(fe)]},X):null]})})};Tv.displayName=Wl;var Rv="SelectTrigger",_v=A.forwardRef((e,t)=>{const{__scopeSelect:n,disabled:s=!1,...a}=e,u=fd(n),h=fs(Rv,n),g=h.disabled||s,w=st(t,h.onTriggerChange),m=dd(n),C=A.useRef("touch"),[v,b,D]=eC(S=>{const P=m().filter(R=>!R.disabled),O=P.find(R=>R.value===h.value),I=tC(P,S,O);I!==void 0&&h.onValueChange(I.value)}),_=S=>{g||(h.onOpenChange(!0),D()),S&&(h.triggerPointerDownPosRef.current={x:Math.round(S.pageX),y:Math.round(S.pageY)})};return x.jsx(S0,{asChild:!0,...u,children:x.jsx(Le.button,{type:"button",role:"combobox","aria-controls":h.contentId,"aria-expanded":h.open,"aria-required":h.required,"aria-autocomplete":"none",dir:h.dir,"data-state":h.open?"open":"closed",disabled:g,"data-disabled":g?"":void 0,"data-placeholder":$v(h.value)?"":void 0,...a,ref:w,onClick:pe(a.onClick,S=>{S.currentTarget.focus(),C.current!=="mouse"&&_(S)}),onPointerDown:pe(a.onPointerDown,S=>{C.current=S.pointerType;const P=S.target;P.hasPointerCapture(S.pointerId)&&P.releasePointerCapture(S.pointerId),S.button===0&&S.ctrlKey===!1&&S.pointerType==="mouse"&&(_(S),S.preventDefault())}),onKeyDown:pe(a.onKeyDown,S=>{const P=v.current!=="";!(S.ctrlKey||S.altKey||S.metaKey)&&S.key.length===1&&b(S.key),!(P&&S.key===" ")&&nT.includes(S.key)&&(_(),S.preventDefault())})})})});_v.displayName=Rv;var Ov="SelectValue",Mv=A.forwardRef((e,t)=>{const{__scopeSelect:n,className:s,style:a,children:u,placeholder:h="",...g}=e,w=fs(Ov,n),{onValueNodeHasChildrenChange:m}=w,C=u!==void 0,v=st(t,w.onValueNodeChange);return fn(()=>{m(C)},[m,C]),x.jsx(Le.span,{...g,ref:v,style:{pointerEvents:"none"},children:$v(w.value)?x.jsx(x.Fragment,{children:h}):u})});Mv.displayName=Ov;var lT="SelectIcon",Dv=A.forwardRef((e,t)=>{const{__scopeSelect:n,children:s,...a}=e;return x.jsx(Le.span,{"aria-hidden":!0,...a,ref:t,children:s||""})});Dv.displayName=lT;var cT="SelectPortal",Pv=e=>x.jsx(qu,{asChild:!0,...e});Pv.displayName=cT;var Gs="SelectContent",kv=A.forwardRef((e,t)=>{const n=fs(Gs,e.__scopeSelect),[s,a]=A.useState();if(fn(()=>{a(new DocumentFragment)},[]),!n.open){const u=s;return u?Qs.createPortal(x.jsx(Lv,{scope:e.__scopeSelect,children:x.jsx(ud.Slot,{scope:e.__scopeSelect,children:x.jsx("div",{children:e.children})})}),u):null}return x.jsx(Fv,{...e,ref:t})});kv.displayName=Gs;var pr=10,[Lv,hs]=ya(Gs),uT="SelectContentImpl",dT=sa("SelectContent.RemoveScroll"),Fv=A.forwardRef((e,t)=>{const{__scopeSelect:n,position:s="item-aligned",onCloseAutoFocus:a,onEscapeKeyDown:u,onPointerDownOutside:h,side:g,sideOffset:w,align:m,alignOffset:C,arrowPadding:v,collisionBoundary:b,collisionPadding:D,sticky:_,hideWhenDetached:S,avoidCollisions:P,...O}=e,I=fs(Gs,n),[R,F]=A.useState(null),[W,z]=A.useState(null),B=st(t,ve=>F(ve)),[G,H]=A.useState(null),[re,de]=A.useState(null),J=dd(n),[fe,te]=A.useState(!1),X=A.useRef(!1);A.useEffect(()=>{if(R)return vv(R)},[R]),xv();const le=A.useCallback(ve=>{const[Te,...Ke]=J().map(Ge=>Ge.ref.current),[We]=Ke.slice(-1),Oe=document.activeElement;for(const Ge of ve)if(Ge===Oe||(Ge==null||Ge.scrollIntoView({block:"nearest"}),Ge===Te&&W&&(W.scrollTop=0),Ge===We&&W&&(W.scrollTop=W.scrollHeight),Ge==null||Ge.focus(),document.activeElement!==Oe))return},[J,W]),ae=A.useCallback(()=>le([G,R]),[le,G,R]);A.useEffect(()=>{fe&&ae()},[fe,ae]);const{onOpenChange:Z,triggerPointerDownPosRef:$}=I;A.useEffect(()=>{if(R){let ve={x:0,y:0};const Te=We=>{var Oe,Ge;ve={x:Math.abs(Math.round(We.pageX)-(((Oe=$.current)==null?void 0:Oe.x)??0)),y:Math.abs(Math.round(We.pageY)-(((Ge=$.current)==null?void 0:Ge.y)??0))}},Ke=We=>{ve.x<=10&&ve.y<=10?We.preventDefault():R.contains(We.target)||Z(!1),document.removeEventListener("pointermove",Te),$.current=null};return $.current!==null&&(document.addEventListener("pointermove",Te),document.addEventListener("pointerup",Ke,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Te),document.removeEventListener("pointerup",Ke,{capture:!0})}}},[R,Z,$]),A.useEffect(()=>{const ve=()=>Z(!1);return window.addEventListener("blur",ve),window.addEventListener("resize",ve),()=>{window.removeEventListener("blur",ve),window.removeEventListener("resize",ve)}},[Z]);const[ce,Ce]=eC(ve=>{const Te=J().filter(Oe=>!Oe.disabled),Ke=Te.find(Oe=>Oe.ref.current===document.activeElement),We=tC(Te,ve,Ke);We&&setTimeout(()=>We.ref.current.focus())}),Ae=A.useCallback((ve,Te,Ke)=>{const We=!X.current&&!Ke;(I.value!==void 0&&I.value===Te||We)&&(H(ve),We&&(X.current=!0))},[I.value]),at=A.useCallback(()=>R==null?void 0:R.focus(),[R]),Fe=A.useCallback((ve,Te,Ke)=>{const We=!X.current&&!Ke;(I.value!==void 0&&I.value===Te||We)&&de(ve)},[I.value]),Kt=s==="popper"?Qh:Bv,he=Kt===Qh?{side:g,sideOffset:w,align:m,alignOffset:C,arrowPadding:v,collisionBoundary:b,collisionPadding:D,sticky:_,hideWhenDetached:S,avoidCollisions:P}:{};return x.jsx(Lv,{scope:n,content:R,viewport:W,onViewportChange:z,itemRefCallback:Ae,selectedItem:G,onItemLeave:at,itemTextRefCallback:Fe,focusSelectedItem:ae,selectedItemText:re,position:s,isPositioned:fe,searchRef:ce,children:x.jsx(O0,{as:dT,allowPinchZoom:!0,children:x.jsx(_0,{asChild:!0,trapped:I.open,onMountAutoFocus:ve=>{ve.preventDefault()},onUnmountAutoFocus:pe(a,ve=>{var Te;(Te=I.trigger)==null||Te.focus({preventScroll:!0}),ve.preventDefault()}),children:x.jsx(jl,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:u,onPointerDownOutside:h,onFocusOutside:ve=>ve.preventDefault(),onDismiss:()=>I.onOpenChange(!1),children:x.jsx(Kt,{role:"listbox",id:I.contentId,"data-state":I.open?"open":"closed",dir:I.dir,onContextMenu:ve=>ve.preventDefault(),...O,...he,onPlaced:()=>te(!0),ref:B,style:{display:"flex",flexDirection:"column",outline:"none",...O.style},onKeyDown:pe(O.onKeyDown,ve=>{const Te=ve.ctrlKey||ve.altKey||ve.metaKey;if(ve.key==="Tab"&&ve.preventDefault(),!Te&&ve.key.length===1&&Ce(ve.key),["ArrowUp","ArrowDown","Home","End"].includes(ve.key)){let We=J().filter(Oe=>!Oe.disabled).map(Oe=>Oe.ref.current);if(["ArrowUp","End"].includes(ve.key)&&(We=We.slice().reverse()),["ArrowUp","ArrowDown"].includes(ve.key)){const Oe=ve.target,Ge=We.indexOf(Oe);We=We.slice(Ge+1)}setTimeout(()=>le(We)),ve.preventDefault()}})})})})})})});Fv.displayName=uT;var fT="SelectItemAlignedPosition",Bv=A.forwardRef((e,t)=>{const{__scopeSelect:n,onPlaced:s,...a}=e,u=fs(Gs,n),h=hs(Gs,n),[g,w]=A.useState(null),[m,C]=A.useState(null),v=st(t,B=>C(B)),b=dd(n),D=A.useRef(!1),_=A.useRef(!0),{viewport:S,selectedItem:P,selectedItemText:O,focusSelectedItem:I}=h,R=A.useCallback(()=>{if(u.trigger&&u.valueNode&&g&&m&&S&&P&&O){const B=u.trigger.getBoundingClientRect(),G=m.getBoundingClientRect(),H=u.valueNode.getBoundingClientRect(),re=O.getBoundingClientRect();if(u.dir!=="rtl"){const Oe=re.left-G.left,Ge=H.left-Oe,Re=B.left-Ge,Qt=B.width+Re,nn=Math.max(Qt,G.width),cr=window.innerWidth-pr,At=om(Ge,[pr,Math.max(pr,cr-nn)]);g.style.minWidth=Qt+"px",g.style.left=At+"px"}else{const Oe=G.right-re.right,Ge=window.innerWidth-H.right-Oe,Re=window.innerWidth-B.right-Ge,Qt=B.width+Re,nn=Math.max(Qt,G.width),cr=window.innerWidth-pr,At=om(Ge,[pr,Math.max(pr,cr-nn)]);g.style.minWidth=Qt+"px",g.style.right=At+"px"}const de=b(),J=window.innerHeight-pr*2,fe=S.scrollHeight,te=window.getComputedStyle(m),X=parseInt(te.borderTopWidth,10),le=parseInt(te.paddingTop,10),ae=parseInt(te.borderBottomWidth,10),Z=parseInt(te.paddingBottom,10),$=X+le+fe+Z+ae,ce=Math.min(P.offsetHeight*5,$),Ce=window.getComputedStyle(S),Ae=parseInt(Ce.paddingTop,10),at=parseInt(Ce.paddingBottom,10),Fe=B.top+B.height/2-pr,Kt=J-Fe,he=P.offsetHeight/2,ve=P.offsetTop+he,Te=X+le+ve,Ke=$-Te;if(Te<=Fe){const Oe=de.length>0&&P===de[de.length-1].ref.current;g.style.bottom="0px";const Ge=m.clientHeight-S.offsetTop-S.offsetHeight,Re=Math.max(Kt,he+(Oe?at:0)+Ge+ae),Qt=Te+Re;g.style.height=Qt+"px"}else{const Oe=de.length>0&&P===de[0].ref.current;g.style.top="0px";const Re=Math.max(Fe,X+S.offsetTop+(Oe?Ae:0)+he)+Ke;g.style.height=Re+"px",S.scrollTop=Te-Fe+S.offsetTop}g.style.margin=`${pr}px 0`,g.style.minHeight=ce+"px",g.style.maxHeight=J+"px",s==null||s(),requestAnimationFrame(()=>D.current=!0)}},[b,u.trigger,u.valueNode,g,m,S,P,O,u.dir,s]);fn(()=>R(),[R]);const[F,W]=A.useState();fn(()=>{m&&W(window.getComputedStyle(m).zIndex)},[m]);const z=A.useCallback(B=>{B&&_.current===!0&&(R(),I==null||I(),_.current=!1)},[R,I]);return x.jsx(pT,{scope:n,contentWrapper:g,shouldExpandOnScrollRef:D,onScrollButtonChange:z,children:x.jsx("div",{ref:w,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:F},children:x.jsx(Le.div,{...a,ref:v,style:{boxSizing:"border-box",maxHeight:"100%",...a.style}})})})});Bv.displayName=fT;var hT="SelectPopperPosition",Qh=A.forwardRef((e,t)=>{const{__scopeSelect:n,align:s="start",collisionPadding:a=pr,...u}=e,h=fd(n);return x.jsx(b0,{...h,...u,ref:t,align:s,collisionPadding:a,style:{boxSizing:"border-box",...u.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Qh.displayName=hT;var[pT,M0]=ya(Gs,{}),qh="SelectViewport",jv=A.forwardRef((e,t)=>{const{__scopeSelect:n,nonce:s,...a}=e,u=hs(qh,n),h=M0(qh,n),g=st(t,u.onViewportChange),w=A.useRef(0);return x.jsxs(x.Fragment,{children:[x.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:s}),x.jsx(ud.Slot,{scope:n,children:x.jsx(Le.div,{"data-radix-select-viewport":"",role:"presentation",...a,ref:g,style:{position:"relative",flex:1,overflow:"hidden auto",...a.style},onScroll:pe(a.onScroll,m=>{const C=m.currentTarget,{contentWrapper:v,shouldExpandOnScrollRef:b}=h;if(b!=null&&b.current&&v){const D=Math.abs(w.current-C.scrollTop);if(D>0){const _=window.innerHeight-pr*2,S=parseFloat(v.style.minHeight),P=parseFloat(v.style.height),O=Math.max(S,P);if(O<_){const I=O+D,R=Math.min(_,I),F=I-R;v.style.height=R+"px",v.style.bottom==="0px"&&(C.scrollTop=F>0?F:0,v.style.justifyContent="flex-end")}}}w.current=C.scrollTop})})})]})});jv.displayName=qh;var Uv="SelectGroup",[gT,mT]=ya(Uv),xT=A.forwardRef((e,t)=>{const{__scopeSelect:n,...s}=e,a=Hs();return x.jsx(gT,{scope:n,id:a,children:x.jsx(Le.div,{role:"group","aria-labelledby":a,...s,ref:t})})});xT.displayName=Uv;var Vv="SelectLabel",Wv=A.forwardRef((e,t)=>{const{__scopeSelect:n,...s}=e,a=mT(Vv,n);return x.jsx(Le.div,{id:a.id,...s,ref:t})});Wv.displayName=Vv;var Su="SelectItem",[wT,Hv]=ya(Su),zv=A.forwardRef((e,t)=>{const{__scopeSelect:n,value:s,disabled:a=!1,textValue:u,...h}=e,g=fs(Su,n),w=hs(Su,n),m=g.value===s,[C,v]=A.useState(u??""),[b,D]=A.useState(!1),_=st(t,I=>{var R;return(R=w.itemRefCallback)==null?void 0:R.call(w,I,s,a)}),S=Hs(),P=A.useRef("touch"),O=()=>{a||(g.onValueChange(s),g.onOpenChange(!1))};if(s==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return x.jsx(wT,{scope:n,value:s,disabled:a,textId:S,isSelected:m,onItemTextChange:A.useCallback(I=>{v(R=>R||((I==null?void 0:I.textContent)??"").trim())},[]),children:x.jsx(ud.ItemSlot,{scope:n,value:s,disabled:a,textValue:C,children:x.jsx(Le.div,{role:"option","aria-labelledby":S,"data-highlighted":b?"":void 0,"aria-selected":m&&b,"data-state":m?"checked":"unchecked","aria-disabled":a||void 0,"data-disabled":a?"":void 0,tabIndex:a?void 0:-1,...h,ref:_,onFocus:pe(h.onFocus,()=>D(!0)),onBlur:pe(h.onBlur,()=>D(!1)),onClick:pe(h.onClick,()=>{P.current!=="mouse"&&O()}),onPointerUp:pe(h.onPointerUp,()=>{P.current==="mouse"&&O()}),onPointerDown:pe(h.onPointerDown,I=>{P.current=I.pointerType}),onPointerMove:pe(h.onPointerMove,I=>{var R;P.current=I.pointerType,a?(R=w.onItemLeave)==null||R.call(w):P.current==="mouse"&&I.currentTarget.focus({preventScroll:!0})}),onPointerLeave:pe(h.onPointerLeave,I=>{var R;I.currentTarget===document.activeElement&&((R=w.onItemLeave)==null||R.call(w))}),onKeyDown:pe(h.onKeyDown,I=>{var F;((F=w.searchRef)==null?void 0:F.current)!==""&&I.key===" "||(rT.includes(I.key)&&O(),I.key===" "&&I.preventDefault())})})})})});zv.displayName=Su;var Ya="SelectItemText",Gv=A.forwardRef((e,t)=>{const{__scopeSelect:n,className:s,style:a,...u}=e,h=fs(Ya,n),g=hs(Ya,n),w=Hv(Ya,n),m=aT(Ya,n),[C,v]=A.useState(null),b=st(t,O=>v(O),w.onItemTextChange,O=>{var I;return(I=g.itemTextRefCallback)==null?void 0:I.call(g,O,w.value,w.disabled)}),D=C==null?void 0:C.textContent,_=A.useMemo(()=>x.jsx("option",{value:w.value,disabled:w.disabled,children:D},w.value),[w.disabled,w.value,D]),{onNativeOptionAdd:S,onNativeOptionRemove:P}=m;return fn(()=>(S(_),()=>P(_)),[S,P,_]),x.jsxs(x.Fragment,{children:[x.jsx(Le.span,{id:w.textId,...u,ref:b}),w.isSelected&&h.valueNode&&!h.valueNodeHasChildren?Qs.createPortal(u.children,h.valueNode):null]})});Gv.displayName=Ya;var Xv="SelectItemIndicator",Yv=A.forwardRef((e,t)=>{const{__scopeSelect:n,...s}=e;return Hv(Xv,n).isSelected?x.jsx(Le.span,{"aria-hidden":!0,...s,ref:t}):null});Yv.displayName=Xv;var Zh="SelectScrollUpButton",Kv=A.forwardRef((e,t)=>{const n=hs(Zh,e.__scopeSelect),s=M0(Zh,e.__scopeSelect),[a,u]=A.useState(!1),h=st(t,s.onScrollButtonChange);return fn(()=>{if(n.viewport&&n.isPositioned){let g=function(){const m=w.scrollTop>0;u(m)};const w=n.viewport;return g(),w.addEventListener("scroll",g),()=>w.removeEventListener("scroll",g)}},[n.viewport,n.isPositioned]),a?x.jsx(qv,{...e,ref:h,onAutoScroll:()=>{const{viewport:g,selectedItem:w}=n;g&&w&&(g.scrollTop=g.scrollTop-w.offsetHeight)}}):null});Kv.displayName=Zh;var $h="SelectScrollDownButton",Qv=A.forwardRef((e,t)=>{const n=hs($h,e.__scopeSelect),s=M0($h,e.__scopeSelect),[a,u]=A.useState(!1),h=st(t,s.onScrollButtonChange);return fn(()=>{if(n.viewport&&n.isPositioned){let g=function(){const m=w.scrollHeight-w.clientHeight,C=Math.ceil(w.scrollTop)<m;u(C)};const w=n.viewport;return g(),w.addEventListener("scroll",g),()=>w.removeEventListener("scroll",g)}},[n.viewport,n.isPositioned]),a?x.jsx(qv,{...e,ref:h,onAutoScroll:()=>{const{viewport:g,selectedItem:w}=n;g&&w&&(g.scrollTop=g.scrollTop+w.offsetHeight)}}):null});Qv.displayName=$h;var qv=A.forwardRef((e,t)=>{const{__scopeSelect:n,onAutoScroll:s,...a}=e,u=hs("SelectScrollButton",n),h=A.useRef(null),g=dd(n),w=A.useCallback(()=>{h.current!==null&&(window.clearInterval(h.current),h.current=null)},[]);return A.useEffect(()=>()=>w(),[w]),fn(()=>{var C;const m=g().find(v=>v.ref.current===document.activeElement);(C=m==null?void 0:m.ref.current)==null||C.scrollIntoView({block:"nearest"})},[g]),x.jsx(Le.div,{"aria-hidden":!0,...a,ref:t,style:{flexShrink:0,...a.style},onPointerDown:pe(a.onPointerDown,()=>{h.current===null&&(h.current=window.setInterval(s,50))}),onPointerMove:pe(a.onPointerMove,()=>{var m;(m=u.onItemLeave)==null||m.call(u),h.current===null&&(h.current=window.setInterval(s,50))}),onPointerLeave:pe(a.onPointerLeave,()=>{w()})})}),yT="SelectSeparator",Zv=A.forwardRef((e,t)=>{const{__scopeSelect:n,...s}=e;return x.jsx(Le.div,{"aria-hidden":!0,...s,ref:t})});Zv.displayName=yT;var Jh="SelectArrow",vT=A.forwardRef((e,t)=>{const{__scopeSelect:n,...s}=e,a=fd(n),u=fs(Jh,n),h=hs(Jh,n);return u.open&&h.position==="popper"?x.jsx(N0,{...a,...s,ref:t}):null});vT.displayName=Jh;function $v(e){return e===""||e===void 0}var Jv=A.forwardRef((e,t)=>{const{value:n,...s}=e,a=A.useRef(null),u=st(t,a),h=mI(n);return A.useEffect(()=>{const g=a.current,w=window.HTMLSelectElement.prototype,C=Object.getOwnPropertyDescriptor(w,"value").set;if(h!==n&&C){const v=new Event("change",{bubbles:!0});C.call(g,n),g.dispatchEvent(v)}},[h,n]),x.jsx(Ul,{asChild:!0,children:x.jsx("select",{...s,ref:u,defaultValue:n})})});Jv.displayName="BubbleSelect";function eC(e){const t=dn(e),n=A.useRef(""),s=A.useRef(0),a=A.useCallback(h=>{const g=n.current+h;t(g),function w(m){n.current=m,window.clearTimeout(s.current),m!==""&&(s.current=window.setTimeout(()=>w(""),1e3))}(g)},[t]),u=A.useCallback(()=>{n.current="",window.clearTimeout(s.current)},[]);return A.useEffect(()=>()=>window.clearTimeout(s.current),[]),[n,a,u]}function tC(e,t,n){const a=t.length>1&&Array.from(t).every(m=>m===t[0])?t[0]:t,u=n?e.indexOf(n):-1;let h=CT(e,Math.max(u,0));a.length===1&&(h=h.filter(m=>m!==n));const w=h.find(m=>m.textValue.toLowerCase().startsWith(a.toLowerCase()));return w!==n?w:void 0}function CT(e,t){return e.map((n,s)=>e[(t+s)%e.length])}var ET=Tv,nC=_v,AT=Mv,ST=Dv,bT=Pv,rC=kv,NT=jv,iC=Wv,sC=zv,IT=Gv,TT=Yv,oC=Kv,aC=Qv,lC=Zv;const cC=ET,uC=AT,D0=A.forwardRef(({className:e,children:t,...n},s)=>x.jsxs(nC,{ref:s,className:_e("flex h-9 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...n,children:[t,x.jsx(ST,{asChild:!0,children:x.jsx(ry,{className:"h-4 w-4 opacity-50"})})]}));D0.displayName=nC.displayName;const dC=A.forwardRef(({className:e,...t},n)=>x.jsx(oC,{ref:n,className:_e("flex cursor-default items-center justify-center py-1",e),...t,children:x.jsx(b4,{className:"h-4 w-4"})}));dC.displayName=oC.displayName;const fC=A.forwardRef(({className:e,...t},n)=>x.jsx(aC,{ref:n,className:_e("flex cursor-default items-center justify-center py-1",e),...t,children:x.jsx(ry,{className:"h-4 w-4"})}));fC.displayName=aC.displayName;const P0=A.forwardRef(({className:e,children:t,position:n="popper",...s},a)=>x.jsx(bT,{children:x.jsxs(rC,{ref:a,className:_e("relative z-50 max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:n,...s,children:[x.jsx(dC,{}),x.jsx(NT,{className:_e("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),x.jsx(fC,{})]})}));P0.displayName=rC.displayName;const RT=A.forwardRef(({className:e,...t},n)=>x.jsx(iC,{ref:n,className:_e("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));RT.displayName=iC.displayName;const sl=A.forwardRef(({className:e,children:t,...n},s)=>x.jsxs(sC,{ref:s,className:_e("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[x.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:x.jsx(TT,{children:x.jsx(ny,{className:"h-4 w-4"})})}),x.jsx(IT,{children:t})]}));sl.displayName=sC.displayName;const _T=A.forwardRef(({className:e,...t},n)=>x.jsx(lC,{ref:n,className:_e("-mx-1 my-1 h-px bg-muted",e),...t}));_T.displayName=lC.displayName;function OT(){const{user:e,loginMutation:t,registerMutation:n}=wa(),[,s]=Gr(),[a,u]=A.useState({email:"",password:""}),[h,g]=A.useState({name:"",email:"",password:"",role:wn.STUDENT});A.useEffect(()=>{e&&s("/")},[e,s]);const w=C=>{C.preventDefault(),t.mutate(a)},m=C=>{C.preventDefault(),n.mutate(h)};return x.jsxs("div",{className:"min-h-screen grid lg:grid-cols-2",children:[x.jsx("div",{className:"flex items-center justify-center p-8 bg-background",children:x.jsxs(et,{className:"w-full max-w-md",children:[x.jsxs(ht,{className:"space-y-1",children:[x.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[x.jsx(oy,{className:"h-8 w-8 text-primary"}),x.jsx(pt,{className:"text-2xl font-bold",children:"BU Examination System"})]}),x.jsx(Gn,{children:"Secure anonymous grading platform for universities"})]}),x.jsx(tt,{children:x.jsxs(lI,{defaultValue:"login",className:"w-full",children:[x.jsxs(mv,{className:"grid w-full grid-cols-2",children:[x.jsx(Xh,{value:"login","data-testid":"tab-login",children:"Login"}),x.jsx(Xh,{value:"register","data-testid":"tab-register",children:"Register"})]}),x.jsx(Yh,{value:"login",className:"space-y-4",children:x.jsxs("form",{onSubmit:w,className:"space-y-4",children:[x.jsxs("div",{className:"space-y-2",children:[x.jsx(yn,{htmlFor:"login-email",children:"Email"}),x.jsx(Mn,{id:"login-email",type:"email",placeholder:"you@university.edu",value:a.email,onChange:C=>u({...a,email:C.target.value}),required:!0,"data-testid":"input-login-email"})]}),x.jsxs("div",{className:"space-y-2",children:[x.jsx(yn,{htmlFor:"login-password",children:"Password"}),x.jsx(Mn,{id:"login-password",type:"password",value:a.password,onChange:C=>u({...a,password:C.target.value}),required:!0,"data-testid":"input-login-password"})]}),x.jsx(Et,{type:"submit",className:"w-full",disabled:t.isPending,"data-testid":"button-submit-login",children:t.isPending?"Logging in...":"Login"})]})}),x.jsx(Yh,{value:"register",className:"space-y-4",children:x.jsxs("form",{onSubmit:m,className:"space-y-4",children:[x.jsxs("div",{className:"space-y-2",children:[x.jsx(yn,{htmlFor:"register-name",children:"Full Name"}),x.jsx(Mn,{id:"register-name",type:"text",placeholder:"John Doe",value:h.name,onChange:C=>g({...h,name:C.target.value}),required:!0,"data-testid":"input-register-name"})]}),x.jsxs("div",{className:"space-y-2",children:[x.jsx(yn,{htmlFor:"register-email",children:"Email"}),x.jsx(Mn,{id:"register-email",type:"email",placeholder:"you@university.edu",value:h.email,onChange:C=>g({...h,email:C.target.value}),required:!0,"data-testid":"input-register-email"})]}),x.jsxs("div",{className:"space-y-2",children:[x.jsx(yn,{htmlFor:"register-password",children:"Password"}),x.jsx(Mn,{id:"register-password",type:"password",value:h.password,onChange:C=>g({...h,password:C.target.value}),required:!0,"data-testid":"input-register-password"})]}),x.jsxs("div",{className:"space-y-2",children:[x.jsx(yn,{htmlFor:"register-role",children:"Role"}),x.jsxs(cC,{value:h.role,onValueChange:C=>g({...h,role:C}),children:[x.jsx(D0,{id:"register-role","data-testid":"select-role",children:x.jsx(uC,{placeholder:"Select your role"})}),x.jsxs(P0,{children:[x.jsx(sl,{value:wn.STUDENT,"data-testid":"role-option-student",children:x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx(Kg,{className:"h-4 w-4"}),x.jsx("span",{children:"Student"})]})}),x.jsx(sl,{value:wn.MARKER,"data-testid":"role-option-marker",children:x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx(Xg,{className:"h-4 w-4"}),x.jsx("span",{children:"Marker"})]})}),x.jsx(sl,{value:wn.ADMIN,"data-testid":"role-option-admin",children:x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx(gf,{className:"h-4 w-4"}),x.jsx("span",{children:"Admin"})]})})]})]})]}),x.jsx(Et,{type:"submit",className:"w-full",disabled:n.isPending,"data-testid":"button-submit-register",children:n.isPending?"Creating account...":"Create Account"})]})})]})})]})}),x.jsx("div",{className:"hidden lg:flex items-center justify-center p-8 bg-primary",children:x.jsxs("div",{className:"max-w-md text-center text-primary-foreground space-y-6",children:[x.jsx(gf,{className:"h-24 w-24 mx-auto opacity-90"}),x.jsx("h2",{className:"text-3xl font-bold",children:"Anonymous Examination Grading"}),x.jsx("p",{className:"text-lg opacity-90",children:"Ensure fair and unbiased grading with our QR-based identity masking system. Students claim random QR codes, markers grade anonymously, and results are revealed only after completion."}),x.jsxs("div",{className:"space-y-3 text-left",children:[x.jsxs("div",{className:"flex items-start gap-3",children:[x.jsx(Kg,{className:"h-5 w-5 mt-1 flex-shrink-0"}),x.jsxs("div",{children:[x.jsx("p",{className:"font-semibold",children:"For Students"}),x.jsx("p",{className:"text-sm opacity-80",children:"Scan your assigned QR code during the exam"})]})]}),x.jsxs("div",{className:"flex items-start gap-3",children:[x.jsx(Xg,{className:"h-5 w-5 mt-1 flex-shrink-0"}),x.jsxs("div",{children:[x.jsx("p",{className:"font-semibold",children:"For Markers"}),x.jsx("p",{className:"text-sm opacity-80",children:"Grade submissions without knowing student identities"})]})]}),x.jsxs("div",{className:"flex items-start gap-3",children:[x.jsx(gf,{className:"h-5 w-5 mt-1 flex-shrink-0"}),x.jsxs("div",{children:[x.jsx("p",{className:"font-semibold",children:"For Admins"}),x.jsx("p",{className:"text-sm opacity-80",children:"Manage exams, generate QR codes, and reveal final results"})]})]})]})]})})]})}const MT=Ju("whitespace-nowrap inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 hover-elevate ",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground shadow-xs",secondary:"border-transparent bg-secondary text-secondary-foreground",destructive:"border-transparent bg-destructive text-destructive-foreground shadow-xs",outline:" border [border-color:var(--badge-outline)] shadow-xs"}},defaultVariants:{variant:"default"}});function ks({className:e,variant:t,...n}){return x.jsx("div",{className:_e(MT({variant:t}),e),...n})}var e1=["Enter"," "],DT=["ArrowDown","PageUp","Home"],hC=["ArrowUp","PageDown","End"],PT=[...DT,...hC],kT={ltr:[...e1,"ArrowRight"],rtl:[...e1,"ArrowLeft"]},LT={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Hl="Menu",[Nl,FT,BT]=Qu(Hl),[Zs,pC]=gi(Hl,[BT,xa,ld]),hd=xa(),gC=ld(),[jT,$s]=Zs(Hl),[UT,zl]=Zs(Hl),mC=e=>{const{__scopeMenu:t,open:n=!1,children:s,dir:a,onOpenChange:u,modal:h=!0}=e,g=hd(t),[w,m]=A.useState(null),C=A.useRef(!1),v=dn(u),b=od(a);return A.useEffect(()=>{const D=()=>{C.current=!0,document.addEventListener("pointerdown",_,{capture:!0,once:!0}),document.addEventListener("pointermove",_,{capture:!0,once:!0})},_=()=>C.current=!1;return document.addEventListener("keydown",D,{capture:!0}),()=>{document.removeEventListener("keydown",D,{capture:!0}),document.removeEventListener("pointerdown",_,{capture:!0}),document.removeEventListener("pointermove",_,{capture:!0})}},[]),x.jsx(By,{...g,children:x.jsx(jT,{scope:t,open:n,onOpenChange:v,content:w,onContentChange:m,children:x.jsx(UT,{scope:t,onClose:A.useCallback(()=>v(!1),[v]),isUsingKeyboardRef:C,dir:b,modal:h,children:s})})})};mC.displayName=Hl;var VT="MenuAnchor",k0=A.forwardRef((e,t)=>{const{__scopeMenu:n,...s}=e,a=hd(n);return x.jsx(S0,{...a,...s,ref:t})});k0.displayName=VT;var L0="MenuPortal",[WT,xC]=Zs(L0,{forceMount:void 0}),wC=e=>{const{__scopeMenu:t,forceMount:n,children:s,container:a}=e,u=$s(L0,t);return x.jsx(WT,{scope:t,forceMount:n,children:x.jsx(ds,{present:n||u.open,children:x.jsx(qu,{asChild:!0,container:a,children:s})})})};wC.displayName=L0;var or="MenuContent",[HT,F0]=Zs(or),yC=A.forwardRef((e,t)=>{const n=xC(or,e.__scopeMenu),{forceMount:s=n.forceMount,...a}=e,u=$s(or,e.__scopeMenu),h=zl(or,e.__scopeMenu);return x.jsx(Nl.Provider,{scope:e.__scopeMenu,children:x.jsx(ds,{present:s||u.open,children:x.jsx(Nl.Slot,{scope:e.__scopeMenu,children:h.modal?x.jsx(zT,{...a,ref:t}):x.jsx(GT,{...a,ref:t})})})})}),zT=A.forwardRef((e,t)=>{const n=$s(or,e.__scopeMenu),s=A.useRef(null),a=st(t,s);return A.useEffect(()=>{const u=s.current;if(u)return vv(u)},[]),x.jsx(B0,{...e,ref:a,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:pe(e.onFocusOutside,u=>u.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),GT=A.forwardRef((e,t)=>{const n=$s(or,e.__scopeMenu);return x.jsx(B0,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),XT=sa("MenuContent.ScrollLock"),B0=A.forwardRef((e,t)=>{const{__scopeMenu:n,loop:s=!1,trapFocus:a,onOpenAutoFocus:u,onCloseAutoFocus:h,disableOutsidePointerEvents:g,onEntryFocus:w,onEscapeKeyDown:m,onPointerDownOutside:C,onFocusOutside:v,onInteractOutside:b,onDismiss:D,disableOutsideScroll:_,...S}=e,P=$s(or,n),O=zl(or,n),I=hd(n),R=gC(n),F=FT(n),[W,z]=A.useState(null),B=A.useRef(null),G=st(t,B,P.onContentChange),H=A.useRef(0),re=A.useRef(""),de=A.useRef(0),J=A.useRef(null),fe=A.useRef("right"),te=A.useRef(0),X=_?O0:A.Fragment,le=_?{as:XT,allowPinchZoom:!0}:void 0,ae=$=>{var ve,Te;const ce=re.current+$,Ce=F().filter(Ke=>!Ke.disabled),Ae=document.activeElement,at=(ve=Ce.find(Ke=>Ke.ref.current===Ae))==null?void 0:ve.textValue,Fe=Ce.map(Ke=>Ke.textValue),Kt=i6(Fe,ce,at),he=(Te=Ce.find(Ke=>Ke.textValue===Kt))==null?void 0:Te.ref.current;(function Ke(We){re.current=We,window.clearTimeout(H.current),We!==""&&(H.current=window.setTimeout(()=>Ke(""),1e3))})(ce),he&&setTimeout(()=>he.focus())};A.useEffect(()=>()=>window.clearTimeout(H.current),[]),xv();const Z=A.useCallback($=>{var Ce,Ae;return fe.current===((Ce=J.current)==null?void 0:Ce.side)&&o6($,(Ae=J.current)==null?void 0:Ae.area)},[]);return x.jsx(HT,{scope:n,searchRef:re,onItemEnter:A.useCallback($=>{Z($)&&$.preventDefault()},[Z]),onItemLeave:A.useCallback($=>{var ce;Z($)||((ce=B.current)==null||ce.focus(),z(null))},[Z]),onTriggerLeave:A.useCallback($=>{Z($)&&$.preventDefault()},[Z]),pointerGraceTimerRef:de,onPointerGraceIntentChange:A.useCallback($=>{J.current=$},[]),children:x.jsx(X,{...le,children:x.jsx(_0,{asChild:!0,trapped:a,onMountAutoFocus:pe(u,$=>{var ce;$.preventDefault(),(ce=B.current)==null||ce.focus({preventScroll:!0})}),onUnmountAutoFocus:h,children:x.jsx(jl,{asChild:!0,disableOutsidePointerEvents:g,onEscapeKeyDown:m,onPointerDownOutside:C,onFocusOutside:v,onInteractOutside:b,onDismiss:D,children:x.jsx(tv,{asChild:!0,...R,dir:O.dir,orientation:"vertical",loop:s,currentTabStopId:W,onCurrentTabStopIdChange:z,onEntryFocus:pe(w,$=>{O.isUsingKeyboardRef.current||$.preventDefault()}),preventScrollOnEntryFocus:!0,children:x.jsx(b0,{role:"menu","aria-orientation":"vertical","data-state":kC(P.open),"data-radix-menu-content":"",dir:O.dir,...I,...S,ref:G,style:{outline:"none",...S.style},onKeyDown:pe(S.onKeyDown,$=>{const Ce=$.target.closest("[data-radix-menu-content]")===$.currentTarget,Ae=$.ctrlKey||$.altKey||$.metaKey,at=$.key.length===1;Ce&&($.key==="Tab"&&$.preventDefault(),!Ae&&at&&ae($.key));const Fe=B.current;if($.target!==Fe||!PT.includes($.key))return;$.preventDefault();const he=F().filter(ve=>!ve.disabled).map(ve=>ve.ref.current);hC.includes($.key)&&he.reverse(),n6(he)}),onBlur:pe(e.onBlur,$=>{$.currentTarget.contains($.target)||(window.clearTimeout(H.current),re.current="")}),onPointerMove:pe(e.onPointerMove,Il($=>{const ce=$.target,Ce=te.current!==$.clientX;if($.currentTarget.contains(ce)&&Ce){const Ae=$.clientX>te.current?"right":"left";fe.current=Ae,te.current=$.clientX}}))})})})})})})});yC.displayName=or;var YT="MenuGroup",j0=A.forwardRef((e,t)=>{const{__scopeMenu:n,...s}=e;return x.jsx(Le.div,{role:"group",...s,ref:t})});j0.displayName=YT;var KT="MenuLabel",vC=A.forwardRef((e,t)=>{const{__scopeMenu:n,...s}=e;return x.jsx(Le.div,{...s,ref:t})});vC.displayName=KT;var bu="MenuItem",xm="menu.itemSelect",pd=A.forwardRef((e,t)=>{const{disabled:n=!1,onSelect:s,...a}=e,u=A.useRef(null),h=zl(bu,e.__scopeMenu),g=F0(bu,e.__scopeMenu),w=st(t,u),m=A.useRef(!1),C=()=>{const v=u.current;if(!n&&v){const b=new CustomEvent(xm,{bubbles:!0,cancelable:!0});v.addEventListener(xm,D=>s==null?void 0:s(D),{once:!0}),c0(v,b),b.defaultPrevented?m.current=!1:h.onClose()}};return x.jsx(CC,{...a,ref:w,disabled:n,onClick:pe(e.onClick,C),onPointerDown:v=>{var b;(b=e.onPointerDown)==null||b.call(e,v),m.current=!0},onPointerUp:pe(e.onPointerUp,v=>{var b;m.current||(b=v.currentTarget)==null||b.click()}),onKeyDown:pe(e.onKeyDown,v=>{const b=g.searchRef.current!=="";n||b&&v.key===" "||e1.includes(v.key)&&(v.currentTarget.click(),v.preventDefault())})})});pd.displayName=bu;var CC=A.forwardRef((e,t)=>{const{__scopeMenu:n,disabled:s=!1,textValue:a,...u}=e,h=F0(bu,n),g=gC(n),w=A.useRef(null),m=st(t,w),[C,v]=A.useState(!1),[b,D]=A.useState("");return A.useEffect(()=>{const _=w.current;_&&D((_.textContent??"").trim())},[u.children]),x.jsx(Nl.ItemSlot,{scope:n,disabled:s,textValue:a??b,children:x.jsx(nv,{asChild:!0,...g,focusable:!s,children:x.jsx(Le.div,{role:"menuitem","data-highlighted":C?"":void 0,"aria-disabled":s||void 0,"data-disabled":s?"":void 0,...u,ref:m,onPointerMove:pe(e.onPointerMove,Il(_=>{s?h.onItemLeave(_):(h.onItemEnter(_),_.defaultPrevented||_.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:pe(e.onPointerLeave,Il(_=>h.onItemLeave(_))),onFocus:pe(e.onFocus,()=>v(!0)),onBlur:pe(e.onBlur,()=>v(!1))})})})}),QT="MenuCheckboxItem",EC=A.forwardRef((e,t)=>{const{checked:n=!1,onCheckedChange:s,...a}=e;return x.jsx(IC,{scope:e.__scopeMenu,checked:n,children:x.jsx(pd,{role:"menuitemcheckbox","aria-checked":Nu(n)?"mixed":n,...a,ref:t,"data-state":V0(n),onSelect:pe(a.onSelect,()=>s==null?void 0:s(Nu(n)?!0:!n),{checkForDefaultPrevented:!1})})})});EC.displayName=QT;var AC="MenuRadioGroup",[qT,ZT]=Zs(AC,{value:void 0,onValueChange:()=>{}}),SC=A.forwardRef((e,t)=>{const{value:n,onValueChange:s,...a}=e,u=dn(s);return x.jsx(qT,{scope:e.__scopeMenu,value:n,onValueChange:u,children:x.jsx(j0,{...a,ref:t})})});SC.displayName=AC;var bC="MenuRadioItem",NC=A.forwardRef((e,t)=>{const{value:n,...s}=e,a=ZT(bC,e.__scopeMenu),u=n===a.value;return x.jsx(IC,{scope:e.__scopeMenu,checked:u,children:x.jsx(pd,{role:"menuitemradio","aria-checked":u,...s,ref:t,"data-state":V0(u),onSelect:pe(s.onSelect,()=>{var h;return(h=a.onValueChange)==null?void 0:h.call(a,n)},{checkForDefaultPrevented:!1})})})});NC.displayName=bC;var U0="MenuItemIndicator",[IC,$T]=Zs(U0,{checked:!1}),TC=A.forwardRef((e,t)=>{const{__scopeMenu:n,forceMount:s,...a}=e,u=$T(U0,n);return x.jsx(ds,{present:s||Nu(u.checked)||u.checked===!0,children:x.jsx(Le.span,{...a,ref:t,"data-state":V0(u.checked)})})});TC.displayName=U0;var JT="MenuSeparator",RC=A.forwardRef((e,t)=>{const{__scopeMenu:n,...s}=e;return x.jsx(Le.div,{role:"separator","aria-orientation":"horizontal",...s,ref:t})});RC.displayName=JT;var e6="MenuArrow",_C=A.forwardRef((e,t)=>{const{__scopeMenu:n,...s}=e,a=hd(n);return x.jsx(N0,{...a,...s,ref:t})});_C.displayName=e6;var t6="MenuSub",[z_,OC]=Zs(t6),Ka="MenuSubTrigger",MC=A.forwardRef((e,t)=>{const n=$s(Ka,e.__scopeMenu),s=zl(Ka,e.__scopeMenu),a=OC(Ka,e.__scopeMenu),u=F0(Ka,e.__scopeMenu),h=A.useRef(null),{pointerGraceTimerRef:g,onPointerGraceIntentChange:w}=u,m={__scopeMenu:e.__scopeMenu},C=A.useCallback(()=>{h.current&&window.clearTimeout(h.current),h.current=null},[]);return A.useEffect(()=>C,[C]),A.useEffect(()=>{const v=g.current;return()=>{window.clearTimeout(v),w(null)}},[g,w]),x.jsx(k0,{asChild:!0,...m,children:x.jsx(CC,{id:a.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":a.contentId,"data-state":kC(n.open),...e,ref:Ku(t,a.onTriggerChange),onClick:v=>{var b;(b=e.onClick)==null||b.call(e,v),!(e.disabled||v.defaultPrevented)&&(v.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:pe(e.onPointerMove,Il(v=>{u.onItemEnter(v),!v.defaultPrevented&&!e.disabled&&!n.open&&!h.current&&(u.onPointerGraceIntentChange(null),h.current=window.setTimeout(()=>{n.onOpenChange(!0),C()},100))})),onPointerLeave:pe(e.onPointerLeave,Il(v=>{var D,_;C();const b=(D=n.content)==null?void 0:D.getBoundingClientRect();if(b){const S=(_=n.content)==null?void 0:_.dataset.side,P=S==="right",O=P?-5:5,I=b[P?"left":"right"],R=b[P?"right":"left"];u.onPointerGraceIntentChange({area:[{x:v.clientX+O,y:v.clientY},{x:I,y:b.top},{x:R,y:b.top},{x:R,y:b.bottom},{x:I,y:b.bottom}],side:S}),window.clearTimeout(g.current),g.current=window.setTimeout(()=>u.onPointerGraceIntentChange(null),300)}else{if(u.onTriggerLeave(v),v.defaultPrevented)return;u.onPointerGraceIntentChange(null)}})),onKeyDown:pe(e.onKeyDown,v=>{var D;const b=u.searchRef.current!=="";e.disabled||b&&v.key===" "||kT[s.dir].includes(v.key)&&(n.onOpenChange(!0),(D=n.content)==null||D.focus(),v.preventDefault())})})})});MC.displayName=Ka;var DC="MenuSubContent",PC=A.forwardRef((e,t)=>{const n=xC(or,e.__scopeMenu),{forceMount:s=n.forceMount,...a}=e,u=$s(or,e.__scopeMenu),h=zl(or,e.__scopeMenu),g=OC(DC,e.__scopeMenu),w=A.useRef(null),m=st(t,w);return x.jsx(Nl.Provider,{scope:e.__scopeMenu,children:x.jsx(ds,{present:s||u.open,children:x.jsx(Nl.Slot,{scope:e.__scopeMenu,children:x.jsx(B0,{id:g.contentId,"aria-labelledby":g.triggerId,...a,ref:m,align:"start",side:h.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:C=>{var v;h.isUsingKeyboardRef.current&&((v=w.current)==null||v.focus()),C.preventDefault()},onCloseAutoFocus:C=>C.preventDefault(),onFocusOutside:pe(e.onFocusOutside,C=>{C.target!==g.trigger&&u.onOpenChange(!1)}),onEscapeKeyDown:pe(e.onEscapeKeyDown,C=>{h.onClose(),C.preventDefault()}),onKeyDown:pe(e.onKeyDown,C=>{var D;const v=C.currentTarget.contains(C.target),b=LT[h.dir].includes(C.key);v&&b&&(u.onOpenChange(!1),(D=g.trigger)==null||D.focus(),C.preventDefault())})})})})})});PC.displayName=DC;function kC(e){return e?"open":"closed"}function Nu(e){return e==="indeterminate"}function V0(e){return Nu(e)?"indeterminate":e?"checked":"unchecked"}function n6(e){const t=document.activeElement;for(const n of e)if(n===t||(n.focus(),document.activeElement!==t))return}function r6(e,t){return e.map((n,s)=>e[(t+s)%e.length])}function i6(e,t,n){const a=t.length>1&&Array.from(t).every(m=>m===t[0])?t[0]:t,u=n?e.indexOf(n):-1;let h=r6(e,Math.max(u,0));a.length===1&&(h=h.filter(m=>m!==n));const w=h.find(m=>m.toLowerCase().startsWith(a.toLowerCase()));return w!==n?w:void 0}function s6(e,t){const{x:n,y:s}=e;let a=!1;for(let u=0,h=t.length-1;u<t.length;h=u++){const g=t[u].x,w=t[u].y,m=t[h].x,C=t[h].y;w>s!=C>s&&n<(m-g)*(s-w)/(C-w)+g&&(a=!a)}return a}function o6(e,t){if(!t)return!1;const n={x:e.clientX,y:e.clientY};return s6(n,t)}function Il(e){return t=>t.pointerType==="mouse"?e(t):void 0}var a6=mC,l6=k0,c6=wC,u6=yC,d6=j0,f6=vC,h6=pd,p6=EC,g6=SC,m6=NC,x6=TC,w6=RC,y6=_C,v6=MC,C6=PC,W0="DropdownMenu",[E6,G_]=gi(W0,[pC]),An=pC(),[A6,LC]=E6(W0),FC=e=>{const{__scopeDropdownMenu:t,children:n,dir:s,open:a,defaultOpen:u,onOpenChange:h,modal:g=!0}=e,w=An(t),m=A.useRef(null),[C=!1,v]=oa({prop:a,defaultProp:u,onChange:h});return x.jsx(A6,{scope:t,triggerId:Hs(),triggerRef:m,contentId:Hs(),open:C,onOpenChange:v,onOpenToggle:A.useCallback(()=>v(b=>!b),[v]),modal:g,children:x.jsx(a6,{...w,open:C,onOpenChange:v,dir:s,modal:g,children:n})})};FC.displayName=W0;var BC="DropdownMenuTrigger",jC=A.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,disabled:s=!1,...a}=e,u=LC(BC,n),h=An(n);return x.jsx(l6,{asChild:!0,...h,children:x.jsx(Le.button,{type:"button",id:u.triggerId,"aria-haspopup":"menu","aria-expanded":u.open,"aria-controls":u.open?u.contentId:void 0,"data-state":u.open?"open":"closed","data-disabled":s?"":void 0,disabled:s,...a,ref:Ku(t,u.triggerRef),onPointerDown:pe(e.onPointerDown,g=>{!s&&g.button===0&&g.ctrlKey===!1&&(u.onOpenToggle(),u.open||g.preventDefault())}),onKeyDown:pe(e.onKeyDown,g=>{s||(["Enter"," "].includes(g.key)&&u.onOpenToggle(),g.key==="ArrowDown"&&u.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(g.key)&&g.preventDefault())})})})});jC.displayName=BC;var S6="DropdownMenuPortal",UC=e=>{const{__scopeDropdownMenu:t,...n}=e,s=An(t);return x.jsx(c6,{...s,...n})};UC.displayName=S6;var VC="DropdownMenuContent",WC=A.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,a=LC(VC,n),u=An(n),h=A.useRef(!1);return x.jsx(u6,{id:a.contentId,"aria-labelledby":a.triggerId,...u,...s,ref:t,onCloseAutoFocus:pe(e.onCloseAutoFocus,g=>{var w;h.current||(w=a.triggerRef.current)==null||w.focus(),h.current=!1,g.preventDefault()}),onInteractOutside:pe(e.onInteractOutside,g=>{const w=g.detail.originalEvent,m=w.button===0&&w.ctrlKey===!0,C=w.button===2||m;(!a.modal||C)&&(h.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});WC.displayName=VC;var b6="DropdownMenuGroup",N6=A.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,a=An(n);return x.jsx(d6,{...a,...s,ref:t})});N6.displayName=b6;var I6="DropdownMenuLabel",HC=A.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,a=An(n);return x.jsx(f6,{...a,...s,ref:t})});HC.displayName=I6;var T6="DropdownMenuItem",zC=A.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,a=An(n);return x.jsx(h6,{...a,...s,ref:t})});zC.displayName=T6;var R6="DropdownMenuCheckboxItem",GC=A.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,a=An(n);return x.jsx(p6,{...a,...s,ref:t})});GC.displayName=R6;var _6="DropdownMenuRadioGroup",O6=A.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,a=An(n);return x.jsx(g6,{...a,...s,ref:t})});O6.displayName=_6;var M6="DropdownMenuRadioItem",XC=A.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,a=An(n);return x.jsx(m6,{...a,...s,ref:t})});XC.displayName=M6;var D6="DropdownMenuItemIndicator",YC=A.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,a=An(n);return x.jsx(x6,{...a,...s,ref:t})});YC.displayName=D6;var P6="DropdownMenuSeparator",KC=A.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,a=An(n);return x.jsx(w6,{...a,...s,ref:t})});KC.displayName=P6;var k6="DropdownMenuArrow",L6=A.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,a=An(n);return x.jsx(y6,{...a,...s,ref:t})});L6.displayName=k6;var F6="DropdownMenuSubTrigger",QC=A.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,a=An(n);return x.jsx(v6,{...a,...s,ref:t})});QC.displayName=F6;var B6="DropdownMenuSubContent",qC=A.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,a=An(n);return x.jsx(C6,{...a,...s,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});qC.displayName=B6;var j6=FC,U6=jC,V6=UC,ZC=WC,$C=HC,JC=zC,eE=GC,tE=XC,nE=YC,rE=KC,iE=QC,sE=qC;const W6=j6,H6=U6,z6=A.forwardRef(({className:e,inset:t,children:n,...s},a)=>x.jsxs(iE,{ref:a,className:_e("flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",t&&"pl-8",e),...s,children:[n,x.jsx(S4,{className:"ml-auto"})]}));z6.displayName=iE.displayName;const G6=A.forwardRef(({className:e,...t},n)=>x.jsx(sE,{ref:n,className:_e("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]",e),...t}));G6.displayName=sE.displayName;const oE=A.forwardRef(({className:e,sideOffset:t=4,...n},s)=>x.jsx(V6,{children:x.jsx(ZC,{ref:s,sideOffset:t,className:_e("z-50 max-h-[var(--radix-dropdown-menu-content-available-height)] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]",e),...n})}));oE.displayName=ZC.displayName;const t1=A.forwardRef(({className:e,inset:t,...n},s)=>x.jsx(JC,{ref:s,className:_e("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",t&&"pl-8",e),...n}));t1.displayName=JC.displayName;const X6=A.forwardRef(({className:e,children:t,checked:n,...s},a)=>x.jsxs(eE,{ref:a,className:_e("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:n,...s,children:[x.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:x.jsx(nE,{children:x.jsx(ny,{className:"h-4 w-4"})})}),t]}));X6.displayName=eE.displayName;const Y6=A.forwardRef(({className:e,children:t,...n},s)=>x.jsxs(tE,{ref:s,className:_e("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[x.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:x.jsx(nE,{children:x.jsx(I4,{className:"h-2 w-2 fill-current"})})}),t]}));Y6.displayName=tE.displayName;const aE=A.forwardRef(({className:e,inset:t,...n},s)=>x.jsx($C,{ref:s,className:_e("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...n}));aE.displayName=$C.displayName;const n1=A.forwardRef(({className:e,...t},n)=>x.jsx(rE,{ref:n,className:_e("-mx-1 my-1 h-px bg-muted",e),...t}));n1.displayName=rE.displayName;function hi(){const{user:e,logoutMutation:t}=wa(),n=s=>{switch(s){case"ADMIN":return"default";case"STUDENT":return"secondary";case"MARKER":return"outline";default:return"secondary"}};return x.jsx("header",{className:"border-b bg-card",children:x.jsxs("div",{className:"flex items-center justify-between h-16 px-6",children:[x.jsxs("div",{className:"flex items-center gap-3",children:[x.jsx(oy,{className:"h-8 w-8 text-primary","data-testid":"logo-icon"}),x.jsxs("div",{children:[x.jsx("h1",{className:"text-xl font-bold text-card-foreground",children:"BU Examination System"}),x.jsx("p",{className:"text-xs text-muted-foreground",children:"QR-Based Anonymous Grading"})]})]}),e&&x.jsxs(W6,{children:[x.jsx(H6,{asChild:!0,children:x.jsxs(Et,{variant:"ghost",className:"gap-2","data-testid":"button-user-menu",children:[x.jsx(Yg,{className:"h-4 w-4"}),x.jsx("span",{className:"hidden md:inline",children:e.name}),x.jsx(ks,{variant:n(e.role),"data-testid":`badge-role-${e.role.toLowerCase()}`,children:e.role})]})}),x.jsxs(oE,{align:"end",className:"w-56",children:[x.jsx(aE,{children:"My Account"}),x.jsx(n1,{}),x.jsxs(t1,{disabled:!0,children:[x.jsx(Yg,{className:"mr-2 h-4 w-4"}),e.email]}),x.jsx(n1,{}),x.jsxs(t1,{onClick:()=>t.mutate(),disabled:t.isPending,"data-testid":"button-logout",children:[x.jsx(R4,{className:"mr-2 h-4 w-4"}),t.isPending?"Logging out...":"Logout"]})]})]})]})})}function si({className:e,...t}){return x.jsx("div",{className:_e("animate-pulse rounded-md bg-muted",e),...t})}function Nr(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function Xs(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}const lE=6048e5,K6=864e5;let Q6={};function gd(){return Q6}function Tl(e,t){var g,w,m,C;const n=gd(),s=(t==null?void 0:t.weekStartsOn)??((w=(g=t==null?void 0:t.locale)==null?void 0:g.options)==null?void 0:w.weekStartsOn)??n.weekStartsOn??((C=(m=n.locale)==null?void 0:m.options)==null?void 0:C.weekStartsOn)??0,a=Nr(e),u=a.getDay(),h=(u<s?7:0)+u-s;return a.setDate(a.getDate()-h),a.setHours(0,0,0,0),a}function Iu(e){return Tl(e,{weekStartsOn:1})}function cE(e){const t=Nr(e),n=t.getFullYear(),s=Xs(e,0);s.setFullYear(n+1,0,4),s.setHours(0,0,0,0);const a=Iu(s),u=Xs(e,0);u.setFullYear(n,0,4),u.setHours(0,0,0,0);const h=Iu(u);return t.getTime()>=a.getTime()?n+1:t.getTime()>=h.getTime()?n:n-1}function wm(e){const t=Nr(e);return t.setHours(0,0,0,0),t}function ym(e){const t=Nr(e),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),+e-+n}function q6(e,t){const n=wm(e),s=wm(t),a=+n-ym(n),u=+s-ym(s);return Math.round((a-u)/K6)}function Z6(e){const t=cE(e),n=Xs(e,0);return n.setFullYear(t,0,4),n.setHours(0,0,0,0),Iu(n)}function $6(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function J6(e){if(!$6(e)&&typeof e!="number")return!1;const t=Nr(e);return!isNaN(Number(t))}function eR(e){const t=Nr(e),n=Xs(e,0);return n.setFullYear(t.getFullYear(),0,1),n.setHours(0,0,0,0),n}const tR={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},nR=(e,t,n)=>{let s;const a=tR[e];return typeof a=="string"?s=a:t===1?s=a.one:s=a.other.replace("{{count}}",t.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+s:s+" ago":s};function If(e){return(t={})=>{const n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}const rR={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},iR={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},sR={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},oR={date:If({formats:rR,defaultWidth:"full"}),time:If({formats:iR,defaultWidth:"full"}),dateTime:If({formats:sR,defaultWidth:"full"})},aR={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},lR=(e,t,n,s)=>aR[e];function Ua(e){return(t,n)=>{const s=n!=null&&n.context?String(n.context):"standalone";let a;if(s==="formatting"&&e.formattingValues){const h=e.defaultFormattingWidth||e.defaultWidth,g=n!=null&&n.width?String(n.width):h;a=e.formattingValues[g]||e.formattingValues[h]}else{const h=e.defaultWidth,g=n!=null&&n.width?String(n.width):e.defaultWidth;a=e.values[g]||e.values[h]}const u=e.argumentCallback?e.argumentCallback(t):t;return a[u]}}const cR={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},uR={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},dR={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},fR={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},hR={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},pR={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},gR=(e,t)=>{const n=Number(e),s=n%100;if(s>20||s<10)switch(s%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},mR={ordinalNumber:gR,era:Ua({values:cR,defaultWidth:"wide"}),quarter:Ua({values:uR,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Ua({values:dR,defaultWidth:"wide"}),day:Ua({values:fR,defaultWidth:"wide"}),dayPeriod:Ua({values:hR,defaultWidth:"wide",formattingValues:pR,defaultFormattingWidth:"wide"})};function Va(e){return(t,n={})=>{const s=n.width,a=s&&e.matchPatterns[s]||e.matchPatterns[e.defaultMatchWidth],u=t.match(a);if(!u)return null;const h=u[0],g=s&&e.parsePatterns[s]||e.parsePatterns[e.defaultParseWidth],w=Array.isArray(g)?wR(g,v=>v.test(h)):xR(g,v=>v.test(h));let m;m=e.valueCallback?e.valueCallback(w):w,m=n.valueCallback?n.valueCallback(m):m;const C=t.slice(h.length);return{value:m,rest:C}}}function xR(e,t){for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t(e[n]))return n}function wR(e,t){for(let n=0;n<e.length;n++)if(t(e[n]))return n}function yR(e){return(t,n={})=>{const s=t.match(e.matchPattern);if(!s)return null;const a=s[0],u=t.match(e.parsePattern);if(!u)return null;let h=e.valueCallback?e.valueCallback(u[0]):u[0];h=n.valueCallback?n.valueCallback(h):h;const g=t.slice(a.length);return{value:h,rest:g}}}const vR=/^(\d+)(th|st|nd|rd)?/i,CR=/\d+/i,ER={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},AR={any:[/^b/i,/^(a|c)/i]},SR={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},bR={any:[/1/i,/2/i,/3/i,/4/i]},NR={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},IR={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},TR={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},RR={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},_R={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},OR={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},MR={ordinalNumber:yR({matchPattern:vR,parsePattern:CR,valueCallback:e=>parseInt(e,10)}),era:Va({matchPatterns:ER,defaultMatchWidth:"wide",parsePatterns:AR,defaultParseWidth:"any"}),quarter:Va({matchPatterns:SR,defaultMatchWidth:"wide",parsePatterns:bR,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Va({matchPatterns:NR,defaultMatchWidth:"wide",parsePatterns:IR,defaultParseWidth:"any"}),day:Va({matchPatterns:TR,defaultMatchWidth:"wide",parsePatterns:RR,defaultParseWidth:"any"}),dayPeriod:Va({matchPatterns:_R,defaultMatchWidth:"any",parsePatterns:OR,defaultParseWidth:"any"})},DR={code:"en-US",formatDistance:nR,formatLong:oR,formatRelative:lR,localize:mR,match:MR,options:{weekStartsOn:0,firstWeekContainsDate:1}};function PR(e){const t=Nr(e);return q6(t,eR(t))+1}function kR(e){const t=Nr(e),n=+Iu(t)-+Z6(t);return Math.round(n/lE)+1}function uE(e,t){var C,v,b,D;const n=Nr(e),s=n.getFullYear(),a=gd(),u=(t==null?void 0:t.firstWeekContainsDate)??((v=(C=t==null?void 0:t.locale)==null?void 0:C.options)==null?void 0:v.firstWeekContainsDate)??a.firstWeekContainsDate??((D=(b=a.locale)==null?void 0:b.options)==null?void 0:D.firstWeekContainsDate)??1,h=Xs(e,0);h.setFullYear(s+1,0,u),h.setHours(0,0,0,0);const g=Tl(h,t),w=Xs(e,0);w.setFullYear(s,0,u),w.setHours(0,0,0,0);const m=Tl(w,t);return n.getTime()>=g.getTime()?s+1:n.getTime()>=m.getTime()?s:s-1}function LR(e,t){var g,w,m,C;const n=gd(),s=(t==null?void 0:t.firstWeekContainsDate)??((w=(g=t==null?void 0:t.locale)==null?void 0:g.options)==null?void 0:w.firstWeekContainsDate)??n.firstWeekContainsDate??((C=(m=n.locale)==null?void 0:m.options)==null?void 0:C.firstWeekContainsDate)??1,a=uE(e,t),u=Xs(e,0);return u.setFullYear(a,0,s),u.setHours(0,0,0,0),Tl(u,t)}function FR(e,t){const n=Nr(e),s=+Tl(n,t)-+LR(n,t);return Math.round(s/lE)+1}function Je(e,t){const n=e<0?"-":"",s=Math.abs(e).toString().padStart(t,"0");return n+s}const Ii={y(e,t){const n=e.getFullYear(),s=n>0?n:1-n;return Je(t==="yy"?s%100:s,t.length)},M(e,t){const n=e.getMonth();return t==="M"?String(n+1):Je(n+1,2)},d(e,t){return Je(e.getDate(),t.length)},a(e,t){const n=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(e,t){return Je(e.getHours()%12||12,t.length)},H(e,t){return Je(e.getHours(),t.length)},m(e,t){return Je(e.getMinutes(),t.length)},s(e,t){return Je(e.getSeconds(),t.length)},S(e,t){const n=t.length,s=e.getMilliseconds(),a=Math.trunc(s*Math.pow(10,n-3));return Je(a,t.length)}},ho={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},vm={G:function(e,t,n){const s=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(s,{width:"abbreviated"});case"GGGGG":return n.era(s,{width:"narrow"});case"GGGG":default:return n.era(s,{width:"wide"})}},y:function(e,t,n){if(t==="yo"){const s=e.getFullYear(),a=s>0?s:1-s;return n.ordinalNumber(a,{unit:"year"})}return Ii.y(e,t)},Y:function(e,t,n,s){const a=uE(e,s),u=a>0?a:1-a;if(t==="YY"){const h=u%100;return Je(h,2)}return t==="Yo"?n.ordinalNumber(u,{unit:"year"}):Je(u,t.length)},R:function(e,t){const n=cE(e);return Je(n,t.length)},u:function(e,t){const n=e.getFullYear();return Je(n,t.length)},Q:function(e,t,n){const s=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(s);case"QQ":return Je(s,2);case"Qo":return n.ordinalNumber(s,{unit:"quarter"});case"QQQ":return n.quarter(s,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(s,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(s,{width:"wide",context:"formatting"})}},q:function(e,t,n){const s=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(s);case"qq":return Je(s,2);case"qo":return n.ordinalNumber(s,{unit:"quarter"});case"qqq":return n.quarter(s,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(s,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(s,{width:"wide",context:"standalone"})}},M:function(e,t,n){const s=e.getMonth();switch(t){case"M":case"MM":return Ii.M(e,t);case"Mo":return n.ordinalNumber(s+1,{unit:"month"});case"MMM":return n.month(s,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(s,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(s,{width:"wide",context:"formatting"})}},L:function(e,t,n){const s=e.getMonth();switch(t){case"L":return String(s+1);case"LL":return Je(s+1,2);case"Lo":return n.ordinalNumber(s+1,{unit:"month"});case"LLL":return n.month(s,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(s,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(s,{width:"wide",context:"standalone"})}},w:function(e,t,n,s){const a=FR(e,s);return t==="wo"?n.ordinalNumber(a,{unit:"week"}):Je(a,t.length)},I:function(e,t,n){const s=kR(e);return t==="Io"?n.ordinalNumber(s,{unit:"week"}):Je(s,t.length)},d:function(e,t,n){return t==="do"?n.ordinalNumber(e.getDate(),{unit:"date"}):Ii.d(e,t)},D:function(e,t,n){const s=PR(e);return t==="Do"?n.ordinalNumber(s,{unit:"dayOfYear"}):Je(s,t.length)},E:function(e,t,n){const s=e.getDay();switch(t){case"E":case"EE":case"EEE":return n.day(s,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(s,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(s,{width:"short",context:"formatting"});case"EEEE":default:return n.day(s,{width:"wide",context:"formatting"})}},e:function(e,t,n,s){const a=e.getDay(),u=(a-s.weekStartsOn+8)%7||7;switch(t){case"e":return String(u);case"ee":return Je(u,2);case"eo":return n.ordinalNumber(u,{unit:"day"});case"eee":return n.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(a,{width:"short",context:"formatting"});case"eeee":default:return n.day(a,{width:"wide",context:"formatting"})}},c:function(e,t,n,s){const a=e.getDay(),u=(a-s.weekStartsOn+8)%7||7;switch(t){case"c":return String(u);case"cc":return Je(u,t.length);case"co":return n.ordinalNumber(u,{unit:"day"});case"ccc":return n.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(a,{width:"narrow",context:"standalone"});case"cccccc":return n.day(a,{width:"short",context:"standalone"});case"cccc":default:return n.day(a,{width:"wide",context:"standalone"})}},i:function(e,t,n){const s=e.getDay(),a=s===0?7:s;switch(t){case"i":return String(a);case"ii":return Je(a,t.length);case"io":return n.ordinalNumber(a,{unit:"day"});case"iii":return n.day(s,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(s,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(s,{width:"short",context:"formatting"});case"iiii":default:return n.day(s,{width:"wide",context:"formatting"})}},a:function(e,t,n){const a=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(e,t,n){const s=e.getHours();let a;switch(s===12?a=ho.noon:s===0?a=ho.midnight:a=s/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(e,t,n){const s=e.getHours();let a;switch(s>=17?a=ho.evening:s>=12?a=ho.afternoon:s>=4?a=ho.morning:a=ho.night,t){case"B":case"BB":case"BBB":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(e,t,n){if(t==="ho"){let s=e.getHours()%12;return s===0&&(s=12),n.ordinalNumber(s,{unit:"hour"})}return Ii.h(e,t)},H:function(e,t,n){return t==="Ho"?n.ordinalNumber(e.getHours(),{unit:"hour"}):Ii.H(e,t)},K:function(e,t,n){const s=e.getHours()%12;return t==="Ko"?n.ordinalNumber(s,{unit:"hour"}):Je(s,t.length)},k:function(e,t,n){let s=e.getHours();return s===0&&(s=24),t==="ko"?n.ordinalNumber(s,{unit:"hour"}):Je(s,t.length)},m:function(e,t,n){return t==="mo"?n.ordinalNumber(e.getMinutes(),{unit:"minute"}):Ii.m(e,t)},s:function(e,t,n){return t==="so"?n.ordinalNumber(e.getSeconds(),{unit:"second"}):Ii.s(e,t)},S:function(e,t){return Ii.S(e,t)},X:function(e,t,n){const s=e.getTimezoneOffset();if(s===0)return"Z";switch(t){case"X":return Em(s);case"XXXX":case"XX":return Es(s);case"XXXXX":case"XXX":default:return Es(s,":")}},x:function(e,t,n){const s=e.getTimezoneOffset();switch(t){case"x":return Em(s);case"xxxx":case"xx":return Es(s);case"xxxxx":case"xxx":default:return Es(s,":")}},O:function(e,t,n){const s=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+Cm(s,":");case"OOOO":default:return"GMT"+Es(s,":")}},z:function(e,t,n){const s=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+Cm(s,":");case"zzzz":default:return"GMT"+Es(s,":")}},t:function(e,t,n){const s=Math.trunc(e.getTime()/1e3);return Je(s,t.length)},T:function(e,t,n){const s=e.getTime();return Je(s,t.length)}};function Cm(e,t=""){const n=e>0?"-":"+",s=Math.abs(e),a=Math.trunc(s/60),u=s%60;return u===0?n+String(a):n+String(a)+t+Je(u,2)}function Em(e,t){return e%60===0?(e>0?"-":"+")+Je(Math.abs(e)/60,2):Es(e,t)}function Es(e,t=""){const n=e>0?"-":"+",s=Math.abs(e),a=Je(Math.trunc(s/60),2),u=Je(s%60,2);return n+a+t+u}const Am=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},dE=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},BR=(e,t)=>{const n=e.match(/(P+)(p+)?/)||[],s=n[1],a=n[2];if(!a)return Am(e,t);let u;switch(s){case"P":u=t.dateTime({width:"short"});break;case"PP":u=t.dateTime({width:"medium"});break;case"PPP":u=t.dateTime({width:"long"});break;case"PPPP":default:u=t.dateTime({width:"full"});break}return u.replace("{{date}}",Am(s,t)).replace("{{time}}",dE(a,t))},jR={p:dE,P:BR},UR=/^D+$/,VR=/^Y+$/,WR=["D","DD","YY","YYYY"];function HR(e){return UR.test(e)}function zR(e){return VR.test(e)}function GR(e,t,n){const s=XR(e,t,n);if(console.warn(s),WR.includes(e))throw new RangeError(s)}function XR(e,t,n){const s=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${s} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const YR=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,KR=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,QR=/^'([^]*?)'?$/,qR=/''/g,ZR=/[a-zA-Z]/;function fE(e,t,n){var C,v,b,D;const s=gd(),a=s.locale??DR,u=s.firstWeekContainsDate??((v=(C=s.locale)==null?void 0:C.options)==null?void 0:v.firstWeekContainsDate)??1,h=s.weekStartsOn??((D=(b=s.locale)==null?void 0:b.options)==null?void 0:D.weekStartsOn)??0,g=Nr(e);if(!J6(g))throw new RangeError("Invalid time value");let w=t.match(KR).map(_=>{const S=_[0];if(S==="p"||S==="P"){const P=jR[S];return P(_,a.formatLong)}return _}).join("").match(YR).map(_=>{if(_==="''")return{isToken:!1,value:"'"};const S=_[0];if(S==="'")return{isToken:!1,value:$R(_)};if(vm[S])return{isToken:!0,value:_};if(S.match(ZR))throw new RangeError("Format string contains an unescaped latin alphabet character `"+S+"`");return{isToken:!1,value:_}});a.localize.preprocessor&&(w=a.localize.preprocessor(g,w));const m={firstWeekContainsDate:u,weekStartsOn:h,locale:a};return w.map(_=>{if(!_.isToken)return _.value;const S=_.value;(zR(S)||HR(S))&&GR(S,t,String(e));const P=vm[S[0]];return P(g,S,a.localize,m)}).join("")}function $R(e){const t=e.match(QR);return t?t[1].replace(qR,"'"):e}function JR(){const[,e]=Gr(),{data:t,isLoading:n}=Ar({queryKey:["/api/exams"]}),{data:s}=Ar({queryKey:["/api/admin/stats"]});return x.jsxs("div",{className:"min-h-screen bg-background",children:[x.jsx(hi,{}),x.jsxs("main",{className:"max-w-7xl mx-auto p-6 space-y-6",children:[x.jsxs("div",{className:"flex items-center justify-between",children:[x.jsxs("div",{children:[x.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"Admin Dashboard"}),x.jsx("p",{className:"text-muted-foreground",children:"Manage examination sessions and QR codes"})]}),x.jsxs(Et,{onClick:()=>e("/admin/exams/create"),"data-testid":"button-create-exam",children:[x.jsx(jh,{className:"h-4 w-4 mr-2"}),"Create Exam"]})]}),x.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[x.jsxs(et,{children:[x.jsxs(ht,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[x.jsx(pt,{className:"text-sm font-medium",children:"Total Exams"}),x.jsx(Bh,{className:"h-4 w-4 text-muted-foreground"})]}),x.jsxs(tt,{children:[x.jsx("div",{className:"text-2xl font-bold","data-testid":"stat-total-exams",children:(s==null?void 0:s.totalExams)??0}),x.jsx("p",{className:"text-xs text-muted-foreground",children:"All examination sessions"})]})]}),x.jsxs(et,{children:[x.jsxs(ht,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[x.jsx(pt,{className:"text-sm font-medium",children:"Active Sessions"}),x.jsx(yu,{className:"h-4 w-4 text-muted-foreground"})]}),x.jsxs(tt,{children:[x.jsx("div",{className:"text-2xl font-bold","data-testid":"stat-active-exams",children:(s==null?void 0:s.activeExams)??0}),x.jsx("p",{className:"text-xs text-muted-foreground",children:"Currently ongoing"})]})]}),x.jsxs(et,{children:[x.jsxs(ht,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[x.jsx(pt,{className:"text-sm font-medium",children:"QR Codes Generated"}),x.jsx(is,{className:"h-4 w-4 text-muted-foreground"})]}),x.jsxs(tt,{children:[x.jsx("div",{className:"text-2xl font-bold","data-testid":"stat-qr-codes",children:(s==null?void 0:s.totalQRCodes)??0}),x.jsx("p",{className:"text-xs text-muted-foreground",children:"Total codes created"})]})]}),x.jsxs(et,{children:[x.jsxs(ht,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[x.jsx(pt,{className:"text-sm font-medium",children:"Pending Reveals"}),x.jsx(Gg,{className:"h-4 w-4 text-muted-foreground"})]}),x.jsxs(tt,{children:[x.jsx("div",{className:"text-2xl font-bold","data-testid":"stat-pending-reveals",children:(s==null?void 0:s.pendingReveals)??0}),x.jsx("p",{className:"text-xs text-muted-foreground",children:"Awaiting grade publication"})]})]})]}),x.jsxs(et,{children:[x.jsxs(ht,{children:[x.jsx(pt,{children:"Examination Sessions"}),x.jsx(Gn,{children:"Manage and monitor all exam sessions"})]}),x.jsx(tt,{children:n?x.jsx("div",{className:"space-y-4",children:[1,2,3].map(a=>x.jsx(si,{className:"h-24 w-full"},a))}):t&&t.length>0?x.jsx("div",{className:"space-y-4",children:t.map(a=>x.jsx(et,{className:"hover-elevate","data-testid":`exam-card-${a.id}`,children:x.jsx(tt,{className:"p-6",children:x.jsxs("div",{className:"flex items-start justify-between",children:[x.jsxs("div",{className:"space-y-2 flex-1",children:[x.jsxs("div",{className:"flex items-center gap-3",children:[x.jsx("h3",{className:"text-lg font-semibold text-card-foreground",children:a.courseName}),x.jsxs(ks,{variant:a.claimedCodes===a.totalCodes?"secondary":"default",children:[a.claimedCodes,"/",a.totalCodes," Claimed"]})]}),x.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground",children:[x.jsxs("div",{className:"flex items-center gap-1",children:[x.jsx(yu,{className:"h-4 w-4"}),fE(new Date(a.date),"PPP")]}),x.jsxs("div",{className:"flex items-center gap-1",children:[x.jsx(h0,{className:"h-4 w-4"}),a.duration," minutes"]})]})]}),x.jsxs("div",{className:"flex gap-2",children:[x.jsxs(Et,{variant:"outline",size:"sm",onClick:()=>e(`/admin/exams/${a.id}/qr-codes`),"data-testid":`button-view-qr-${a.id}`,children:[x.jsx(is,{className:"h-4 w-4 mr-2"}),"QR Codes"]}),x.jsxs(Et,{variant:"outline",size:"sm",onClick:()=>e(`/admin/exams/${a.id}/reveal`),"data-testid":`button-reveal-${a.id}`,children:[x.jsx(Gg,{className:"h-4 w-4 mr-2"}),"Reveal"]})]})]})})},a.id))}):x.jsxs("div",{className:"text-center py-12",children:[x.jsx(Bh,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),x.jsx("h3",{className:"text-lg font-semibold text-foreground mb-2",children:"No exams yet"}),x.jsx("p",{className:"text-muted-foreground mb-4",children:"Create your first examination session to get started"}),x.jsxs(Et,{onClick:()=>e("/admin/exams/create"),"data-testid":"button-create-first-exam",children:[x.jsx(jh,{className:"h-4 w-4 mr-2"}),"Create First Exam"]})]})})]})]})]})}function e_(){const[,e]=Gr(),{toast:t}=qs(),[n,s]=A.useState({courseName:"",date:"",duration:180}),a=ri({mutationFn:async h=>{const g=await ii("POST","/api/exams",{...h,date:new Date(h.date)});if(!g.ok)throw new Error(await g.text());return await g.json()},onSuccess:h=>{ir.invalidateQueries({queryKey:["/api/exams"]}),ir.invalidateQueries({queryKey:["/api/admin/stats"]}),t({title:"Exam created successfully",description:`${h.courseName} has been created`}),e(`/admin/exams/${h.id}/qr-codes`)},onError:h=>{t({title:"Failed to create exam",description:h.message,variant:"destructive"})}}),u=h=>{h.preventDefault(),a.mutate(n)};return x.jsxs("div",{className:"min-h-screen bg-background",children:[x.jsx(hi,{}),x.jsxs("main",{className:"max-w-3xl mx-auto p-6 space-y-6",children:[x.jsxs("div",{className:"flex items-center gap-4",children:[x.jsx(Et,{variant:"ghost",size:"icon",onClick:()=>e("/admin"),"data-testid":"button-back",children:x.jsx(ed,{className:"h-4 w-4"})}),x.jsxs("div",{children:[x.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"Create Examination Session"}),x.jsx("p",{className:"text-muted-foreground",children:"Set up a new exam session and generate QR codes"})]})]}),x.jsxs(et,{children:[x.jsxs(ht,{children:[x.jsx(pt,{children:"Exam Details"}),x.jsx(Gn,{children:"Provide basic information about the examination"})]}),x.jsx(tt,{children:x.jsxs("form",{onSubmit:u,className:"space-y-6",children:[x.jsxs("div",{className:"space-y-2",children:[x.jsx(yn,{htmlFor:"courseName",children:x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx(A4,{className:"h-4 w-4"}),"Course Name"]})}),x.jsx(Mn,{id:"courseName",placeholder:"e.g., Introduction to Computer Science",value:n.courseName,onChange:h=>s({...n,courseName:h.target.value}),required:!0,"data-testid":"input-course-name"})]}),x.jsxs("div",{className:"space-y-2",children:[x.jsx(yn,{htmlFor:"date",children:x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx(yu,{className:"h-4 w-4"}),"Exam Date & Time"]})}),x.jsx(Mn,{id:"date",type:"datetime-local",value:n.date,onChange:h=>s({...n,date:h.target.value}),required:!0,"data-testid":"input-exam-date"})]}),x.jsxs("div",{className:"space-y-2",children:[x.jsx(yn,{htmlFor:"duration",children:x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx(h0,{className:"h-4 w-4"}),"Duration (minutes)"]})}),x.jsx(Mn,{id:"duration",type:"number",min:"30",max:"300",value:n.duration,onChange:h=>s({...n,duration:parseInt(h.target.value)}),required:!0,"data-testid":"input-duration"}),x.jsx("p",{className:"text-sm text-muted-foreground",children:"Typical exam durations: 90, 120, or 180 minutes"})]}),x.jsxs("div",{className:"flex gap-3 pt-4",children:[x.jsx(Et,{type:"button",variant:"outline",onClick:()=>e("/admin"),"data-testid":"button-cancel",children:"Cancel"}),x.jsx(Et,{type:"submit",disabled:a.isPending,"data-testid":"button-create-exam",children:a.isPending?"Creating...":"Create Exam & Generate QR Codes"})]})]})})]}),x.jsxs(et,{className:"border-primary/20 bg-primary/5",children:[x.jsx(ht,{children:x.jsx(pt,{className:"text-base",children:"Next Steps"})}),x.jsxs(tt,{className:"text-sm text-muted-foreground space-y-2",children:[x.jsx("p",{children:"After creating the exam, you will be able to:"}),x.jsxs("ul",{className:"list-disc list-inside space-y-1 ml-2",children:[x.jsx("li",{children:"Generate random QR codes for students"}),x.jsx("li",{children:"Download printable PDF sheets with QR codes"}),x.jsx("li",{children:"Monitor QR code claiming status"}),x.jsx("li",{children:"Reveal student-to-grade mappings after marking"})]})]})]})]})]})}function t_(){const[,e]=i0("/admin/exams/:id/qr-codes"),[,t]=Gr(),{toast:n}=qs(),s=e==null?void 0:e.id,[a,u]=A.useState(50),{data:h,isLoading:g}=Ar({queryKey:["/api/exams",s],enabled:!!s}),{data:w,isLoading:m}=Ar({queryKey:["/api/exams",s,"codes"],enabled:!!s}),C=ri({mutationFn:async _=>{const S=await ii("POST",`/api/exams/${s}/generate-codes`,{count:_});if(!S.ok)throw new Error(await S.text());return await S.json()},onSuccess:()=>{ir.invalidateQueries({queryKey:["/api/exams",s,"codes"]}),ir.invalidateQueries({queryKey:["/api/exams"]}),ir.invalidateQueries({queryKey:["/api/admin/stats"]}),n({title:"QR codes generated",description:`${a} QR codes have been created`})},onError:_=>{n({title:"Failed to generate codes",description:_.message,variant:"destructive"})}}),v=ri({mutationFn:async()=>{const _=await ii("GET",`/api/exams/${s}/download-pdf`,{});if(!_.ok)throw new Error(await _.text());return await _.blob()},onSuccess:_=>{const S=URL.createObjectURL(_),P=document.createElement("a");P.href=S,P.download=`${(h==null?void 0:h.courseName)||"exam"}-qr-codes.pdf`,P.click(),URL.revokeObjectURL(S),n({title:"PDF downloaded",description:"QR codes PDF has been downloaded"})},onError:_=>{n({title:"Failed to download PDF",description:_.message,variant:"destructive"})}});if(g)return x.jsxs("div",{className:"min-h-screen bg-background",children:[x.jsx(hi,{}),x.jsxs("main",{className:"max-w-7xl mx-auto p-6",children:[x.jsx(si,{className:"h-12 w-64 mb-6"}),x.jsx(si,{className:"h-96 w-full"})]})]});const b=(w==null?void 0:w.filter(_=>_.assignedTo).length)||0,D=((w==null?void 0:w.length)||0)-b;return x.jsxs("div",{className:"min-h-screen bg-background",children:[x.jsx(hi,{}),x.jsxs("main",{className:"max-w-7xl mx-auto p-6 space-y-6",children:[x.jsxs("div",{className:"flex items-center gap-4",children:[x.jsx(Et,{variant:"ghost",size:"icon",onClick:()=>t("/admin"),"data-testid":"button-back",children:x.jsx(ed,{className:"h-4 w-4"})}),x.jsxs("div",{className:"flex-1",children:[x.jsx("h1",{className:"text-3xl font-bold text-foreground",children:h==null?void 0:h.courseName}),x.jsx("p",{className:"text-muted-foreground",children:"Manage QR codes for this examination"})]}),w&&w.length>0&&x.jsxs(Et,{onClick:()=>v.mutate(),disabled:v.isPending,"data-testid":"button-download-pdf",children:[x.jsx(sy,{className:"h-4 w-4 mr-2"}),v.isPending?"Generating PDF...":"Download PDF"]})]}),x.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[x.jsxs(et,{children:[x.jsxs(ht,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[x.jsx(pt,{className:"text-sm font-medium",children:"Total Codes"}),x.jsx(is,{className:"h-4 w-4 text-muted-foreground"})]}),x.jsx(tt,{children:x.jsx("div",{className:"text-2xl font-bold","data-testid":"stat-total-codes",children:(w==null?void 0:w.length)||0})})]}),x.jsxs(et,{children:[x.jsxs(ht,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[x.jsx(pt,{className:"text-sm font-medium",children:"Claimed"}),x.jsx(ks,{variant:"default",children:"Active"})]}),x.jsx(tt,{children:x.jsx("div",{className:"text-2xl font-bold text-primary","data-testid":"stat-claimed-codes",children:b})})]}),x.jsxs(et,{children:[x.jsxs(ht,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[x.jsx(pt,{className:"text-sm font-medium",children:"Unclaimed"}),x.jsx(ks,{variant:"secondary",children:"Pending"})]}),x.jsx(tt,{children:x.jsx("div",{className:"text-2xl font-bold text-muted-foreground","data-testid":"stat-unclaimed-codes",children:D})})]})]}),!w||w.length===0?x.jsxs(et,{children:[x.jsxs(ht,{children:[x.jsx(pt,{children:"Generate QR Codes"}),x.jsx(Gn,{children:"Create random QR codes for students to claim during the exam"})]}),x.jsxs(tt,{className:"space-y-4",children:[x.jsxs("div",{className:"space-y-2",children:[x.jsx(yn,{htmlFor:"codeCount",children:"Number of QR Codes"}),x.jsx(Mn,{id:"codeCount",type:"number",min:"1",max:"500",value:a,onChange:_=>u(parseInt(_.target.value)),"data-testid":"input-code-count"}),x.jsx("p",{className:"text-sm text-muted-foreground",children:"Generate one code per expected student (plus a few extras)"})]}),x.jsxs(Et,{onClick:()=>C.mutate(a),disabled:C.isPending,"data-testid":"button-generate-codes",children:[x.jsx(jh,{className:"h-4 w-4 mr-2"}),C.isPending?"Generating...":`Generate ${a} QR Codes`]})]})]}):x.jsxs(et,{children:[x.jsxs(ht,{children:[x.jsx(pt,{children:"QR Code List"}),x.jsx(Gn,{children:"All generated codes for this examination"})]}),x.jsx(tt,{children:m?x.jsx("div",{className:"space-y-2",children:[1,2,3,4,5].map(_=>x.jsx(si,{className:"h-16 w-full"},_))}):x.jsx("div",{className:"space-y-2 max-h-96 overflow-y-auto",children:w.map(_=>x.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-md hover-elevate","data-testid":`code-item-${_.id}`,children:[x.jsxs("div",{className:"flex items-center gap-3",children:[x.jsx(is,{className:"h-5 w-5 text-muted-foreground"}),x.jsx("code",{className:"font-mono text-sm","data-testid":`code-value-${_.id}`,children:_.codeValue})]}),x.jsx(ks,{variant:_.assignedTo?"default":"secondary",children:_.assignedTo?"Claimed":"Unclaimed"})]},_.id))})})]})]})]})}const H0=A.forwardRef(({className:e,...t},n)=>x.jsx("div",{className:"relative w-full overflow-auto",children:x.jsx("table",{ref:n,className:_e("w-full caption-bottom text-sm",e),...t})}));H0.displayName="Table";const z0=A.forwardRef(({className:e,...t},n)=>x.jsx("thead",{ref:n,className:_e("[&_tr]:border-b",e),...t}));z0.displayName="TableHeader";const G0=A.forwardRef(({className:e,...t},n)=>x.jsx("tbody",{ref:n,className:_e("[&_tr:last-child]:border-0",e),...t}));G0.displayName="TableBody";const n_=A.forwardRef(({className:e,...t},n)=>x.jsx("tfoot",{ref:n,className:_e("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));n_.displayName="TableFooter";const Rl=A.forwardRef(({className:e,...t},n)=>x.jsx("tr",{ref:n,className:_e("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...t}));Rl.displayName="TableRow";const Xi=A.forwardRef(({className:e,...t},n)=>x.jsx("th",{ref:n,className:_e("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));Xi.displayName="TableHead";const Yi=A.forwardRef(({className:e,...t},n)=>x.jsx("td",{ref:n,className:_e("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));Yi.displayName="TableCell";const r_=A.forwardRef(({className:e,...t},n)=>x.jsx("caption",{ref:n,className:_e("mt-4 text-sm text-muted-foreground",e),...t}));r_.displayName="TableCaption";function i_(){const[,e]=i0("/admin/exams/:id/reveal"),[,t]=Gr(),{toast:n}=qs(),s=e==null?void 0:e.id,[a,u]=A.useState(""),{data:h,isLoading:g}=Ar({queryKey:["/api/exams",s],enabled:!!s}),{data:w,isLoading:m}=Ar({queryKey:["/api/exams",s,"reveal"],enabled:!!s}),C=ri({mutationFn:async()=>{const _=await ii("GET",`/api/exams/${s}/export-csv`,{});if(!_.ok)throw new Error(await _.text());return await _.blob()},onSuccess:_=>{const S=URL.createObjectURL(_),P=document.createElement("a");P.href=S,P.download=`${(h==null?void 0:h.courseName)||"exam"}-results.csv`,P.click(),URL.revokeObjectURL(S),n({title:"CSV exported",description:"Results have been downloaded"})},onError:_=>{n({title:"Failed to export CSV",description:_.message,variant:"destructive"})}});if(g)return x.jsxs("div",{className:"min-h-screen bg-background",children:[x.jsx(hi,{}),x.jsxs("main",{className:"max-w-7xl mx-auto p-6",children:[x.jsx(si,{className:"h-12 w-64 mb-6"}),x.jsx(si,{className:"h-96 w-full"})]})]});const v=w==null?void 0:w.filter(_=>_.studentName.toLowerCase().includes(a.toLowerCase())||_.studentEmail.toLowerCase().includes(a.toLowerCase())||_.qrCode.toLowerCase().includes(a.toLowerCase())),b=(w==null?void 0:w.filter(_=>_.score!==null).length)||0,D=w!=null&&w.length?w.reduce((_,S)=>_+(S.score||0),0)/w.filter(_=>_.score!==null).length:0;return x.jsxs("div",{className:"min-h-screen bg-background",children:[x.jsx(hi,{}),x.jsxs("main",{className:"max-w-7xl mx-auto p-6 space-y-6",children:[x.jsxs("div",{className:"flex items-center gap-4",children:[x.jsx(Et,{variant:"ghost",size:"icon",onClick:()=>t("/admin"),"data-testid":"button-back",children:x.jsx(ed,{className:"h-4 w-4"})}),x.jsxs("div",{className:"flex-1",children:[x.jsx("h1",{className:"text-3xl font-bold text-foreground",children:h==null?void 0:h.courseName}),x.jsx("p",{className:"text-muted-foreground",children:"Student to QR code mapping and results"})]}),w&&w.length>0&&x.jsxs(Et,{onClick:()=>C.mutate(),disabled:C.isPending,"data-testid":"button-export-csv",children:[x.jsx(sy,{className:"h-4 w-4 mr-2"}),C.isPending?"Exporting...":"Export CSV"]})]}),x.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[x.jsxs(et,{children:[x.jsx(ht,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:x.jsx(pt,{className:"text-sm font-medium",children:"Total Students"})}),x.jsx(tt,{children:x.jsx("div",{className:"text-2xl font-bold","data-testid":"stat-total-students",children:(w==null?void 0:w.length)||0})})]}),x.jsxs(et,{children:[x.jsx(ht,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:x.jsx(pt,{className:"text-sm font-medium",children:"Graded Submissions"})}),x.jsx(tt,{children:x.jsx("div",{className:"text-2xl font-bold text-primary","data-testid":"stat-graded",children:b})})]}),x.jsxs(et,{children:[x.jsx(ht,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:x.jsx(pt,{className:"text-sm font-medium",children:"Average Score"})}),x.jsx(tt,{children:x.jsxs("div",{className:"text-2xl font-bold","data-testid":"stat-average-score",children:[D.toFixed(1),"%"]})})]})]}),x.jsxs(et,{children:[x.jsx(ht,{children:x.jsxs("div",{className:"flex items-center justify-between",children:[x.jsxs("div",{children:[x.jsx(pt,{children:"Results Mapping"}),x.jsx(Gn,{children:"QR code to student identity mapping with scores"})]}),x.jsxs("div",{className:"relative w-64",children:[x.jsx(O4,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),x.jsx(Mn,{placeholder:"Search students...",value:a,onChange:_=>u(_.target.value),className:"pl-9","data-testid":"input-search"})]})]})}),x.jsx(tt,{children:m?x.jsx("div",{className:"space-y-2",children:[1,2,3,4,5].map(_=>x.jsx(si,{className:"h-12 w-full"},_))}):v&&v.length>0?x.jsx("div",{className:"rounded-md border",children:x.jsxs(H0,{children:[x.jsx(z0,{children:x.jsxs(Rl,{children:[x.jsx(Xi,{children:"Student Name"}),x.jsx(Xi,{children:"Email"}),x.jsx(Xi,{children:"QR Code"}),x.jsx(Xi,{className:"text-right",children:"Score"})]})}),x.jsx(G0,{children:v.map((_,S)=>x.jsxs(Rl,{"data-testid":`mapping-row-${S}`,children:[x.jsx(Yi,{className:"font-medium","data-testid":`student-name-${S}`,children:_.studentName}),x.jsx(Yi,{className:"text-muted-foreground","data-testid":`student-email-${S}`,children:_.studentEmail}),x.jsx(Yi,{children:x.jsx("code",{className:"font-mono text-sm","data-testid":`qr-code-${S}`,children:_.qrCode})}),x.jsx(Yi,{className:"text-right","data-testid":`score-${S}`,children:_.score!==null?x.jsxs("span",{className:"font-semibold",children:[_.score,"%"]}):x.jsx("span",{className:"text-muted-foreground",children:"Not graded"})})]},S))})]})}):x.jsx("div",{className:"text-center py-12",children:x.jsx("p",{className:"text-muted-foreground",children:a?"No results found":"No students have claimed QR codes yet"})})})]})]})]})}function s_(){const{user:e}=wa(),[,t]=Gr(),{data:n,isLoading:s}=Ar({queryKey:["/api/student/exams"]});return x.jsxs("div",{className:"min-h-screen bg-background",children:[x.jsx(hi,{}),x.jsxs("main",{className:"max-w-5xl mx-auto p-6 space-y-6",children:[x.jsxs("div",{children:[x.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"Student Dashboard"}),x.jsxs("p",{className:"text-muted-foreground",children:["Welcome, ",e==null?void 0:e.name]})]}),x.jsxs(et,{children:[x.jsxs(ht,{children:[x.jsx(pt,{children:"Active Examinations"}),x.jsx(Gn,{children:"Scan QR codes to claim your anonymous identity for exams"})]}),x.jsx(tt,{children:s?x.jsx("div",{className:"space-y-4",children:[1,2,3].map(a=>x.jsx(si,{className:"h-32 w-full"},a))}):n&&n.length>0?x.jsx("div",{className:"space-y-4",children:n.map(a=>x.jsx(et,{className:"hover-elevate","data-testid":`exam-card-${a.id}`,children:x.jsx(tt,{className:"p-6",children:x.jsxs("div",{className:"flex items-start justify-between",children:[x.jsxs("div",{className:"space-y-3 flex-1",children:[x.jsxs("div",{className:"flex items-center gap-3",children:[x.jsx("h3",{className:"text-xl font-semibold text-card-foreground",children:a.courseName}),a.claimedCode?x.jsxs(ks,{variant:"default","data-testid":`badge-claimed-${a.id}`,children:[x.jsx(iy,{className:"h-3 w-3 mr-1"}),"QR Claimed"]}):x.jsx(ks,{variant:"secondary","data-testid":`badge-unclaimed-${a.id}`,children:"Pending"})]}),x.jsxs("div",{className:"flex items-center gap-6 text-sm text-muted-foreground",children:[x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx(yu,{className:"h-4 w-4"}),fE(new Date(a.date),"PPP")]}),x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx(h0,{className:"h-4 w-4"}),a.duration," minutes"]})]}),a.claimedCode&&x.jsxs("div",{className:"p-3 bg-primary/10 rounded-md border border-primary/20",children:[x.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Your QR Code:"}),x.jsx("code",{className:"font-mono text-lg font-semibold","data-testid":`claimed-code-${a.id}`,children:a.claimedCode.codeValue})]})]}),!a.claimedCode&&x.jsxs(Et,{onClick:()=>t(`/student/scan/${a.id}`),"data-testid":`button-scan-${a.id}`,children:[x.jsx(is,{className:"h-4 w-4 mr-2"}),"Scan QR Code"]})]})})},a.id))}):x.jsxs("div",{className:"text-center py-12",children:[x.jsx(is,{className:"h-16 w-16 mx-auto text-muted-foreground mb-4"}),x.jsx("h3",{className:"text-lg font-semibold text-foreground mb-2",children:"No active exams"}),x.jsx("p",{className:"text-muted-foreground",children:"There are no upcoming examinations at this time"})]})})]}),x.jsxs(et,{className:"border-primary/20 bg-primary/5",children:[x.jsx(ht,{children:x.jsx(pt,{className:"text-base",children:"How it works"})}),x.jsxs(tt,{className:"text-sm text-muted-foreground space-y-2",children:[x.jsx("p",{children:"Anonymous grading process:"}),x.jsxs("ol",{className:"list-decimal list-inside space-y-1 ml-2",children:[x.jsx("li",{children:"When you arrive at the exam, you'll receive a random QR code sheet"}),x.jsx("li",{children:"Use this portal to scan the QR code and claim it as yours"}),x.jsx("li",{children:"Write only the QR code on your exam paper (not your name)"}),x.jsx("li",{children:"Markers will grade using only the QR code, ensuring anonymity"}),x.jsx("li",{children:"Results will be published after all grading is complete"})]})]})]})]})]})}var xe;(function(e){e[e.QR_CODE=0]="QR_CODE",e[e.AZTEC=1]="AZTEC",e[e.CODABAR=2]="CODABAR",e[e.CODE_39=3]="CODE_39",e[e.CODE_93=4]="CODE_93",e[e.CODE_128=5]="CODE_128",e[e.DATA_MATRIX=6]="DATA_MATRIX",e[e.MAXICODE=7]="MAXICODE",e[e.ITF=8]="ITF",e[e.EAN_13=9]="EAN_13",e[e.EAN_8=10]="EAN_8",e[e.PDF_417=11]="PDF_417",e[e.RSS_14=12]="RSS_14",e[e.RSS_EXPANDED=13]="RSS_EXPANDED",e[e.UPC_A=14]="UPC_A",e[e.UPC_E=15]="UPC_E",e[e.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(xe||(xe={}));var Sm=new Map([[xe.QR_CODE,"QR_CODE"],[xe.AZTEC,"AZTEC"],[xe.CODABAR,"CODABAR"],[xe.CODE_39,"CODE_39"],[xe.CODE_93,"CODE_93"],[xe.CODE_128,"CODE_128"],[xe.DATA_MATRIX,"DATA_MATRIX"],[xe.MAXICODE,"MAXICODE"],[xe.ITF,"ITF"],[xe.EAN_13,"EAN_13"],[xe.EAN_8,"EAN_8"],[xe.PDF_417,"PDF_417"],[xe.RSS_14,"RSS_14"],[xe.RSS_EXPANDED,"RSS_EXPANDED"],[xe.UPC_A,"UPC_A"],[xe.UPC_E,"UPC_E"],[xe.UPC_EAN_EXTENSION,"UPC_EAN_EXTENSION"]]),bm;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.URL=1]="URL"})(bm||(bm={}));function o_(e){return Object.values(xe).includes(e)}var Tu;(function(e){e[e.SCAN_TYPE_CAMERA=0]="SCAN_TYPE_CAMERA",e[e.SCAN_TYPE_FILE=1]="SCAN_TYPE_FILE"})(Tu||(Tu={}));var a_=function(){function e(){}return e.GITHUB_PROJECT_URL="https://github.com/mebjas/html5-qrcode",e.SCAN_DEFAULT_FPS=2,e.DEFAULT_DISABLE_FLIP=!1,e.DEFAULT_REMEMBER_LAST_CAMERA_USED=!0,e.DEFAULT_SUPPORTED_SCAN_TYPE=[Tu.SCAN_TYPE_CAMERA,Tu.SCAN_TYPE_FILE],e}(),hE=function(){function e(t,n){this.format=t,this.formatName=n}return e.prototype.toString=function(){return this.formatName},e.create=function(t){if(!Sm.has(t))throw"".concat(t," not in html5QrcodeSupportedFormatsTextMap");return new e(t,Sm.get(t))},e}(),Nm=function(){function e(){}return e.createFromText=function(t){var n={text:t};return{decodedText:t,result:n}},e.createFromQrcodeResult=function(t){return{decodedText:t.text,result:t}},e}(),r1;(function(e){e[e.UNKWOWN_ERROR=0]="UNKWOWN_ERROR",e[e.IMPLEMENTATION_ERROR=1]="IMPLEMENTATION_ERROR",e[e.NO_CODE_FOUND_ERROR=2]="NO_CODE_FOUND_ERROR"})(r1||(r1={}));var l_=function(){function e(){}return e.createFrom=function(t){return{errorMessage:t,type:r1.UNKWOWN_ERROR}},e}(),c_=function(){function e(t){this.verbose=t}return e.prototype.log=function(t){this.verbose&&console.log(t)},e.prototype.warn=function(t){this.verbose&&console.warn(t)},e.prototype.logError=function(t,n){(this.verbose||n===!0)&&console.error(t)},e.prototype.logErrors=function(t){if(t.length===0)throw"Logger#logError called without arguments";this.verbose&&console.error(t)},e}();function qr(e){return typeof e>"u"||e===null}var Io=function(){function e(){}return e.codeParseError=function(t){return"QR code parse error, error = ".concat(t)},e.errorGettingUserMedia=function(t){return"Error getting userMedia, error = ".concat(t)},e.onlyDeviceSupportedError=function(){return"The device doesn't support navigator.mediaDevices , only supported cameraIdOrConfig in this case is deviceId parameter (string)."},e.cameraStreamingNotSupported=function(){return"Camera streaming not supported by the browser."},e.unableToQuerySupportedDevices=function(){return"Unable to query supported devices, unknown error."},e.insecureContextCameraQueryError=function(){return"Camera access is only supported in secure context like https or localhost."},e.scannerPaused=function(){return"Scanner paused"},e}(),pE=function(){function e(){}return e.isMediaStreamConstraintsValid=function(t,n){if(typeof t!="object"){var s=typeof t;return n.logError("videoConstraints should be of type object, the "+"object passed is of type ".concat(s,"."),!0),!1}for(var a=["autoGainControl","channelCount","echoCancellation","latency","noiseSuppression","sampleRate","sampleSize","volume"],u=new Set(a),h=Object.keys(t),g=0,w=h;g<w.length;g++){var m=w[g];if(u.has(m))return n.logError("".concat(m," is not supported videoConstaints."),!0),!1}return!0},e}(),i1={exports:{}};(function(e,t){(function(n,s){s(t)})(Ra,function(n){function s(N){return N==null}var a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(N,r){N.__proto__=r}||function(N,r){for(var i in r)r.hasOwnProperty(i)&&(N[i]=r[i])};function u(N,r){a(N,r);function i(){this.constructor=N}N.prototype=r===null?Object.create(r):(i.prototype=r.prototype,new i)}function h(N,r){var i=Object.setPrototypeOf;i?i(N,r):N.__proto__=r}function g(N,r){r===void 0&&(r=N.constructor);var i=Error.captureStackTrace;i&&i(N,r)}var w=function(N){u(r,N);function r(i){var o=this.constructor,l=N.call(this,i)||this;return Object.defineProperty(l,"name",{value:o.name,enumerable:!1}),h(l,o.prototype),g(l),l}return r}(Error);class m extends w{constructor(r=void 0){super(r),this.message=r}getKind(){return this.constructor.kind}}m.kind="Exception";class C extends m{}C.kind="ArgumentException";class v extends m{}v.kind="IllegalArgumentException";class b{constructor(r){if(this.binarizer=r,r===null)throw new v("Binarizer must be non-null.")}getWidth(){return this.binarizer.getWidth()}getHeight(){return this.binarizer.getHeight()}getBlackRow(r,i){return this.binarizer.getBlackRow(r,i)}getBlackMatrix(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix}isCropSupported(){return this.binarizer.getLuminanceSource().isCropSupported()}crop(r,i,o,l){const c=this.binarizer.getLuminanceSource().crop(r,i,o,l);return new b(this.binarizer.createBinarizer(c))}isRotateSupported(){return this.binarizer.getLuminanceSource().isRotateSupported()}rotateCounterClockwise(){const r=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new b(this.binarizer.createBinarizer(r))}rotateCounterClockwise45(){const r=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new b(this.binarizer.createBinarizer(r))}toString(){try{return this.getBlackMatrix().toString()}catch{return""}}}class D extends m{static getChecksumInstance(){return new D}}D.kind="ChecksumException";class _{constructor(r){this.source=r}getLuminanceSource(){return this.source}getWidth(){return this.source.getWidth()}getHeight(){return this.source.getHeight()}}class S{static arraycopy(r,i,o,l,c){for(;c--;)o[l++]=r[i++]}static currentTimeMillis(){return Date.now()}}class P extends m{}P.kind="IndexOutOfBoundsException";class O extends P{constructor(r=void 0,i=void 0){super(i),this.index=r,this.message=i}}O.kind="ArrayIndexOutOfBoundsException";class I{static fill(r,i){for(let o=0,l=r.length;o<l;o++)r[o]=i}static fillWithin(r,i,o,l){I.rangeCheck(r.length,i,o);for(let c=i;c<o;c++)r[c]=l}static rangeCheck(r,i,o){if(i>o)throw new v("fromIndex("+i+") > toIndex("+o+")");if(i<0)throw new O(i);if(o>r)throw new O(o)}static asList(...r){return r}static create(r,i,o){return Array.from({length:r}).map(c=>Array.from({length:i}).fill(o))}static createInt32Array(r,i,o){return Array.from({length:r}).map(c=>Int32Array.from({length:i}).fill(o))}static equals(r,i){if(!r||!i||!r.length||!i.length||r.length!==i.length)return!1;for(let o=0,l=r.length;o<l;o++)if(r[o]!==i[o])return!1;return!0}static hashCode(r){if(r===null)return 0;let i=1;for(const o of r)i=31*i+o;return i}static fillUint8Array(r,i){for(let o=0;o!==r.length;o++)r[o]=i}static copyOf(r,i){return r.slice(0,i)}static copyOfUint8Array(r,i){if(r.length<=i){const o=new Uint8Array(i);return o.set(r),o}return r.slice(0,i)}static copyOfRange(r,i,o){const l=o-i,c=new Int32Array(l);return S.arraycopy(r,i,c,0,l),c}static binarySearch(r,i,o){o===void 0&&(o=I.numberComparator);let l=0,c=r.length-1;for(;l<=c;){const d=c+l>>1,f=o(i,r[d]);if(f>0)l=d+1;else if(f<0)c=d-1;else return d}return-l-1}static numberComparator(r,i){return r-i}}class R{static numberOfTrailingZeros(r){let i;if(r===0)return 32;let o=31;return i=r<<16,i!==0&&(o-=16,r=i),i=r<<8,i!==0&&(o-=8,r=i),i=r<<4,i!==0&&(o-=4,r=i),i=r<<2,i!==0&&(o-=2,r=i),o-(r<<1>>>31)}static numberOfLeadingZeros(r){if(r===0)return 32;let i=1;return r>>>16||(i+=16,r<<=16),r>>>24||(i+=8,r<<=8),r>>>28||(i+=4,r<<=4),r>>>30||(i+=2,r<<=2),i-=r>>>31,i}static toHexString(r){return r.toString(16)}static toBinaryString(r){return String(parseInt(String(r),2))}static bitCount(r){return r=r-(r>>>1&1431655765),r=(r&858993459)+(r>>>2&858993459),r=r+(r>>>4)&252645135,r=r+(r>>>8),r=r+(r>>>16),r&63}static truncDivision(r,i){return Math.trunc(r/i)}static parseInt(r,i=void 0){return parseInt(r,i)}}R.MIN_VALUE_32_BITS=-2147483648,R.MAX_VALUE=Number.MAX_SAFE_INTEGER;class F{constructor(r,i){r===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=r,i==null?this.bits=F.makeArray(r):this.bits=i)}getSize(){return this.size}getSizeInBytes(){return Math.floor((this.size+7)/8)}ensureCapacity(r){if(r>this.bits.length*32){const i=F.makeArray(r);S.arraycopy(this.bits,0,i,0,this.bits.length),this.bits=i}}get(r){return(this.bits[Math.floor(r/32)]&1<<(r&31))!==0}set(r){this.bits[Math.floor(r/32)]|=1<<(r&31)}flip(r){this.bits[Math.floor(r/32)]^=1<<(r&31)}getNextSet(r){const i=this.size;if(r>=i)return i;const o=this.bits;let l=Math.floor(r/32),c=o[l];c&=~((1<<(r&31))-1);const d=o.length;for(;c===0;){if(++l===d)return i;c=o[l]}const f=l*32+R.numberOfTrailingZeros(c);return f>i?i:f}getNextUnset(r){const i=this.size;if(r>=i)return i;const o=this.bits;let l=Math.floor(r/32),c=~o[l];c&=~((1<<(r&31))-1);const d=o.length;for(;c===0;){if(++l===d)return i;c=~o[l]}const f=l*32+R.numberOfTrailingZeros(c);return f>i?i:f}setBulk(r,i){this.bits[Math.floor(r/32)]=i}setRange(r,i){if(i<r||r<0||i>this.size)throw new v;if(i===r)return;i--;const o=Math.floor(r/32),l=Math.floor(i/32),c=this.bits;for(let d=o;d<=l;d++){const f=d>o?0:r&31,y=(2<<(d<l?31:i&31))-(1<<f);c[d]|=y}}clear(){const r=this.bits.length,i=this.bits;for(let o=0;o<r;o++)i[o]=0}isRange(r,i,o){if(i<r||r<0||i>this.size)throw new v;if(i===r)return!0;i--;const l=Math.floor(r/32),c=Math.floor(i/32),d=this.bits;for(let f=l;f<=c;f++){const p=f>l?0:r&31,E=(2<<(f<c?31:i&31))-(1<<p)&4294967295;if((d[f]&E)!==(o?E:0))return!1}return!0}appendBit(r){this.ensureCapacity(this.size+1),r&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++}appendBits(r,i){if(i<0||i>32)throw new v("Num bits must be between 0 and 32");this.ensureCapacity(this.size+i);for(let o=i;o>0;o--)this.appendBit((r>>o-1&1)===1)}appendBitArray(r){const i=r.size;this.ensureCapacity(this.size+i);for(let o=0;o<i;o++)this.appendBit(r.get(o))}xor(r){if(this.size!==r.size)throw new v("Sizes don't match");const i=this.bits;for(let o=0,l=i.length;o<l;o++)i[o]^=r.bits[o]}toBytes(r,i,o,l){for(let c=0;c<l;c++){let d=0;for(let f=0;f<8;f++)this.get(r)&&(d|=1<<7-f),r++;i[o+c]=d}}getBitArray(){return this.bits}reverse(){const r=new Int32Array(this.bits.length),i=Math.floor((this.size-1)/32),o=i+1,l=this.bits;for(let c=0;c<o;c++){let d=l[c];d=d>>1&1431655765|(d&1431655765)<<1,d=d>>2&858993459|(d&858993459)<<2,d=d>>4&252645135|(d&252645135)<<4,d=d>>8&16711935|(d&16711935)<<8,d=d>>16&65535|(d&65535)<<16,r[i-c]=d}if(this.size!==o*32){const c=o*32-this.size;let d=r[0]>>>c;for(let f=1;f<o;f++){const p=r[f];d|=p<<32-c,r[f-1]=d,d=p>>>c}r[o-1]=d}this.bits=r}static makeArray(r){return new Int32Array(Math.floor((r+31)/32))}equals(r){if(!(r instanceof F))return!1;const i=r;return this.size===i.size&&I.equals(this.bits,i.bits)}hashCode(){return 31*this.size+I.hashCode(this.bits)}toString(){let r="";for(let i=0,o=this.size;i<o;i++)i&7||(r+=" "),r+=this.get(i)?"X":".";return r}clone(){return new F(this.size,this.bits.slice())}}var W;(function(N){N[N.OTHER=0]="OTHER",N[N.PURE_BARCODE=1]="PURE_BARCODE",N[N.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",N[N.TRY_HARDER=3]="TRY_HARDER",N[N.CHARACTER_SET=4]="CHARACTER_SET",N[N.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",N[N.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",N[N.ASSUME_GS1=7]="ASSUME_GS1",N[N.RETURN_CODABAR_START_END=8]="RETURN_CODABAR_START_END",N[N.NEED_RESULT_POINT_CALLBACK=9]="NEED_RESULT_POINT_CALLBACK",N[N.ALLOWED_EAN_EXTENSIONS=10]="ALLOWED_EAN_EXTENSIONS"})(W||(W={}));var z=W;class B extends m{static getFormatInstance(){return new B}}B.kind="FormatException";var G;(function(N){N[N.Cp437=0]="Cp437",N[N.ISO8859_1=1]="ISO8859_1",N[N.ISO8859_2=2]="ISO8859_2",N[N.ISO8859_3=3]="ISO8859_3",N[N.ISO8859_4=4]="ISO8859_4",N[N.ISO8859_5=5]="ISO8859_5",N[N.ISO8859_6=6]="ISO8859_6",N[N.ISO8859_7=7]="ISO8859_7",N[N.ISO8859_8=8]="ISO8859_8",N[N.ISO8859_9=9]="ISO8859_9",N[N.ISO8859_10=10]="ISO8859_10",N[N.ISO8859_11=11]="ISO8859_11",N[N.ISO8859_13=12]="ISO8859_13",N[N.ISO8859_14=13]="ISO8859_14",N[N.ISO8859_15=14]="ISO8859_15",N[N.ISO8859_16=15]="ISO8859_16",N[N.SJIS=16]="SJIS",N[N.Cp1250=17]="Cp1250",N[N.Cp1251=18]="Cp1251",N[N.Cp1252=19]="Cp1252",N[N.Cp1256=20]="Cp1256",N[N.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",N[N.UTF8=22]="UTF8",N[N.ASCII=23]="ASCII",N[N.Big5=24]="Big5",N[N.GB18030=25]="GB18030",N[N.EUC_KR=26]="EUC_KR"})(G||(G={}));class H{constructor(r,i,o,...l){this.valueIdentifier=r,this.name=o,typeof i=="number"?this.values=Int32Array.from([i]):this.values=i,this.otherEncodingNames=l,H.VALUE_IDENTIFIER_TO_ECI.set(r,this),H.NAME_TO_ECI.set(o,this);const c=this.values;for(let d=0,f=c.length;d!==f;d++){const p=c[d];H.VALUES_TO_ECI.set(p,this)}for(const d of l)H.NAME_TO_ECI.set(d,this)}getValueIdentifier(){return this.valueIdentifier}getName(){return this.name}getValue(){return this.values[0]}static getCharacterSetECIByValue(r){if(r<0||r>=900)throw new B("incorect value");const i=H.VALUES_TO_ECI.get(r);if(i===void 0)throw new B("incorect value");return i}static getCharacterSetECIByName(r){const i=H.NAME_TO_ECI.get(r);if(i===void 0)throw new B("incorect value");return i}equals(r){if(!(r instanceof H))return!1;const i=r;return this.getName()===i.getName()}}H.VALUE_IDENTIFIER_TO_ECI=new Map,H.VALUES_TO_ECI=new Map,H.NAME_TO_ECI=new Map,H.Cp437=new H(G.Cp437,Int32Array.from([0,2]),"Cp437"),H.ISO8859_1=new H(G.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),H.ISO8859_2=new H(G.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),H.ISO8859_3=new H(G.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),H.ISO8859_4=new H(G.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),H.ISO8859_5=new H(G.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),H.ISO8859_6=new H(G.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),H.ISO8859_7=new H(G.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),H.ISO8859_8=new H(G.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),H.ISO8859_9=new H(G.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),H.ISO8859_10=new H(G.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),H.ISO8859_11=new H(G.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),H.ISO8859_13=new H(G.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),H.ISO8859_14=new H(G.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),H.ISO8859_15=new H(G.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),H.ISO8859_16=new H(G.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),H.SJIS=new H(G.SJIS,20,"SJIS","Shift_JIS"),H.Cp1250=new H(G.Cp1250,21,"Cp1250","windows-1250"),H.Cp1251=new H(G.Cp1251,22,"Cp1251","windows-1251"),H.Cp1252=new H(G.Cp1252,23,"Cp1252","windows-1252"),H.Cp1256=new H(G.Cp1256,24,"Cp1256","windows-1256"),H.UnicodeBigUnmarked=new H(G.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),H.UTF8=new H(G.UTF8,26,"UTF8","UTF-8"),H.ASCII=new H(G.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),H.Big5=new H(G.Big5,28,"Big5"),H.GB18030=new H(G.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),H.EUC_KR=new H(G.EUC_KR,30,"EUC_KR","EUC-KR");class re extends m{}re.kind="UnsupportedOperationException";class de{static decode(r,i){const o=this.encodingName(i);return this.customDecoder?this.customDecoder(r,o):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(o)?this.decodeFallback(r,o):new TextDecoder(o).decode(r)}static shouldDecodeOnFallback(r){return!de.isBrowser()&&r==="ISO-8859-1"}static encode(r,i){const o=this.encodingName(i);return this.customEncoder?this.customEncoder(r,o):typeof TextEncoder>"u"?this.encodeFallback(r):new TextEncoder().encode(r)}static isBrowser(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"}static encodingName(r){return typeof r=="string"?r:r.getName()}static encodingCharacterSet(r){return r instanceof H?r:H.getCharacterSetECIByName(r)}static decodeFallback(r,i){const o=this.encodingCharacterSet(i);if(de.isDecodeFallbackSupported(o)){let l="";for(let c=0,d=r.length;c<d;c++){let f=r[c].toString(16);f.length<2&&(f="0"+f),l+="%"+f}return decodeURIComponent(l)}if(o.equals(H.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(r.buffer));throw new re(`Encoding ${this.encodingName(i)} not supported by fallback.`)}static isDecodeFallbackSupported(r){return r.equals(H.UTF8)||r.equals(H.ISO8859_1)||r.equals(H.ASCII)}static encodeFallback(r){const o=btoa(unescape(encodeURIComponent(r))).split(""),l=[];for(let c=0;c<o.length;c++)l.push(o[c].charCodeAt(0));return new Uint8Array(l)}}class J{static castAsNonUtf8Char(r,i=null){const o=i?i.getName():this.ISO88591;return de.decode(new Uint8Array([r]),o)}static guessEncoding(r,i){if(i!=null&&i.get(z.CHARACTER_SET)!==void 0)return i.get(z.CHARACTER_SET).toString();const o=r.length;let l=!0,c=!0,d=!0,f=0,p=0,y=0,E=0,T=0,M=0,L=0,j=0,V=0,Y=0,q=0;const se=r.length>3&&r[0]===239&&r[1]===187&&r[2]===191;for(let oe=0;oe<o&&(l||c||d);oe++){const ne=r[oe]&255;d&&(f>0?ne&128?f--:d=!1:ne&128&&(ne&64?(f++,ne&32?(f++,ne&16?(f++,ne&8?d=!1:E++):y++):p++):d=!1)),l&&(ne>127&&ne<160?l=!1:ne>159&&(ne<192||ne===215||ne===247)&&q++),c&&(T>0?ne<64||ne===127||ne>252?c=!1:T--:ne===128||ne===160||ne>239?c=!1:ne>160&&ne<224?(M++,j=0,L++,L>V&&(V=L)):ne>127?(T++,L=0,j++,j>Y&&(Y=j)):(L=0,j=0))}return d&&f>0&&(d=!1),c&&T>0&&(c=!1),d&&(se||p+y+E>0)?J.UTF8:c&&(J.ASSUME_SHIFT_JIS||V>=3||Y>=3)?J.SHIFT_JIS:l&&c?V===2&&M===2||q*10>=o?J.SHIFT_JIS:J.ISO88591:l?J.ISO88591:c?J.SHIFT_JIS:d?J.UTF8:J.PLATFORM_DEFAULT_ENCODING}static format(r,...i){let o=-1;function l(d,f,p,y,E,T){if(d==="%%")return"%";if(i[++o]===void 0)return;d=y?parseInt(y.substr(1)):void 0;let M=E?parseInt(E.substr(1)):void 0,L;switch(T){case"s":L=i[o];break;case"c":L=i[o][0];break;case"f":L=parseFloat(i[o]).toFixed(d);break;case"p":L=parseFloat(i[o]).toPrecision(d);break;case"e":L=parseFloat(i[o]).toExponential(d);break;case"x":L=parseInt(i[o]).toString(M||16);break;case"d":L=parseFloat(parseInt(i[o],M||10).toPrecision(d)).toFixed(0);break}L=typeof L=="object"?JSON.stringify(L):(+L).toString(M);let j=parseInt(p),V=p&&p[0]+""=="0"?"0":" ";for(;L.length<j;)L=f!==void 0?L+V:V+L;return L}let c=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return r.replace(c,l)}static getBytes(r,i){return de.encode(r,i)}static getCharCode(r,i=0){return r.charCodeAt(i)}static getCharAt(r){return String.fromCharCode(r)}}J.SHIFT_JIS=H.SJIS.getName(),J.GB2312="GB2312",J.ISO88591=H.ISO8859_1.getName(),J.EUC_JP="EUC_JP",J.UTF8=H.UTF8.getName(),J.PLATFORM_DEFAULT_ENCODING=J.UTF8,J.ASSUME_SHIFT_JIS=!1;class fe{constructor(r=""){this.value=r}enableDecoding(r){return this.encoding=r,this}append(r){return typeof r=="string"?this.value+=r.toString():this.encoding?this.value+=J.castAsNonUtf8Char(r,this.encoding):this.value+=String.fromCharCode(r),this}appendChars(r,i,o){for(let l=i;i<i+o;l++)this.append(r[l]);return this}length(){return this.value.length}charAt(r){return this.value.charAt(r)}deleteCharAt(r){this.value=this.value.substr(0,r)+this.value.substring(r+1)}setCharAt(r,i){this.value=this.value.substr(0,r)+i+this.value.substr(r+1)}substring(r,i){return this.value.substring(r,i)}setLengthToZero(){this.value=""}toString(){return this.value}insert(r,i){this.value=this.value.substr(0,r)+i+this.value.substr(r+i.length)}}class te{constructor(r,i,o,l){if(this.width=r,this.height=i,this.rowSize=o,this.bits=l,i==null&&(i=r),this.height=i,r<1||i<1)throw new v("Both dimensions must be greater than 0");o==null&&(o=Math.floor((r+31)/32)),this.rowSize=o,l==null&&(this.bits=new Int32Array(this.rowSize*this.height))}static parseFromBooleanArray(r){const i=r.length,o=r[0].length,l=new te(o,i);for(let c=0;c<i;c++){const d=r[c];for(let f=0;f<o;f++)d[f]&&l.set(f,c)}return l}static parseFromString(r,i,o){if(r===null)throw new v("stringRepresentation cannot be null");const l=new Array(r.length);let c=0,d=0,f=-1,p=0,y=0;for(;y<r.length;)if(r.charAt(y)===`
`||r.charAt(y)==="\r"){if(c>d){if(f===-1)f=c-d;else if(c-d!==f)throw new v("row lengths do not match");d=c,p++}y++}else if(r.substring(y,y+i.length)===i)y+=i.length,l[c]=!0,c++;else if(r.substring(y,y+o.length)===o)y+=o.length,l[c]=!1,c++;else throw new v("illegal character encountered: "+r.substring(y));if(c>d){if(f===-1)f=c-d;else if(c-d!==f)throw new v("row lengths do not match");p++}const E=new te(f,p);for(let T=0;T<c;T++)l[T]&&E.set(Math.floor(T%f),Math.floor(T/f));return E}get(r,i){const o=i*this.rowSize+Math.floor(r/32);return(this.bits[o]>>>(r&31)&1)!==0}set(r,i){const o=i*this.rowSize+Math.floor(r/32);this.bits[o]|=1<<(r&31)&4294967295}unset(r,i){const o=i*this.rowSize+Math.floor(r/32);this.bits[o]&=~(1<<(r&31)&4294967295)}flip(r,i){const o=i*this.rowSize+Math.floor(r/32);this.bits[o]^=1<<(r&31)&4294967295}xor(r){if(this.width!==r.getWidth()||this.height!==r.getHeight()||this.rowSize!==r.getRowSize())throw new v("input matrix dimensions do not match");const i=new F(Math.floor(this.width/32)+1),o=this.rowSize,l=this.bits;for(let c=0,d=this.height;c<d;c++){const f=c*o,p=r.getRow(c,i).getBitArray();for(let y=0;y<o;y++)l[f+y]^=p[y]}}clear(){const r=this.bits,i=r.length;for(let o=0;o<i;o++)r[o]=0}setRegion(r,i,o,l){if(i<0||r<0)throw new v("Left and top must be nonnegative");if(l<1||o<1)throw new v("Height and width must be at least 1");const c=r+o,d=i+l;if(d>this.height||c>this.width)throw new v("The region must fit inside the matrix");const f=this.rowSize,p=this.bits;for(let y=i;y<d;y++){const E=y*f;for(let T=r;T<c;T++)p[E+Math.floor(T/32)]|=1<<(T&31)&4294967295}}getRow(r,i){i==null||i.getSize()<this.width?i=new F(this.width):i.clear();const o=this.rowSize,l=this.bits,c=r*o;for(let d=0;d<o;d++)i.setBulk(d*32,l[c+d]);return i}setRow(r,i){S.arraycopy(i.getBitArray(),0,this.bits,r*this.rowSize,this.rowSize)}rotate180(){const r=this.getWidth(),i=this.getHeight();let o=new F(r),l=new F(r);for(let c=0,d=Math.floor((i+1)/2);c<d;c++)o=this.getRow(c,o),l=this.getRow(i-1-c,l),o.reverse(),l.reverse(),this.setRow(c,l),this.setRow(i-1-c,o)}getEnclosingRectangle(){const r=this.width,i=this.height,o=this.rowSize,l=this.bits;let c=r,d=i,f=-1,p=-1;for(let y=0;y<i;y++)for(let E=0;E<o;E++){const T=l[y*o+E];if(T!==0){if(y<d&&(d=y),y>p&&(p=y),E*32<c){let M=0;for(;!(T<<31-M&4294967295);)M++;E*32+M<c&&(c=E*32+M)}if(E*32+31>f){let M=31;for(;!(T>>>M);)M--;E*32+M>f&&(f=E*32+M)}}}return f<c||p<d?null:Int32Array.from([c,d,f-c+1,p-d+1])}getTopLeftOnBit(){const r=this.rowSize,i=this.bits;let o=0;for(;o<i.length&&i[o]===0;)o++;if(o===i.length)return null;const l=o/r;let c=o%r*32;const d=i[o];let f=0;for(;!(d<<31-f&4294967295);)f++;return c+=f,Int32Array.from([c,l])}getBottomRightOnBit(){const r=this.rowSize,i=this.bits;let o=i.length-1;for(;o>=0&&i[o]===0;)o--;if(o<0)return null;const l=Math.floor(o/r);let c=Math.floor(o%r)*32;const d=i[o];let f=31;for(;!(d>>>f);)f--;return c+=f,Int32Array.from([c,l])}getWidth(){return this.width}getHeight(){return this.height}getRowSize(){return this.rowSize}equals(r){if(!(r instanceof te))return!1;const i=r;return this.width===i.width&&this.height===i.height&&this.rowSize===i.rowSize&&I.equals(this.bits,i.bits)}hashCode(){let r=this.width;return r=31*r+this.width,r=31*r+this.height,r=31*r+this.rowSize,r=31*r+I.hashCode(this.bits),r}toString(r="X ",i="  ",o=`
`){return this.buildToString(r,i,o)}buildToString(r,i,o){let l=new fe;for(let c=0,d=this.height;c<d;c++){for(let f=0,p=this.width;f<p;f++)l.append(this.get(f,c)?r:i);l.append(o)}return l.toString()}clone(){return new te(this.width,this.height,this.rowSize,this.bits.slice())}}class X extends m{static getNotFoundInstance(){return new X}}X.kind="NotFoundException";class le extends _{constructor(r){super(r),this.luminances=le.EMPTY,this.buckets=new Int32Array(le.LUMINANCE_BUCKETS)}getBlackRow(r,i){const o=this.getLuminanceSource(),l=o.getWidth();i==null||i.getSize()<l?i=new F(l):i.clear(),this.initArrays(l);const c=o.getRow(r,this.luminances),d=this.buckets;for(let p=0;p<l;p++)d[(c[p]&255)>>le.LUMINANCE_SHIFT]++;const f=le.estimateBlackPoint(d);if(l<3)for(let p=0;p<l;p++)(c[p]&255)<f&&i.set(p);else{let p=c[0]&255,y=c[1]&255;for(let E=1;E<l-1;E++){const T=c[E+1]&255;(y*4-p-T)/2<f&&i.set(E),p=y,y=T}}return i}getBlackMatrix(){const r=this.getLuminanceSource(),i=r.getWidth(),o=r.getHeight(),l=new te(i,o);this.initArrays(i);const c=this.buckets;for(let p=1;p<5;p++){const y=Math.floor(o*p/5),E=r.getRow(y,this.luminances),T=Math.floor(i*4/5);for(let M=Math.floor(i/5);M<T;M++){const L=E[M]&255;c[L>>le.LUMINANCE_SHIFT]++}}const d=le.estimateBlackPoint(c),f=r.getMatrix();for(let p=0;p<o;p++){const y=p*i;for(let E=0;E<i;E++)(f[y+E]&255)<d&&l.set(E,p)}return l}createBinarizer(r){return new le(r)}initArrays(r){this.luminances.length<r&&(this.luminances=new Uint8ClampedArray(r));const i=this.buckets;for(let o=0;o<le.LUMINANCE_BUCKETS;o++)i[o]=0}static estimateBlackPoint(r){const i=r.length;let o=0,l=0,c=0;for(let E=0;E<i;E++)r[E]>c&&(l=E,c=r[E]),r[E]>o&&(o=r[E]);let d=0,f=0;for(let E=0;E<i;E++){const T=E-l,M=r[E]*T*T;M>f&&(d=E,f=M)}if(l>d){const E=l;l=d,d=E}if(d-l<=i/16)throw new X;let p=d-1,y=-1;for(let E=d-1;E>l;E--){const T=E-l,M=T*T*(d-E)*(o-r[E]);M>y&&(p=E,y=M)}return p<<le.LUMINANCE_SHIFT}}le.LUMINANCE_BITS=5,le.LUMINANCE_SHIFT=8-le.LUMINANCE_BITS,le.LUMINANCE_BUCKETS=1<<le.LUMINANCE_BITS,le.EMPTY=Uint8ClampedArray.from([0]);class ae extends le{constructor(r){super(r),this.matrix=null}getBlackMatrix(){if(this.matrix!==null)return this.matrix;const r=this.getLuminanceSource(),i=r.getWidth(),o=r.getHeight();if(i>=ae.MINIMUM_DIMENSION&&o>=ae.MINIMUM_DIMENSION){const l=r.getMatrix();let c=i>>ae.BLOCK_SIZE_POWER;i&ae.BLOCK_SIZE_MASK&&c++;let d=o>>ae.BLOCK_SIZE_POWER;o&ae.BLOCK_SIZE_MASK&&d++;const f=ae.calculateBlackPoints(l,c,d,i,o),p=new te(i,o);ae.calculateThresholdForBlock(l,c,d,i,o,f,p),this.matrix=p}else this.matrix=super.getBlackMatrix();return this.matrix}createBinarizer(r){return new ae(r)}static calculateThresholdForBlock(r,i,o,l,c,d,f){const p=c-ae.BLOCK_SIZE,y=l-ae.BLOCK_SIZE;for(let E=0;E<o;E++){let T=E<<ae.BLOCK_SIZE_POWER;T>p&&(T=p);const M=ae.cap(E,2,o-3);for(let L=0;L<i;L++){let j=L<<ae.BLOCK_SIZE_POWER;j>y&&(j=y);const V=ae.cap(L,2,i-3);let Y=0;for(let se=-2;se<=2;se++){const oe=d[M+se];Y+=oe[V-2]+oe[V-1]+oe[V]+oe[V+1]+oe[V+2]}const q=Y/25;ae.thresholdBlock(r,j,T,q,l,f)}}}static cap(r,i,o){return r<i?i:r>o?o:r}static thresholdBlock(r,i,o,l,c,d){for(let f=0,p=o*c+i;f<ae.BLOCK_SIZE;f++,p+=c)for(let y=0;y<ae.BLOCK_SIZE;y++)(r[p+y]&255)<=l&&d.set(i+y,o+f)}static calculateBlackPoints(r,i,o,l,c){const d=c-ae.BLOCK_SIZE,f=l-ae.BLOCK_SIZE,p=new Array(o);for(let y=0;y<o;y++){p[y]=new Int32Array(i);let E=y<<ae.BLOCK_SIZE_POWER;E>d&&(E=d);for(let T=0;T<i;T++){let M=T<<ae.BLOCK_SIZE_POWER;M>f&&(M=f);let L=0,j=255,V=0;for(let q=0,se=E*l+M;q<ae.BLOCK_SIZE;q++,se+=l){for(let oe=0;oe<ae.BLOCK_SIZE;oe++){const ne=r[se+oe]&255;L+=ne,ne<j&&(j=ne),ne>V&&(V=ne)}if(V-j>ae.MIN_DYNAMIC_RANGE)for(q++,se+=l;q<ae.BLOCK_SIZE;q++,se+=l)for(let oe=0;oe<ae.BLOCK_SIZE;oe++)L+=r[se+oe]&255}let Y=L>>ae.BLOCK_SIZE_POWER*2;if(V-j<=ae.MIN_DYNAMIC_RANGE&&(Y=j/2,y>0&&T>0)){const q=(p[y-1][T]+2*p[y][T-1]+p[y-1][T-1])/4;j<q&&(Y=q)}p[y][T]=Y}}return p}}ae.BLOCK_SIZE_POWER=3,ae.BLOCK_SIZE=1<<ae.BLOCK_SIZE_POWER,ae.BLOCK_SIZE_MASK=ae.BLOCK_SIZE-1,ae.MINIMUM_DIMENSION=ae.BLOCK_SIZE*5,ae.MIN_DYNAMIC_RANGE=24;class Z{constructor(r,i){this.width=r,this.height=i}getWidth(){return this.width}getHeight(){return this.height}isCropSupported(){return!1}crop(r,i,o,l){throw new re("This luminance source does not support cropping.")}isRotateSupported(){return!1}rotateCounterClockwise(){throw new re("This luminance source does not support rotation by 90 degrees.")}rotateCounterClockwise45(){throw new re("This luminance source does not support rotation by 45 degrees.")}toString(){const r=new Uint8ClampedArray(this.width);let i=new fe;for(let o=0;o<this.height;o++){const l=this.getRow(o,r);for(let c=0;c<this.width;c++){const d=l[c]&255;let f;d<64?f="#":d<128?f="+":d<192?f=".":f=" ",i.append(f)}i.append(`
`)}return i.toString()}}class $ extends Z{constructor(r){super(r.getWidth(),r.getHeight()),this.delegate=r}getRow(r,i){const o=this.delegate.getRow(r,i),l=this.getWidth();for(let c=0;c<l;c++)o[c]=255-(o[c]&255);return o}getMatrix(){const r=this.delegate.getMatrix(),i=this.getWidth()*this.getHeight(),o=new Uint8ClampedArray(i);for(let l=0;l<i;l++)o[l]=255-(r[l]&255);return o}isCropSupported(){return this.delegate.isCropSupported()}crop(r,i,o,l){return new $(this.delegate.crop(r,i,o,l))}isRotateSupported(){return this.delegate.isRotateSupported()}invert(){return this.delegate}rotateCounterClockwise(){return new $(this.delegate.rotateCounterClockwise())}rotateCounterClockwise45(){return new $(this.delegate.rotateCounterClockwise45())}}class ce extends Z{constructor(r){super(r.width,r.height),this.canvas=r,this.tempCanvasElement=null,this.buffer=ce.makeBufferFromCanvasImageData(r)}static makeBufferFromCanvasImageData(r){const i=r.getContext("2d").getImageData(0,0,r.width,r.height);return ce.toGrayscaleBuffer(i.data,r.width,r.height)}static toGrayscaleBuffer(r,i,o){const l=new Uint8ClampedArray(i*o);for(let c=0,d=0,f=r.length;c<f;c+=4,d++){let p;if(r[c+3]===0)p=255;else{const E=r[c],T=r[c+1],M=r[c+2];p=306*E+601*T+117*M+512>>10}l[d]=p}return l}getRow(r,i){if(r<0||r>=this.getHeight())throw new v("Requested row is outside the image: "+r);const o=this.getWidth(),l=r*o;return i===null?i=this.buffer.slice(l,l+o):(i.length<o&&(i=new Uint8ClampedArray(o)),i.set(this.buffer.slice(l,l+o))),i}getMatrix(){return this.buffer}isCropSupported(){return!0}crop(r,i,o,l){return super.crop(r,i,o,l),this}isRotateSupported(){return!0}rotateCounterClockwise(){return this.rotate(-90),this}rotateCounterClockwise45(){return this.rotate(-45),this}getTempCanvasElement(){if(this.tempCanvasElement===null){const r=this.canvas.ownerDocument.createElement("canvas");r.width=this.canvas.width,r.height=this.canvas.height,this.tempCanvasElement=r}return this.tempCanvasElement}rotate(r){const i=this.getTempCanvasElement(),o=i.getContext("2d"),l=r*ce.DEGREE_TO_RADIANS,c=this.canvas.width,d=this.canvas.height,f=Math.ceil(Math.abs(Math.cos(l))*c+Math.abs(Math.sin(l))*d),p=Math.ceil(Math.abs(Math.sin(l))*c+Math.abs(Math.cos(l))*d);return i.width=f,i.height=p,o.translate(f/2,p/2),o.rotate(l),o.drawImage(this.canvas,c/-2,d/-2),this.buffer=ce.makeBufferFromCanvasImageData(i),this}invert(){return new $(this)}}ce.DEGREE_TO_RADIANS=Math.PI/180;class Ce{constructor(r,i,o){this.deviceId=r,this.label=i,this.kind="videoinput",this.groupId=o||void 0}toJSON(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}}}var Ae=(globalThis||Ra||self||window||void 0)&&(globalThis||Ra||self||window||void 0).__awaiter||function(N,r,i,o){function l(c){return c instanceof i?c:new i(function(d){d(c)})}return new(i||(i=Promise))(function(c,d){function f(E){try{y(o.next(E))}catch(T){d(T)}}function p(E){try{y(o.throw(E))}catch(T){d(T)}}function y(E){E.done?c(E.value):l(E.value).then(f,p)}y((o=o.apply(N,r||[])).next())})};class at{constructor(r,i=500,o){this.reader=r,this.timeBetweenScansMillis=i,this._hints=o,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}get hasNavigator(){return typeof navigator<"u"}get isMediaDevicesSuported(){return this.hasNavigator&&!!navigator.mediaDevices}get canEnumerateDevices(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)}get timeBetweenDecodingAttempts(){return this._timeBetweenDecodingAttempts}set timeBetweenDecodingAttempts(r){this._timeBetweenDecodingAttempts=r<0?0:r}set hints(r){this._hints=r||null}get hints(){return this._hints}listVideoInputDevices(){return Ae(this,void 0,void 0,function*(){if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");const r=yield navigator.mediaDevices.enumerateDevices(),i=[];for(const o of r){const l=o.kind==="video"?"videoinput":o.kind;if(l!=="videoinput")continue;const c=o.deviceId||o.id,d=o.label||`Video device ${i.length+1}`,f=o.groupId,p={deviceId:c,label:d,kind:l,groupId:f};i.push(p)}return i})}getVideoInputDevices(){return Ae(this,void 0,void 0,function*(){return(yield this.listVideoInputDevices()).map(i=>new Ce(i.deviceId,i.label))})}findDeviceById(r){return Ae(this,void 0,void 0,function*(){const i=yield this.listVideoInputDevices();return i?i.find(o=>o.deviceId===r):null})}decodeFromInputVideoDevice(r,i){return Ae(this,void 0,void 0,function*(){return yield this.decodeOnceFromVideoDevice(r,i)})}decodeOnceFromVideoDevice(r,i){return Ae(this,void 0,void 0,function*(){this.reset();let o;r?o={deviceId:{exact:r}}:o={facingMode:"environment"};const l={video:o};return yield this.decodeOnceFromConstraints(l,i)})}decodeOnceFromConstraints(r,i){return Ae(this,void 0,void 0,function*(){const o=yield navigator.mediaDevices.getUserMedia(r);return yield this.decodeOnceFromStream(o,i)})}decodeOnceFromStream(r,i){return Ae(this,void 0,void 0,function*(){this.reset();const o=yield this.attachStreamToVideo(r,i);return yield this.decodeOnce(o)})}decodeFromInputVideoDeviceContinuously(r,i,o){return Ae(this,void 0,void 0,function*(){return yield this.decodeFromVideoDevice(r,i,o)})}decodeFromVideoDevice(r,i,o){return Ae(this,void 0,void 0,function*(){let l;r?l={deviceId:{exact:r}}:l={facingMode:"environment"};const c={video:l};return yield this.decodeFromConstraints(c,i,o)})}decodeFromConstraints(r,i,o){return Ae(this,void 0,void 0,function*(){const l=yield navigator.mediaDevices.getUserMedia(r);return yield this.decodeFromStream(l,i,o)})}decodeFromStream(r,i,o){return Ae(this,void 0,void 0,function*(){this.reset();const l=yield this.attachStreamToVideo(r,i);return yield this.decodeContinuously(l,o)})}stopAsyncDecode(){this._stopAsyncDecode=!0}stopContinuousDecode(){this._stopContinuousDecode=!0}attachStreamToVideo(r,i){return Ae(this,void 0,void 0,function*(){const o=this.prepareVideoElement(i);return this.addVideoSource(o,r),this.videoElement=o,this.stream=r,yield this.playVideoOnLoadAsync(o),o})}playVideoOnLoadAsync(r){return new Promise((i,o)=>this.playVideoOnLoad(r,()=>i()))}playVideoOnLoad(r,i){this.videoEndedListener=()=>this.stopStreams(),this.videoCanPlayListener=()=>this.tryPlayVideo(r),r.addEventListener("ended",this.videoEndedListener),r.addEventListener("canplay",this.videoCanPlayListener),r.addEventListener("playing",i),this.tryPlayVideo(r)}isVideoPlaying(r){return r.currentTime>0&&!r.paused&&!r.ended&&r.readyState>2}tryPlayVideo(r){return Ae(this,void 0,void 0,function*(){if(this.isVideoPlaying(r)){console.warn("Trying to play video that is already playing.");return}try{yield r.play()}catch{console.warn("It was not possible to play the video.")}})}getMediaElement(r,i){const o=document.getElementById(r);if(!o)throw new C(`element with id '${r}' not found`);if(o.nodeName.toLowerCase()!==i.toLowerCase())throw new C(`element with id '${r}' must be an ${i} element`);return o}decodeFromImage(r,i){if(!r&&!i)throw new C("either imageElement with a src set or an url must be provided");return i&&!r?this.decodeFromImageUrl(i):this.decodeFromImageElement(r)}decodeFromVideo(r,i){if(!r&&!i)throw new C("Either an element with a src set or an URL must be provided");return i&&!r?this.decodeFromVideoUrl(i):this.decodeFromVideoElement(r)}decodeFromVideoContinuously(r,i,o){if(r===void 0&&i===void 0)throw new C("Either an element with a src set or an URL must be provided");return i&&!r?this.decodeFromVideoUrlContinuously(i,o):this.decodeFromVideoElementContinuously(r,o)}decodeFromImageElement(r){if(!r)throw new C("An image element must be provided.");this.reset();const i=this.prepareImageElement(r);this.imageElement=i;let o;return this.isImageLoaded(i)?o=this.decodeOnce(i,!1,!0):o=this._decodeOnLoadImage(i),o}decodeFromVideoElement(r){const i=this._decodeFromVideoElementSetup(r);return this._decodeOnLoadVideo(i)}decodeFromVideoElementContinuously(r,i){const o=this._decodeFromVideoElementSetup(r);return this._decodeOnLoadVideoContinuously(o,i)}_decodeFromVideoElementSetup(r){if(!r)throw new C("A video element must be provided.");this.reset();const i=this.prepareVideoElement(r);return this.videoElement=i,i}decodeFromImageUrl(r){if(!r)throw new C("An URL must be provided.");this.reset();const i=this.prepareImageElement();this.imageElement=i;const o=this._decodeOnLoadImage(i);return i.src=r,o}decodeFromVideoUrl(r){if(!r)throw new C("An URL must be provided.");this.reset();const i=this.prepareVideoElement(),o=this.decodeFromVideoElement(i);return i.src=r,o}decodeFromVideoUrlContinuously(r,i){if(!r)throw new C("An URL must be provided.");this.reset();const o=this.prepareVideoElement(),l=this.decodeFromVideoElementContinuously(o,i);return o.src=r,l}_decodeOnLoadImage(r){return new Promise((i,o)=>{this.imageLoadedListener=()=>this.decodeOnce(r,!1,!0).then(i,o),r.addEventListener("load",this.imageLoadedListener)})}_decodeOnLoadVideo(r){return Ae(this,void 0,void 0,function*(){return yield this.playVideoOnLoadAsync(r),yield this.decodeOnce(r)})}_decodeOnLoadVideoContinuously(r,i){return Ae(this,void 0,void 0,function*(){yield this.playVideoOnLoadAsync(r),this.decodeContinuously(r,i)})}isImageLoaded(r){return!(!r.complete||r.naturalWidth===0)}prepareImageElement(r){let i;return typeof r>"u"&&(i=document.createElement("img"),i.width=200,i.height=200),typeof r=="string"&&(i=this.getMediaElement(r,"img")),r instanceof HTMLImageElement&&(i=r),i}prepareVideoElement(r){let i;return!r&&typeof document<"u"&&(i=document.createElement("video"),i.width=200,i.height=200),typeof r=="string"&&(i=this.getMediaElement(r,"video")),r instanceof HTMLVideoElement&&(i=r),i.setAttribute("autoplay","true"),i.setAttribute("muted","true"),i.setAttribute("playsinline","true"),i}decodeOnce(r,i=!0,o=!0){this._stopAsyncDecode=!1;const l=(c,d)=>{if(this._stopAsyncDecode){d(new X("Video stream has ended before any code could be detected.")),this._stopAsyncDecode=void 0;return}try{const f=this.decode(r);c(f)}catch(f){const p=i&&f instanceof X,E=(f instanceof D||f instanceof B)&&o;if(p||E)return setTimeout(l,this._timeBetweenDecodingAttempts,c,d);d(f)}};return new Promise((c,d)=>l(c,d))}decodeContinuously(r,i){this._stopContinuousDecode=!1;const o=()=>{if(this._stopContinuousDecode){this._stopContinuousDecode=void 0;return}try{const l=this.decode(r);i(l,null),setTimeout(o,this.timeBetweenScansMillis)}catch(l){i(null,l);const c=l instanceof D||l instanceof B,d=l instanceof X;(c||d)&&setTimeout(o,this._timeBetweenDecodingAttempts)}};o()}decode(r){const i=this.createBinaryBitmap(r);return this.decodeBitmap(i)}_isHTMLVideoElement(r){return r.videoWidth!==0}drawFrameOnCanvas(r,i,o){i||(i={sx:0,sy:0,sWidth:r.videoWidth,sHeight:r.videoHeight,dx:0,dy:0,dWidth:r.videoWidth,dHeight:r.videoHeight}),o||(o=this.captureCanvasContext),o.drawImage(r,i.sx,i.sy,i.sWidth,i.sHeight,i.dx,i.dy,i.dWidth,i.dHeight)}drawImageOnCanvas(r,i,o=this.captureCanvasContext){i||(i={sx:0,sy:0,sWidth:r.naturalWidth,sHeight:r.naturalHeight,dx:0,dy:0,dWidth:r.naturalWidth,dHeight:r.naturalHeight}),o||(o=this.captureCanvasContext),o.drawImage(r,i.sx,i.sy,i.sWidth,i.sHeight,i.dx,i.dy,i.dWidth,i.dHeight)}createBinaryBitmap(r){this.getCaptureCanvasContext(r),this._isHTMLVideoElement(r)?this.drawFrameOnCanvas(r):this.drawImageOnCanvas(r);const i=this.getCaptureCanvas(r),o=new ce(i),l=new ae(o);return new b(l)}getCaptureCanvasContext(r){if(!this.captureCanvasContext){const o=this.getCaptureCanvas(r).getContext("2d");this.captureCanvasContext=o}return this.captureCanvasContext}getCaptureCanvas(r){if(!this.captureCanvas){const i=this.createCaptureCanvas(r);this.captureCanvas=i}return this.captureCanvas}decodeBitmap(r){return this.reader.decode(r,this._hints)}createCaptureCanvas(r){if(typeof document>"u")return this._destroyCaptureCanvas(),null;const i=document.createElement("canvas");let o,l;return typeof r<"u"&&(r instanceof HTMLVideoElement?(o=r.videoWidth,l=r.videoHeight):r instanceof HTMLImageElement&&(o=r.naturalWidth||r.width,l=r.naturalHeight||r.height)),i.style.width=o+"px",i.style.height=l+"px",i.width=o,i.height=l,i}stopStreams(){this.stream&&(this.stream.getVideoTracks().forEach(r=>r.stop()),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()}reset(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()}_destroyVideoElement(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)}_destroyImageElement(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)}_destroyCaptureCanvas(){this.captureCanvasContext=void 0,this.captureCanvas=void 0}addVideoSource(r,i){try{r.srcObject=i}catch{r.src=URL.createObjectURL(i)}}cleanVideoSource(r){try{r.srcObject=null}catch{r.src=""}this.videoElement.removeAttribute("src")}}class Fe{constructor(r,i,o=i==null?0:8*i.length,l,c,d=S.currentTimeMillis()){this.text=r,this.rawBytes=i,this.numBits=o,this.resultPoints=l,this.format=c,this.timestamp=d,this.text=r,this.rawBytes=i,o==null?this.numBits=i==null?0:8*i.length:this.numBits=o,this.resultPoints=l,this.format=c,this.resultMetadata=null,d==null?this.timestamp=S.currentTimeMillis():this.timestamp=d}getText(){return this.text}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}getResultPoints(){return this.resultPoints}getBarcodeFormat(){return this.format}getResultMetadata(){return this.resultMetadata}putMetadata(r,i){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(r,i)}putAllMetadata(r){r!==null&&(this.resultMetadata===null?this.resultMetadata=r:this.resultMetadata=new Map(r))}addResultPoints(r){const i=this.resultPoints;if(i===null)this.resultPoints=r;else if(r!==null&&r.length>0){const o=new Array(i.length+r.length);S.arraycopy(i,0,o,0,i.length),S.arraycopy(r,0,o,i.length,r.length),this.resultPoints=o}}getTimestamp(){return this.timestamp}toString(){return this.text}}var Kt;(function(N){N[N.AZTEC=0]="AZTEC",N[N.CODABAR=1]="CODABAR",N[N.CODE_39=2]="CODE_39",N[N.CODE_93=3]="CODE_93",N[N.CODE_128=4]="CODE_128",N[N.DATA_MATRIX=5]="DATA_MATRIX",N[N.EAN_8=6]="EAN_8",N[N.EAN_13=7]="EAN_13",N[N.ITF=8]="ITF",N[N.MAXICODE=9]="MAXICODE",N[N.PDF_417=10]="PDF_417",N[N.QR_CODE=11]="QR_CODE",N[N.RSS_14=12]="RSS_14",N[N.RSS_EXPANDED=13]="RSS_EXPANDED",N[N.UPC_A=14]="UPC_A",N[N.UPC_E=15]="UPC_E",N[N.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(Kt||(Kt={}));var he=Kt,ve;(function(N){N[N.OTHER=0]="OTHER",N[N.ORIENTATION=1]="ORIENTATION",N[N.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",N[N.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",N[N.ISSUE_NUMBER=4]="ISSUE_NUMBER",N[N.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",N[N.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",N[N.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",N[N.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",N[N.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",N[N.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(ve||(ve={}));var Te=ve;class Ke{constructor(r,i,o,l,c=-1,d=-1){this.rawBytes=r,this.text=i,this.byteSegments=o,this.ecLevel=l,this.structuredAppendSequenceNumber=c,this.structuredAppendParity=d,this.numBits=r==null?0:8*r.length}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}setNumBits(r){this.numBits=r}getText(){return this.text}getByteSegments(){return this.byteSegments}getECLevel(){return this.ecLevel}getErrorsCorrected(){return this.errorsCorrected}setErrorsCorrected(r){this.errorsCorrected=r}getErasures(){return this.erasures}setErasures(r){this.erasures=r}getOther(){return this.other}setOther(r){this.other=r}hasStructuredAppend(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0}getStructuredAppendParity(){return this.structuredAppendParity}getStructuredAppendSequenceNumber(){return this.structuredAppendSequenceNumber}}class We{exp(r){return this.expTable[r]}log(r){if(r===0)throw new v;return this.logTable[r]}static addOrSubtract(r,i){return r^i}}class Oe{constructor(r,i){if(i.length===0)throw new v;this.field=r;const o=i.length;if(o>1&&i[0]===0){let l=1;for(;l<o&&i[l]===0;)l++;l===o?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(o-l),S.arraycopy(i,l,this.coefficients,0,this.coefficients.length))}else this.coefficients=i}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(r){return this.coefficients[this.coefficients.length-1-r]}evaluateAt(r){if(r===0)return this.getCoefficient(0);const i=this.coefficients;let o;if(r===1){o=0;for(let d=0,f=i.length;d!==f;d++){const p=i[d];o=We.addOrSubtract(o,p)}return o}o=i[0];const l=i.length,c=this.field;for(let d=1;d<l;d++)o=We.addOrSubtract(c.multiply(r,o),i[d]);return o}addOrSubtract(r){if(!this.field.equals(r.field))throw new v("GenericGFPolys do not have same GenericGF field");if(this.isZero())return r;if(r.isZero())return this;let i=this.coefficients,o=r.coefficients;if(i.length>o.length){const d=i;i=o,o=d}let l=new Int32Array(o.length);const c=o.length-i.length;S.arraycopy(o,0,l,0,c);for(let d=c;d<o.length;d++)l[d]=We.addOrSubtract(i[d-c],o[d]);return new Oe(this.field,l)}multiply(r){if(!this.field.equals(r.field))throw new v("GenericGFPolys do not have same GenericGF field");if(this.isZero()||r.isZero())return this.field.getZero();const i=this.coefficients,o=i.length,l=r.coefficients,c=l.length,d=new Int32Array(o+c-1),f=this.field;for(let p=0;p<o;p++){const y=i[p];for(let E=0;E<c;E++)d[p+E]=We.addOrSubtract(d[p+E],f.multiply(y,l[E]))}return new Oe(f,d)}multiplyScalar(r){if(r===0)return this.field.getZero();if(r===1)return this;const i=this.coefficients.length,o=this.field,l=new Int32Array(i),c=this.coefficients;for(let d=0;d<i;d++)l[d]=o.multiply(c[d],r);return new Oe(o,l)}multiplyByMonomial(r,i){if(r<0)throw new v;if(i===0)return this.field.getZero();const o=this.coefficients,l=o.length,c=new Int32Array(l+r),d=this.field;for(let f=0;f<l;f++)c[f]=d.multiply(o[f],i);return new Oe(d,c)}divide(r){if(!this.field.equals(r.field))throw new v("GenericGFPolys do not have same GenericGF field");if(r.isZero())throw new v("Divide by 0");const i=this.field;let o=i.getZero(),l=this;const c=r.getCoefficient(r.getDegree()),d=i.inverse(c);for(;l.getDegree()>=r.getDegree()&&!l.isZero();){const f=l.getDegree()-r.getDegree(),p=i.multiply(l.getCoefficient(l.getDegree()),d),y=r.multiplyByMonomial(f,p),E=i.buildMonomial(f,p);o=o.addOrSubtract(E),l=l.addOrSubtract(y)}return[o,l]}toString(){let r="";for(let i=this.getDegree();i>=0;i--){let o=this.getCoefficient(i);if(o!==0){if(o<0?(r+=" - ",o=-o):r.length>0&&(r+=" + "),i===0||o!==1){const l=this.field.log(o);l===0?r+="1":l===1?r+="a":(r+="a^",r+=l)}i!==0&&(i===1?r+="x":(r+="x^",r+=i))}}return r}}class Ge extends m{}Ge.kind="ArithmeticException";class Re extends We{constructor(r,i,o){super(),this.primitive=r,this.size=i,this.generatorBase=o;const l=new Int32Array(i);let c=1;for(let f=0;f<i;f++)l[f]=c,c*=2,c>=i&&(c^=r,c&=i-1);this.expTable=l;const d=new Int32Array(i);for(let f=0;f<i-1;f++)d[l[f]]=f;this.logTable=d,this.zero=new Oe(this,Int32Array.from([0])),this.one=new Oe(this,Int32Array.from([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(r,i){if(r<0)throw new v;if(i===0)return this.zero;const o=new Int32Array(r+1);return o[0]=i,new Oe(this,o)}inverse(r){if(r===0)throw new Ge;return this.expTable[this.size-this.logTable[r]-1]}multiply(r,i){return r===0||i===0?0:this.expTable[(this.logTable[r]+this.logTable[i])%(this.size-1)]}getSize(){return this.size}getGeneratorBase(){return this.generatorBase}toString(){return"GF(0x"+R.toHexString(this.primitive)+","+this.size+")"}equals(r){return r===this}}Re.AZTEC_DATA_12=new Re(4201,4096,1),Re.AZTEC_DATA_10=new Re(1033,1024,1),Re.AZTEC_DATA_6=new Re(67,64,1),Re.AZTEC_PARAM=new Re(19,16,1),Re.QR_CODE_FIELD_256=new Re(285,256,0),Re.DATA_MATRIX_FIELD_256=new Re(301,256,1),Re.AZTEC_DATA_8=Re.DATA_MATRIX_FIELD_256,Re.MAXICODE_FIELD_64=Re.AZTEC_DATA_6;class Qt extends m{}Qt.kind="ReedSolomonException";class nn extends m{}nn.kind="IllegalStateException";class cr{constructor(r){this.field=r}decode(r,i){const o=this.field,l=new Oe(o,r),c=new Int32Array(i);let d=!0;for(let L=0;L<i;L++){const j=l.evaluateAt(o.exp(L+o.getGeneratorBase()));c[c.length-1-L]=j,j!==0&&(d=!1)}if(d)return;const f=new Oe(o,c),p=this.runEuclideanAlgorithm(o.buildMonomial(i,1),f,i),y=p[0],E=p[1],T=this.findErrorLocations(y),M=this.findErrorMagnitudes(E,T);for(let L=0;L<T.length;L++){const j=r.length-1-o.log(T[L]);if(j<0)throw new Qt("Bad error location");r[j]=Re.addOrSubtract(r[j],M[L])}}runEuclideanAlgorithm(r,i,o){if(r.getDegree()<i.getDegree()){const L=r;r=i,i=L}const l=this.field;let c=r,d=i,f=l.getZero(),p=l.getOne();for(;d.getDegree()>=(o/2|0);){let L=c,j=f;if(c=d,f=p,c.isZero())throw new Qt("r_{i-1} was zero");d=L;let V=l.getZero();const Y=c.getCoefficient(c.getDegree()),q=l.inverse(Y);for(;d.getDegree()>=c.getDegree()&&!d.isZero();){const se=d.getDegree()-c.getDegree(),oe=l.multiply(d.getCoefficient(d.getDegree()),q);V=V.addOrSubtract(l.buildMonomial(se,oe)),d=d.addOrSubtract(c.multiplyByMonomial(se,oe))}if(p=V.multiply(f).addOrSubtract(j),d.getDegree()>=c.getDegree())throw new nn("Division algorithm failed to reduce polynomial?")}const y=p.getCoefficient(0);if(y===0)throw new Qt("sigmaTilde(0) was zero");const E=l.inverse(y),T=p.multiplyScalar(E),M=d.multiplyScalar(E);return[T,M]}findErrorLocations(r){const i=r.getDegree();if(i===1)return Int32Array.from([r.getCoefficient(1)]);const o=new Int32Array(i);let l=0;const c=this.field;for(let d=1;d<c.getSize()&&l<i;d++)r.evaluateAt(d)===0&&(o[l]=c.inverse(d),l++);if(l!==i)throw new Qt("Error locator degree does not match number of roots");return o}findErrorMagnitudes(r,i){const o=i.length,l=new Int32Array(o),c=this.field;for(let d=0;d<o;d++){const f=c.inverse(i[d]);let p=1;for(let y=0;y<o;y++)if(d!==y){const E=c.multiply(i[y],f),T=E&1?E&-2:E|1;p=c.multiply(p,T)}l[d]=c.multiply(r.evaluateAt(f),c.inverse(p)),c.getGeneratorBase()!==0&&(l[d]=c.multiply(l[d],f))}return l}}var At;(function(N){N[N.UPPER=0]="UPPER",N[N.LOWER=1]="LOWER",N[N.MIXED=2]="MIXED",N[N.DIGIT=3]="DIGIT",N[N.PUNCT=4]="PUNCT",N[N.BINARY=5]="BINARY"})(At||(At={}));class rt{decode(r){this.ddata=r;let i=r.getBits(),o=this.extractBits(i),l=this.correctBits(o),c=rt.convertBoolArrayToByteArray(l),d=rt.getEncodedData(l),f=new Ke(c,d,null,null);return f.setNumBits(l.length),f}static highLevelDecode(r){return this.getEncodedData(r)}static getEncodedData(r){let i=r.length,o=At.UPPER,l=At.UPPER,c="",d=0;for(;d<i;)if(l===At.BINARY){if(i-d<5)break;let f=rt.readCode(r,d,5);if(d+=5,f===0){if(i-d<11)break;f=rt.readCode(r,d,11)+31,d+=11}for(let p=0;p<f;p++){if(i-d<8){d=i;break}const y=rt.readCode(r,d,8);c+=J.castAsNonUtf8Char(y),d+=8}l=o}else{let f=l===At.DIGIT?4:5;if(i-d<f)break;let p=rt.readCode(r,d,f);d+=f;let y=rt.getCharacter(l,p);y.startsWith("CTRL_")?(o=l,l=rt.getTable(y.charAt(5)),y.charAt(6)==="L"&&(o=l)):(c+=y,l=o)}return c}static getTable(r){switch(r){case"L":return At.LOWER;case"P":return At.PUNCT;case"M":return At.MIXED;case"D":return At.DIGIT;case"B":return At.BINARY;case"U":default:return At.UPPER}}static getCharacter(r,i){switch(r){case At.UPPER:return rt.UPPER_TABLE[i];case At.LOWER:return rt.LOWER_TABLE[i];case At.MIXED:return rt.MIXED_TABLE[i];case At.PUNCT:return rt.PUNCT_TABLE[i];case At.DIGIT:return rt.DIGIT_TABLE[i];default:throw new nn("Bad table")}}correctBits(r){let i,o;this.ddata.getNbLayers()<=2?(o=6,i=Re.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(o=8,i=Re.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(o=10,i=Re.AZTEC_DATA_10):(o=12,i=Re.AZTEC_DATA_12);let l=this.ddata.getNbDatablocks(),c=r.length/o;if(c<l)throw new B;let d=r.length%o,f=new Int32Array(c);for(let M=0;M<c;M++,d+=o)f[M]=rt.readCode(r,d,o);try{new cr(i).decode(f,c-l)}catch(M){throw new B(M)}let p=(1<<o)-1,y=0;for(let M=0;M<l;M++){let L=f[M];if(L===0||L===p)throw new B;(L===1||L===p-1)&&y++}let E=new Array(l*o-y),T=0;for(let M=0;M<l;M++){let L=f[M];if(L===1||L===p-1)E.fill(L>1,T,T+o-1),T+=o-1;else for(let j=o-1;j>=0;--j)E[T++]=(L&1<<j)!==0}return E}extractBits(r){let i=this.ddata.isCompact(),o=this.ddata.getNbLayers(),l=(i?11:14)+o*4,c=new Int32Array(l),d=new Array(this.totalBitsInLayer(o,i));if(i)for(let f=0;f<c.length;f++)c[f]=f;else{let f=l+1+2*R.truncDivision(R.truncDivision(l,2)-1,15),p=l/2,y=R.truncDivision(f,2);for(let E=0;E<p;E++){let T=E+R.truncDivision(E,15);c[p-E-1]=y-T-1,c[p+E]=y+T+1}}for(let f=0,p=0;f<o;f++){let y=(o-f)*4+(i?9:12),E=f*2,T=l-1-E;for(let M=0;M<y;M++){let L=M*2;for(let j=0;j<2;j++)d[p+L+j]=r.get(c[E+j],c[E+M]),d[p+2*y+L+j]=r.get(c[E+M],c[T-j]),d[p+4*y+L+j]=r.get(c[T-j],c[T-M]),d[p+6*y+L+j]=r.get(c[T-M],c[E+j])}p+=y*8}return d}static readCode(r,i,o){let l=0;for(let c=i;c<i+o;c++)l<<=1,r[c]&&(l|=1);return l}static readByte(r,i){let o=r.length-i;return o>=8?rt.readCode(r,i,8):rt.readCode(r,i,o)<<8-o}static convertBoolArrayToByteArray(r){let i=new Uint8Array((r.length+7)/8);for(let o=0;o<i.length;o++)i[o]=rt.readByte(r,8*o);return i}totalBitsInLayer(r,i){return((i?88:112)+16*r)*r}}rt.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],rt.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],rt.MIXED_TABLE=["CTRL_PS"," ","\\1","\\2","\\3","\\4","\\5","\\6","\\7","\b","	",`
`,"\\13","\f","\r","\\33","\\34","\\35","\\36","\\37","@","\\","^","_","`","|","~","\\177","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],rt.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],rt.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"];class je{constructor(){}static round(r){return r===NaN?0:r<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:r>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:r+(r<0?-.5:.5)|0}static distance(r,i,o,l){const c=r-o,d=i-l;return Math.sqrt(c*c+d*d)}static sum(r){let i=0;for(let o=0,l=r.length;o!==l;o++){const c=r[o];i+=c}return i}}class Gl{static floatToIntBits(r){return r}}Gl.MAX_VALUE=Number.MAX_SAFE_INTEGER;class ye{constructor(r,i){this.x=r,this.y=i}getX(){return this.x}getY(){return this.y}equals(r){if(r instanceof ye){const i=r;return this.x===i.x&&this.y===i.y}return!1}hashCode(){return 31*Gl.floatToIntBits(this.x)+Gl.floatToIntBits(this.y)}toString(){return"("+this.x+","+this.y+")"}static orderBestPatterns(r){const i=this.distance(r[0],r[1]),o=this.distance(r[1],r[2]),l=this.distance(r[0],r[2]);let c,d,f;if(o>=i&&o>=l?(d=r[0],c=r[1],f=r[2]):l>=o&&l>=i?(d=r[1],c=r[0],f=r[2]):(d=r[2],c=r[0],f=r[1]),this.crossProductZ(c,d,f)<0){const p=c;c=f,f=p}r[0]=c,r[1]=d,r[2]=f}static distance(r,i){return je.distance(r.x,r.y,i.x,i.y)}static crossProductZ(r,i,o){const l=i.x,c=i.y;return(o.x-l)*(r.y-c)-(o.y-c)*(r.x-l)}}class Xl{constructor(r,i){this.bits=r,this.points=i}getBits(){return this.bits}getPoints(){return this.points}}class Y0 extends Xl{constructor(r,i,o,l,c){super(r,i),this.compact=o,this.nbDatablocks=l,this.nbLayers=c}getNbLayers(){return this.nbLayers}getNbDatablocks(){return this.nbDatablocks}isCompact(){return this.compact}}class Yr{constructor(r,i,o,l){this.image=r,this.height=r.getHeight(),this.width=r.getWidth(),i==null&&(i=Yr.INIT_SIZE),o==null&&(o=r.getWidth()/2|0),l==null&&(l=r.getHeight()/2|0);const c=i/2|0;if(this.leftInit=o-c,this.rightInit=o+c,this.upInit=l-c,this.downInit=l+c,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new X}detect(){let r=this.leftInit,i=this.rightInit,o=this.upInit,l=this.downInit,c=!1,d=!0,f=!1,p=!1,y=!1,E=!1,T=!1;const M=this.width,L=this.height;for(;d;){d=!1;let j=!0;for(;(j||!p)&&i<M;)j=this.containsBlackPoint(o,l,i,!1),j?(i++,d=!0,p=!0):p||i++;if(i>=M){c=!0;break}let V=!0;for(;(V||!y)&&l<L;)V=this.containsBlackPoint(r,i,l,!0),V?(l++,d=!0,y=!0):y||l++;if(l>=L){c=!0;break}let Y=!0;for(;(Y||!E)&&r>=0;)Y=this.containsBlackPoint(o,l,r,!1),Y?(r--,d=!0,E=!0):E||r--;if(r<0){c=!0;break}let q=!0;for(;(q||!T)&&o>=0;)q=this.containsBlackPoint(r,i,o,!0),q?(o--,d=!0,T=!0):T||o--;if(o<0){c=!0;break}d&&(f=!0)}if(!c&&f){const j=i-r;let V=null;for(let oe=1;V===null&&oe<j;oe++)V=this.getBlackPointOnSegment(r,l-oe,r+oe,l);if(V==null)throw new X;let Y=null;for(let oe=1;Y===null&&oe<j;oe++)Y=this.getBlackPointOnSegment(r,o+oe,r+oe,o);if(Y==null)throw new X;let q=null;for(let oe=1;q===null&&oe<j;oe++)q=this.getBlackPointOnSegment(i,o+oe,i-oe,o);if(q==null)throw new X;let se=null;for(let oe=1;se===null&&oe<j;oe++)se=this.getBlackPointOnSegment(i,l-oe,i-oe,l);if(se==null)throw new X;return this.centerEdges(se,V,q,Y)}else throw new X}getBlackPointOnSegment(r,i,o,l){const c=je.round(je.distance(r,i,o,l)),d=(o-r)/c,f=(l-i)/c,p=this.image;for(let y=0;y<c;y++){const E=je.round(r+y*d),T=je.round(i+y*f);if(p.get(E,T))return new ye(E,T)}return null}centerEdges(r,i,o,l){const c=r.getX(),d=r.getY(),f=i.getX(),p=i.getY(),y=o.getX(),E=o.getY(),T=l.getX(),M=l.getY(),L=Yr.CORR;return c<this.width/2?[new ye(T-L,M+L),new ye(f+L,p+L),new ye(y-L,E-L),new ye(c+L,d-L)]:[new ye(T+L,M+L),new ye(f+L,p-L),new ye(y-L,E+L),new ye(c-L,d-L)]}containsBlackPoint(r,i,o,l){const c=this.image;if(l){for(let d=r;d<=i;d++)if(c.get(d,o))return!0}else for(let d=r;d<=i;d++)if(c.get(o,d))return!0;return!1}}Yr.INIT_SIZE=10,Yr.CORR=1;class md{static checkAndNudgePoints(r,i){const o=r.getWidth(),l=r.getHeight();let c=!0;for(let d=0;d<i.length&&c;d+=2){const f=Math.floor(i[d]),p=Math.floor(i[d+1]);if(f<-1||f>o||p<-1||p>l)throw new X;c=!1,f===-1?(i[d]=0,c=!0):f===o&&(i[d]=o-1,c=!0),p===-1?(i[d+1]=0,c=!0):p===l&&(i[d+1]=l-1,c=!0)}c=!0;for(let d=i.length-2;d>=0&&c;d-=2){const f=Math.floor(i[d]),p=Math.floor(i[d+1]);if(f<-1||f>o||p<-1||p>l)throw new X;c=!1,f===-1?(i[d]=0,c=!0):f===o&&(i[d]=o-1,c=!0),p===-1?(i[d+1]=0,c=!0):p===l&&(i[d+1]=l-1,c=!0)}}}class ur{constructor(r,i,o,l,c,d,f,p,y){this.a11=r,this.a21=i,this.a31=o,this.a12=l,this.a22=c,this.a32=d,this.a13=f,this.a23=p,this.a33=y}static quadrilateralToQuadrilateral(r,i,o,l,c,d,f,p,y,E,T,M,L,j,V,Y){const q=ur.quadrilateralToSquare(r,i,o,l,c,d,f,p);return ur.squareToQuadrilateral(y,E,T,M,L,j,V,Y).times(q)}transformPoints(r){const i=r.length,o=this.a11,l=this.a12,c=this.a13,d=this.a21,f=this.a22,p=this.a23,y=this.a31,E=this.a32,T=this.a33;for(let M=0;M<i;M+=2){const L=r[M],j=r[M+1],V=c*L+p*j+T;r[M]=(o*L+d*j+y)/V,r[M+1]=(l*L+f*j+E)/V}}transformPointsWithValues(r,i){const o=this.a11,l=this.a12,c=this.a13,d=this.a21,f=this.a22,p=this.a23,y=this.a31,E=this.a32,T=this.a33,M=r.length;for(let L=0;L<M;L++){const j=r[L],V=i[L],Y=c*j+p*V+T;r[L]=(o*j+d*V+y)/Y,i[L]=(l*j+f*V+E)/Y}}static squareToQuadrilateral(r,i,o,l,c,d,f,p){const y=r-o+c-f,E=i-l+d-p;if(y===0&&E===0)return new ur(o-r,c-o,r,l-i,d-l,i,0,0,1);{const T=o-c,M=f-c,L=l-d,j=p-d,V=T*j-M*L,Y=(y*j-M*E)/V,q=(T*E-y*L)/V;return new ur(o-r+Y*o,f-r+q*f,r,l-i+Y*l,p-i+q*p,i,Y,q,1)}}static quadrilateralToSquare(r,i,o,l,c,d,f,p){return ur.squareToQuadrilateral(r,i,o,l,c,d,f,p).buildAdjoint()}buildAdjoint(){return new ur(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)}times(r){return new ur(this.a11*r.a11+this.a21*r.a12+this.a31*r.a13,this.a11*r.a21+this.a21*r.a22+this.a31*r.a23,this.a11*r.a31+this.a21*r.a32+this.a31*r.a33,this.a12*r.a11+this.a22*r.a12+this.a32*r.a13,this.a12*r.a21+this.a22*r.a22+this.a32*r.a23,this.a12*r.a31+this.a22*r.a32+this.a32*r.a33,this.a13*r.a11+this.a23*r.a12+this.a33*r.a13,this.a13*r.a21+this.a23*r.a22+this.a33*r.a23,this.a13*r.a31+this.a23*r.a32+this.a33*r.a33)}}class K0 extends md{sampleGrid(r,i,o,l,c,d,f,p,y,E,T,M,L,j,V,Y,q,se,oe){const ne=ur.quadrilateralToQuadrilateral(l,c,d,f,p,y,E,T,M,L,j,V,Y,q,se,oe);return this.sampleGridWithTransform(r,i,o,ne)}sampleGridWithTransform(r,i,o,l){if(i<=0||o<=0)throw new X;const c=new te(i,o),d=new Float32Array(2*i);for(let f=0;f<o;f++){const p=d.length,y=f+.5;for(let E=0;E<p;E+=2)d[E]=E/2+.5,d[E+1]=y;l.transformPoints(d),md.checkAndNudgePoints(r,d);try{for(let E=0;E<p;E+=2)r.get(Math.floor(d[E]),Math.floor(d[E+1]))&&c.set(E/2,f)}catch{throw new X}}return c}}class mi{static setGridSampler(r){mi.gridSampler=r}static getInstance(){return mi.gridSampler}}mi.gridSampler=new K0;class hn{constructor(r,i){this.x=r,this.y=i}toResultPoint(){return new ye(this.getX(),this.getY())}getX(){return this.x}getY(){return this.y}}class Q0{constructor(r){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=r}detect(){return this.detectMirror(!1)}detectMirror(r){let i=this.getMatrixCenter(),o=this.getBullsEyeCorners(i);if(r){let d=o[0];o[0]=o[2],o[2]=d}this.extractParameters(o);let l=this.sampleGrid(this.image,o[this.shift%4],o[(this.shift+1)%4],o[(this.shift+2)%4],o[(this.shift+3)%4]),c=this.getMatrixCornerPoints(o);return new Y0(l,c,this.compact,this.nbDataBlocks,this.nbLayers)}extractParameters(r){if(!this.isValidPoint(r[0])||!this.isValidPoint(r[1])||!this.isValidPoint(r[2])||!this.isValidPoint(r[3]))throw new X;let i=2*this.nbCenterLayers,o=new Int32Array([this.sampleLine(r[0],r[1],i),this.sampleLine(r[1],r[2],i),this.sampleLine(r[2],r[3],i),this.sampleLine(r[3],r[0],i)]);this.shift=this.getRotation(o,i);let l=0;for(let d=0;d<4;d++){let f=o[(this.shift+d)%4];this.compact?(l<<=7,l+=f>>1&127):(l<<=10,l+=(f>>2&992)+(f>>1&31))}let c=this.getCorrectedParameterData(l,this.compact);this.compact?(this.nbLayers=(c>>6)+1,this.nbDataBlocks=(c&63)+1):(this.nbLayers=(c>>11)+1,this.nbDataBlocks=(c&2047)+1)}getRotation(r,i){let o=0;r.forEach((l,c,d)=>{let f=(l>>i-2<<1)+(l&1);o=(o<<3)+f}),o=((o&1)<<11)+(o>>1);for(let l=0;l<4;l++)if(R.bitCount(o^this.EXPECTED_CORNER_BITS[l])<=2)return l;throw new X}getCorrectedParameterData(r,i){let o,l;i?(o=7,l=2):(o=10,l=4);let c=o-l,d=new Int32Array(o);for(let p=o-1;p>=0;--p)d[p]=r&15,r>>=4;try{new cr(Re.AZTEC_PARAM).decode(d,c)}catch{throw new X}let f=0;for(let p=0;p<l;p++)f=(f<<4)+d[p];return f}getBullsEyeCorners(r){let i=r,o=r,l=r,c=r,d=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){let T=this.getFirstDifferent(i,d,1,-1),M=this.getFirstDifferent(o,d,1,1),L=this.getFirstDifferent(l,d,-1,1),j=this.getFirstDifferent(c,d,-1,-1);if(this.nbCenterLayers>2){let V=this.distancePoint(j,T)*this.nbCenterLayers/(this.distancePoint(c,i)*(this.nbCenterLayers+2));if(V<.75||V>1.25||!this.isWhiteOrBlackRectangle(T,M,L,j))break}i=T,o=M,l=L,c=j,d=!d}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new X;this.compact=this.nbCenterLayers===5;let f=new ye(i.getX()+.5,i.getY()-.5),p=new ye(o.getX()+.5,o.getY()+.5),y=new ye(l.getX()-.5,l.getY()+.5),E=new ye(c.getX()-.5,c.getY()-.5);return this.expandSquare([f,p,y,E],2*this.nbCenterLayers-3,2*this.nbCenterLayers)}getMatrixCenter(){let r,i,o,l;try{let f=new Yr(this.image).detect();r=f[0],i=f[1],o=f[2],l=f[3]}catch{let p=this.image.getWidth()/2,y=this.image.getHeight()/2;r=this.getFirstDifferent(new hn(p+7,y-7),!1,1,-1).toResultPoint(),i=this.getFirstDifferent(new hn(p+7,y+7),!1,1,1).toResultPoint(),o=this.getFirstDifferent(new hn(p-7,y+7),!1,-1,1).toResultPoint(),l=this.getFirstDifferent(new hn(p-7,y-7),!1,-1,-1).toResultPoint()}let c=je.round((r.getX()+l.getX()+i.getX()+o.getX())/4),d=je.round((r.getY()+l.getY()+i.getY()+o.getY())/4);try{let f=new Yr(this.image,15,c,d).detect();r=f[0],i=f[1],o=f[2],l=f[3]}catch{r=this.getFirstDifferent(new hn(c+7,d-7),!1,1,-1).toResultPoint(),i=this.getFirstDifferent(new hn(c+7,d+7),!1,1,1).toResultPoint(),o=this.getFirstDifferent(new hn(c-7,d+7),!1,-1,1).toResultPoint(),l=this.getFirstDifferent(new hn(c-7,d-7),!1,-1,-1).toResultPoint()}return c=je.round((r.getX()+l.getX()+i.getX()+o.getX())/4),d=je.round((r.getY()+l.getY()+i.getY()+o.getY())/4),new hn(c,d)}getMatrixCornerPoints(r){return this.expandSquare(r,2*this.nbCenterLayers,this.getDimension())}sampleGrid(r,i,o,l,c){let d=mi.getInstance(),f=this.getDimension(),p=f/2-this.nbCenterLayers,y=f/2+this.nbCenterLayers;return d.sampleGrid(r,f,f,p,p,y,p,y,y,p,y,i.getX(),i.getY(),o.getX(),o.getY(),l.getX(),l.getY(),c.getX(),c.getY())}sampleLine(r,i,o){let l=0,c=this.distanceResultPoint(r,i),d=c/o,f=r.getX(),p=r.getY(),y=d*(i.getX()-r.getX())/c,E=d*(i.getY()-r.getY())/c;for(let T=0;T<o;T++)this.image.get(je.round(f+T*y),je.round(p+T*E))&&(l|=1<<o-T-1);return l}isWhiteOrBlackRectangle(r,i,o,l){let c=3;r=new hn(r.getX()-c,r.getY()+c),i=new hn(i.getX()-c,i.getY()-c),o=new hn(o.getX()+c,o.getY()-c),l=new hn(l.getX()+c,l.getY()+c);let d=this.getColor(l,r);if(d===0)return!1;let f=this.getColor(r,i);return f!==d||(f=this.getColor(i,o),f!==d)?!1:(f=this.getColor(o,l),f===d)}getColor(r,i){let o=this.distancePoint(r,i),l=(i.getX()-r.getX())/o,c=(i.getY()-r.getY())/o,d=0,f=r.getX(),p=r.getY(),y=this.image.get(r.getX(),r.getY()),E=Math.ceil(o);for(let M=0;M<E;M++)f+=l,p+=c,this.image.get(je.round(f),je.round(p))!==y&&d++;let T=d/o;return T>.1&&T<.9?0:T<=.1===y?1:-1}getFirstDifferent(r,i,o,l){let c=r.getX()+o,d=r.getY()+l;for(;this.isValid(c,d)&&this.image.get(c,d)===i;)c+=o,d+=l;for(c-=o,d-=l;this.isValid(c,d)&&this.image.get(c,d)===i;)c+=o;for(c-=o;this.isValid(c,d)&&this.image.get(c,d)===i;)d+=l;return d-=l,new hn(c,d)}expandSquare(r,i,o){let l=o/(2*i),c=r[0].getX()-r[2].getX(),d=r[0].getY()-r[2].getY(),f=(r[0].getX()+r[2].getX())/2,p=(r[0].getY()+r[2].getY())/2,y=new ye(f+l*c,p+l*d),E=new ye(f-l*c,p-l*d);c=r[1].getX()-r[3].getX(),d=r[1].getY()-r[3].getY(),f=(r[1].getX()+r[3].getX())/2,p=(r[1].getY()+r[3].getY())/2;let T=new ye(f+l*c,p+l*d),M=new ye(f-l*c,p-l*d);return[y,T,E,M]}isValid(r,i){return r>=0&&r<this.image.getWidth()&&i>0&&i<this.image.getHeight()}isValidPoint(r){let i=je.round(r.getX()),o=je.round(r.getY());return this.isValid(i,o)}distancePoint(r,i){return je.distance(r.getX(),r.getY(),i.getX(),i.getY())}distanceResultPoint(r,i){return je.distance(r.getX(),r.getY(),i.getX(),i.getY())}getDimension(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(R.truncDivision(this.nbLayers-4,8)+1)+15}}class Yl{decode(r,i=null){let o=null,l=new Q0(r.getBlackMatrix()),c=null,d=null;try{let E=l.detectMirror(!1);c=E.getPoints(),this.reportFoundResultPoints(i,c),d=new rt().decode(E)}catch(E){o=E}if(d==null)try{let E=l.detectMirror(!0);c=E.getPoints(),this.reportFoundResultPoints(i,c),d=new rt().decode(E)}catch(E){throw o??E}let f=new Fe(d.getText(),d.getRawBytes(),d.getNumBits(),c,he.AZTEC,S.currentTimeMillis()),p=d.getByteSegments();p!=null&&f.putMetadata(Te.BYTE_SEGMENTS,p);let y=d.getECLevel();return y!=null&&f.putMetadata(Te.ERROR_CORRECTION_LEVEL,y),f}reportFoundResultPoints(r,i){if(r!=null){let o=r.get(z.NEED_RESULT_POINT_CALLBACK);o!=null&&i.forEach((l,c,d)=>{o.foundPossibleResultPoint(l)})}}reset(){}}class mE extends at{constructor(r=500){super(new Yl,r)}}class Lt{decode(r,i){try{return this.doDecode(r,i)}catch{if(i&&i.get(z.TRY_HARDER)===!0&&r.isRotateSupported()){const c=r.rotateCounterClockwise(),d=this.doDecode(c,i),f=d.getResultMetadata();let p=270;f!==null&&f.get(Te.ORIENTATION)===!0&&(p=p+f.get(Te.ORIENTATION)%360),d.putMetadata(Te.ORIENTATION,p);const y=d.getResultPoints();if(y!==null){const E=c.getHeight();for(let T=0;T<y.length;T++)y[T]=new ye(E-y[T].getY()-1,y[T].getX())}return d}else throw new X}}reset(){}doDecode(r,i){const o=r.getWidth(),l=r.getHeight();let c=new F(o);const d=i&&i.get(z.TRY_HARDER)===!0,f=Math.max(1,l>>(d?8:5));let p;d?p=l:p=15;const y=Math.trunc(l/2);for(let E=0;E<p;E++){const T=Math.trunc((E+1)/2),M=(E&1)===0,L=y+f*(M?T:-T);if(L<0||L>=l)break;try{c=r.getBlackRow(L,c)}catch{continue}for(let j=0;j<2;j++){if(j===1&&(c.reverse(),i&&i.get(z.NEED_RESULT_POINT_CALLBACK)===!0)){const V=new Map;i.forEach((Y,q)=>V.set(q,Y)),V.delete(z.NEED_RESULT_POINT_CALLBACK),i=V}try{const V=this.decodeRow(L,c,i);if(j===1){V.putMetadata(Te.ORIENTATION,180);const Y=V.getResultPoints();Y!==null&&(Y[0]=new ye(o-Y[0].getX()-1,Y[0].getY()),Y[1]=new ye(o-Y[1].getX()-1,Y[1].getY()))}return V}catch{}}}throw new X}static recordPattern(r,i,o){const l=o.length;for(let y=0;y<l;y++)o[y]=0;const c=r.getSize();if(i>=c)throw new X;let d=!r.get(i),f=0,p=i;for(;p<c;){if(r.get(p)!==d)o[f]++;else{if(++f===l)break;o[f]=1,d=!d}p++}if(!(f===l||f===l-1&&p===c))throw new X}static recordPatternInReverse(r,i,o){let l=o.length,c=r.get(i);for(;i>0&&l>=0;)r.get(--i)!==c&&(l--,c=!c);if(l>=0)throw new X;Lt.recordPattern(r,i+1,o)}static patternMatchVariance(r,i,o){const l=r.length;let c=0,d=0;for(let y=0;y<l;y++)c+=r[y],d+=i[y];if(c<d)return Number.POSITIVE_INFINITY;const f=c/d;o*=f;let p=0;for(let y=0;y<l;y++){const E=r[y],T=i[y]*f,M=E>T?E-T:T-E;if(M>o)return Number.POSITIVE_INFINITY;p+=M}return p/c}}class ue extends Lt{static findStartPattern(r){const i=r.getSize(),o=r.getNextSet(0);let l=0,c=Int32Array.from([0,0,0,0,0,0]),d=o,f=!1;const p=6;for(let y=o;y<i;y++)if(r.get(y)!==f)c[l]++;else{if(l===p-1){let E=ue.MAX_AVG_VARIANCE,T=-1;for(let M=ue.CODE_START_A;M<=ue.CODE_START_C;M++){const L=Lt.patternMatchVariance(c,ue.CODE_PATTERNS[M],ue.MAX_INDIVIDUAL_VARIANCE);L<E&&(E=L,T=M)}if(T>=0&&r.isRange(Math.max(0,d-(y-d)/2),d,!1))return Int32Array.from([d,y,T]);d+=c[0]+c[1],c=c.slice(2,c.length-1),c[l-1]=0,c[l]=0,l--}else l++;c[l]=1,f=!f}throw new X}static decodeCode(r,i,o){Lt.recordPattern(r,o,i);let l=ue.MAX_AVG_VARIANCE,c=-1;for(let d=0;d<ue.CODE_PATTERNS.length;d++){const f=ue.CODE_PATTERNS[d],p=this.patternMatchVariance(i,f,ue.MAX_INDIVIDUAL_VARIANCE);p<l&&(l=p,c=d)}if(c>=0)return c;throw new X}decodeRow(r,i,o){const l=o&&o.get(z.ASSUME_GS1)===!0,c=ue.findStartPattern(i),d=c[2];let f=0;const p=new Uint8Array(20);p[f++]=d;let y;switch(d){case ue.CODE_START_A:y=ue.CODE_CODE_A;break;case ue.CODE_START_B:y=ue.CODE_CODE_B;break;case ue.CODE_START_C:y=ue.CODE_CODE_C;break;default:throw new B}let E=!1,T=!1,M="",L=c[0],j=c[1];const V=Int32Array.from([0,0,0,0,0,0]);let Y=0,q=0,se=d,oe=0,ne=!0,Ve=!1,Me=!1;for(;!E;){const ao=T;switch(T=!1,Y=q,q=ue.decodeCode(i,V,j),p[f++]=q,q!==ue.CODE_STOP&&(ne=!0),q!==ue.CODE_STOP&&(oe++,se+=oe*q),L=j,j+=V.reduce((GE,XE)=>GE+XE,0),q){case ue.CODE_START_A:case ue.CODE_START_B:case ue.CODE_START_C:throw new B}switch(y){case ue.CODE_CODE_A:if(q<64)Me===Ve?M+=String.fromCharCode(32+q):M+=String.fromCharCode(32+q+128),Me=!1;else if(q<96)Me===Ve?M+=String.fromCharCode(q-64):M+=String.fromCharCode(q+64),Me=!1;else switch(q!==ue.CODE_STOP&&(ne=!1),q){case ue.CODE_FNC_1:l&&(M.length===0?M+="]C1":M+="");break;case ue.CODE_FNC_2:case ue.CODE_FNC_3:break;case ue.CODE_FNC_4_A:!Ve&&Me?(Ve=!0,Me=!1):Ve&&Me?(Ve=!1,Me=!1):Me=!0;break;case ue.CODE_SHIFT:T=!0,y=ue.CODE_CODE_B;break;case ue.CODE_CODE_B:y=ue.CODE_CODE_B;break;case ue.CODE_CODE_C:y=ue.CODE_CODE_C;break;case ue.CODE_STOP:E=!0;break}break;case ue.CODE_CODE_B:if(q<96)Me===Ve?M+=String.fromCharCode(32+q):M+=String.fromCharCode(32+q+128),Me=!1;else switch(q!==ue.CODE_STOP&&(ne=!1),q){case ue.CODE_FNC_1:l&&(M.length===0?M+="]C1":M+="");break;case ue.CODE_FNC_2:case ue.CODE_FNC_3:break;case ue.CODE_FNC_4_B:!Ve&&Me?(Ve=!0,Me=!1):Ve&&Me?(Ve=!1,Me=!1):Me=!0;break;case ue.CODE_SHIFT:T=!0,y=ue.CODE_CODE_A;break;case ue.CODE_CODE_A:y=ue.CODE_CODE_A;break;case ue.CODE_CODE_C:y=ue.CODE_CODE_C;break;case ue.CODE_STOP:E=!0;break}break;case ue.CODE_CODE_C:if(q<100)q<10&&(M+="0"),M+=q;else switch(q!==ue.CODE_STOP&&(ne=!1),q){case ue.CODE_FNC_1:l&&(M.length===0?M+="]C1":M+="");break;case ue.CODE_CODE_A:y=ue.CODE_CODE_A;break;case ue.CODE_CODE_B:y=ue.CODE_CODE_B;break;case ue.CODE_STOP:E=!0;break}break}ao&&(y=y===ue.CODE_CODE_A?ue.CODE_CODE_B:ue.CODE_CODE_A)}const In=j-L;if(j=i.getNextUnset(j),!i.isRange(j,Math.min(i.getSize(),j+(j-L)/2),!1))throw new X;if(se-=oe*Y,se%103!==Y)throw new D;const fr=M.length;if(fr===0)throw new X;fr>0&&ne&&(y===ue.CODE_CODE_C?M=M.substring(0,fr-2):M=M.substring(0,fr-1));const Tn=(c[1]+c[0])/2,ut=L+In/2,$t=p.length,Fn=new Uint8Array($t);for(let ao=0;ao<$t;ao++)Fn[ao]=p[ao];const oo=[new ye(Tn,r),new ye(ut,r)];return new Fe(M,Fn,0,oo,he.CODE_128,new Date().getTime())}}ue.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],ue.MAX_AVG_VARIANCE=.25,ue.MAX_INDIVIDUAL_VARIANCE=.7,ue.CODE_SHIFT=98,ue.CODE_CODE_C=99,ue.CODE_CODE_B=100,ue.CODE_CODE_A=101,ue.CODE_FNC_1=102,ue.CODE_FNC_2=97,ue.CODE_FNC_3=96,ue.CODE_FNC_4_A=101,ue.CODE_FNC_4_B=100,ue.CODE_START_A=103,ue.CODE_START_B=104,ue.CODE_START_C=105,ue.CODE_STOP=106;class Bt extends Lt{constructor(r=!1,i=!1){super(),this.usingCheckDigit=r,this.extendedMode=i,this.decodeRowResult="",this.counters=new Int32Array(9)}decodeRow(r,i,o){let l=this.counters;l.fill(0),this.decodeRowResult="";let c=Bt.findAsteriskPattern(i,l),d=i.getNextSet(c[1]),f=i.getSize(),p,y;do{Bt.recordPattern(i,d,l);let V=Bt.toNarrowWidePattern(l);if(V<0)throw new X;p=Bt.patternToChar(V),this.decodeRowResult+=p,y=d;for(let Y of l)d+=Y;d=i.getNextSet(d)}while(p!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);let E=0;for(let V of l)E+=V;let T=d-y-E;if(d!==f&&T*2<E)throw new X;if(this.usingCheckDigit){let V=this.decodeRowResult.length-1,Y=0;for(let q=0;q<V;q++)Y+=Bt.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(q));if(this.decodeRowResult.charAt(V)!==Bt.ALPHABET_STRING.charAt(Y%43))throw new D;this.decodeRowResult=this.decodeRowResult.substring(0,V)}if(this.decodeRowResult.length===0)throw new X;let M;this.extendedMode?M=Bt.decodeExtended(this.decodeRowResult):M=this.decodeRowResult;let L=(c[1]+c[0])/2,j=y+E/2;return new Fe(M,null,0,[new ye(L,r),new ye(j,r)],he.CODE_39,new Date().getTime())}static findAsteriskPattern(r,i){let o=r.getSize(),l=r.getNextSet(0),c=0,d=l,f=!1,p=i.length;for(let y=l;y<o;y++)if(r.get(y)!==f)i[c]++;else{if(c===p-1){if(this.toNarrowWidePattern(i)===Bt.ASTERISK_ENCODING&&r.isRange(Math.max(0,d-Math.floor((y-d)/2)),d,!1))return[d,y];d+=i[0]+i[1],i.copyWithin(0,2,2+c-1),i[c-1]=0,i[c]=0,c--}else c++;i[c]=1,f=!f}throw new X}static toNarrowWidePattern(r){let i=r.length,o=0,l;do{let c=2147483647;for(let p of r)p<c&&p>o&&(c=p);o=c,l=0;let d=0,f=0;for(let p=0;p<i;p++){let y=r[p];y>o&&(f|=1<<i-1-p,l++,d+=y)}if(l===3){for(let p=0;p<i&&l>0;p++){let y=r[p];if(y>o&&(l--,y*2>=d))return-1}return f}}while(l>3);return-1}static patternToChar(r){for(let i=0;i<Bt.CHARACTER_ENCODINGS.length;i++)if(Bt.CHARACTER_ENCODINGS[i]===r)return Bt.ALPHABET_STRING.charAt(i);if(r===Bt.ASTERISK_ENCODING)return"*";throw new X}static decodeExtended(r){let i=r.length,o="";for(let l=0;l<i;l++){let c=r.charAt(l);if(c==="+"||c==="$"||c==="%"||c==="/"){let d=r.charAt(l+1),f="\0";switch(c){case"+":if(d>="A"&&d<="Z")f=String.fromCharCode(d.charCodeAt(0)+32);else throw new B;break;case"$":if(d>="A"&&d<="Z")f=String.fromCharCode(d.charCodeAt(0)-64);else throw new B;break;case"%":if(d>="A"&&d<="E")f=String.fromCharCode(d.charCodeAt(0)-38);else if(d>="F"&&d<="J")f=String.fromCharCode(d.charCodeAt(0)-11);else if(d>="K"&&d<="O")f=String.fromCharCode(d.charCodeAt(0)+16);else if(d>="P"&&d<="T")f=String.fromCharCode(d.charCodeAt(0)+43);else if(d==="U")f="\0";else if(d==="V")f="@";else if(d==="W")f="`";else if(d==="X"||d==="Y"||d==="Z")f="";else throw new B;break;case"/":if(d>="A"&&d<="O")f=String.fromCharCode(d.charCodeAt(0)-32);else if(d==="Z")f=":";else throw new B;break}o+=f,l++}else o+=c}return o}}Bt.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",Bt.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],Bt.ASTERISK_ENCODING=148;class lt extends Lt{constructor(){super(...arguments),this.narrowLineWidth=-1}decodeRow(r,i,o){let l=this.decodeStart(i),c=this.decodeEnd(i),d=new fe;lt.decodeMiddle(i,l[1],c[0],d);let f=d.toString(),p=null;o!=null&&(p=o.get(z.ALLOWED_LENGTHS)),p==null&&(p=lt.DEFAULT_ALLOWED_LENGTHS);let y=f.length,E=!1,T=0;for(let j of p){if(y===j){E=!0;break}j>T&&(T=j)}if(!E&&y>T&&(E=!0),!E)throw new B;const M=[new ye(l[1],r),new ye(c[0],r)];return new Fe(f,null,0,M,he.ITF,new Date().getTime())}static decodeMiddle(r,i,o,l){let c=new Int32Array(10),d=new Int32Array(5),f=new Int32Array(5);for(c.fill(0),d.fill(0),f.fill(0);i<o;){Lt.recordPattern(r,i,c);for(let y=0;y<5;y++){let E=2*y;d[y]=c[E],f[y]=c[E+1]}let p=lt.decodeDigit(d);l.append(p.toString()),p=this.decodeDigit(f),l.append(p.toString()),c.forEach(function(y){i+=y})}}decodeStart(r){let i=lt.skipWhiteSpace(r),o=lt.findGuardPattern(r,i,lt.START_PATTERN);return this.narrowLineWidth=(o[1]-o[0])/4,this.validateQuietZone(r,o[0]),o}validateQuietZone(r,i){let o=this.narrowLineWidth*10;o=o<i?o:i;for(let l=i-1;o>0&&l>=0&&!r.get(l);l--)o--;if(o!==0)throw new X}static skipWhiteSpace(r){const i=r.getSize(),o=r.getNextSet(0);if(o===i)throw new X;return o}decodeEnd(r){r.reverse();try{let i=lt.skipWhiteSpace(r),o;try{o=lt.findGuardPattern(r,i,lt.END_PATTERN_REVERSED[0])}catch(c){c instanceof X&&(o=lt.findGuardPattern(r,i,lt.END_PATTERN_REVERSED[1]))}this.validateQuietZone(r,o[0]);let l=o[0];return o[0]=r.getSize()-o[1],o[1]=r.getSize()-l,o}finally{r.reverse()}}static findGuardPattern(r,i,o){let l=o.length,c=new Int32Array(l),d=r.getSize(),f=!1,p=0,y=i;c.fill(0);for(let E=i;E<d;E++)if(r.get(E)!==f)c[p]++;else{if(p===l-1){if(Lt.patternMatchVariance(c,o,lt.MAX_INDIVIDUAL_VARIANCE)<lt.MAX_AVG_VARIANCE)return[y,E];y+=c[0]+c[1],S.arraycopy(c,2,c,0,p-1),c[p-1]=0,c[p]=0,p--}else p++;c[p]=1,f=!f}throw new X}static decodeDigit(r){let i=lt.MAX_AVG_VARIANCE,o=-1,l=lt.PATTERNS.length;for(let c=0;c<l;c++){let d=lt.PATTERNS[c],f=Lt.patternMatchVariance(r,d,lt.MAX_INDIVIDUAL_VARIANCE);f<i?(i=f,o=c):f===i&&(o=-1)}if(o>=0)return o%10;throw new X}}lt.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],lt.MAX_AVG_VARIANCE=.38,lt.MAX_INDIVIDUAL_VARIANCE=.5,lt.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],lt.START_PATTERN=Int32Array.from([1,1,1,1]),lt.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])];class Tt extends Lt{constructor(){super(...arguments),this.decodeRowStringBuffer=""}static findStartGuardPattern(r){let i=!1,o,l=0,c=Int32Array.from([0,0,0]);for(;!i;){c=Int32Array.from([0,0,0]),o=Tt.findGuardPattern(r,l,!1,this.START_END_PATTERN,c);let d=o[0];l=o[1];let f=d-(l-d);f>=0&&(i=r.isRange(f,d,!1))}return o}static checkChecksum(r){return Tt.checkStandardUPCEANChecksum(r)}static checkStandardUPCEANChecksum(r){let i=r.length;if(i===0)return!1;let o=parseInt(r.charAt(i-1),10);return Tt.getStandardUPCEANChecksum(r.substring(0,i-1))===o}static getStandardUPCEANChecksum(r){let i=r.length,o=0;for(let l=i-1;l>=0;l-=2){let c=r.charAt(l).charCodeAt(0)-48;if(c<0||c>9)throw new B;o+=c}o*=3;for(let l=i-2;l>=0;l-=2){let c=r.charAt(l).charCodeAt(0)-48;if(c<0||c>9)throw new B;o+=c}return(1e3-o)%10}static decodeEnd(r,i){return Tt.findGuardPattern(r,i,!1,Tt.START_END_PATTERN,new Int32Array(Tt.START_END_PATTERN.length).fill(0))}static findGuardPatternWithoutCounters(r,i,o,l){return this.findGuardPattern(r,i,o,l,new Int32Array(l.length))}static findGuardPattern(r,i,o,l,c){let d=r.getSize();i=o?r.getNextUnset(i):r.getNextSet(i);let f=0,p=i,y=l.length,E=o;for(let T=i;T<d;T++)if(r.get(T)!==E)c[f]++;else{if(f===y-1){if(Lt.patternMatchVariance(c,l,Tt.MAX_INDIVIDUAL_VARIANCE)<Tt.MAX_AVG_VARIANCE)return Int32Array.from([p,T]);p+=c[0]+c[1];let M=c.slice(2,c.length-1);for(let L=0;L<f-1;L++)c[L]=M[L];c[f-1]=0,c[f]=0,f--}else f++;c[f]=1,E=!E}throw new X}static decodeDigit(r,i,o,l){this.recordPattern(r,o,i);let c=this.MAX_AVG_VARIANCE,d=-1,f=l.length;for(let p=0;p<f;p++){let y=l[p],E=Lt.patternMatchVariance(i,y,Tt.MAX_INDIVIDUAL_VARIANCE);E<c&&(c=E,d=p)}if(d>=0)return d;throw new X}}Tt.MAX_AVG_VARIANCE=.48,Tt.MAX_INDIVIDUAL_VARIANCE=.7,Tt.START_END_PATTERN=Int32Array.from([1,1,1]),Tt.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),Tt.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),Tt.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])];class va{constructor(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(r,i,o){let l=this.decodeRowStringBuffer,c=this.decodeMiddle(i,o,l),d=l.toString(),f=va.parseExtensionString(d),p=[new ye((o[0]+o[1])/2,r),new ye(c,r)],y=new Fe(d,null,0,p,he.UPC_EAN_EXTENSION,new Date().getTime());return f!=null&&y.putAllMetadata(f),y}decodeMiddle(r,i,o){let l=this.decodeMiddleCounters;l[0]=0,l[1]=0,l[2]=0,l[3]=0;let c=r.getSize(),d=i[1],f=0;for(let y=0;y<5&&d<c;y++){let E=Tt.decodeDigit(r,l,d,Tt.L_AND_G_PATTERNS);o+=String.fromCharCode(48+E%10);for(let T of l)d+=T;E>=10&&(f|=1<<4-y),y!==4&&(d=r.getNextSet(d),d=r.getNextUnset(d))}if(o.length!==5)throw new X;let p=this.determineCheckDigit(f);if(va.extensionChecksum(o.toString())!==p)throw new X;return d}static extensionChecksum(r){let i=r.length,o=0;for(let l=i-2;l>=0;l-=2)o+=r.charAt(l).charCodeAt(0)-48;o*=3;for(let l=i-1;l>=0;l-=2)o+=r.charAt(l).charCodeAt(0)-48;return o*=3,o%10}determineCheckDigit(r){for(let i=0;i<10;i++)if(r===this.CHECK_DIGIT_ENCODINGS[i])return i;throw new X}static parseExtensionString(r){if(r.length!==5)return null;let i=va.parseExtension5String(r);return i==null?null:new Map([[Te.SUGGESTED_PRICE,i]])}static parseExtension5String(r){let i;switch(r.charAt(0)){case"0":i="";break;case"5":i="$";break;case"9":switch(r){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}i="";break;default:i="";break}let o=parseInt(r.substring(1)),l=(o/100).toString(),c=o%100,d=c<10?"0"+c:c.toString();return i+l+"."+d}}class xd{constructor(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(r,i,o){let l=this.decodeRowStringBuffer,c=this.decodeMiddle(i,o,l),d=l.toString(),f=xd.parseExtensionString(d),p=[new ye((o[0]+o[1])/2,r),new ye(c,r)],y=new Fe(d,null,0,p,he.UPC_EAN_EXTENSION,new Date().getTime());return f!=null&&y.putAllMetadata(f),y}decodeMiddle(r,i,o){let l=this.decodeMiddleCounters;l[0]=0,l[1]=0,l[2]=0,l[3]=0;let c=r.getSize(),d=i[1],f=0;for(let p=0;p<2&&d<c;p++){let y=Tt.decodeDigit(r,l,d,Tt.L_AND_G_PATTERNS);o+=String.fromCharCode(48+y%10);for(let E of l)d+=E;y>=10&&(f|=1<<1-p),p!==1&&(d=r.getNextSet(d),d=r.getNextUnset(d))}if(o.length!==2)throw new X;if(parseInt(o.toString())%4!==f)throw new X;return d}static parseExtensionString(r){return r.length!==2?null:new Map([[Te.ISSUE_NUMBER,parseInt(r)]])}}class q0{static decodeRow(r,i,o){let l=Tt.findGuardPattern(i,o,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{return new va().decodeRow(r,i,l)}catch{return new xd().decodeRow(r,i,l)}}}q0.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]);class Qe extends Tt{constructor(){super(),this.decodeRowStringBuffer="",Qe.L_AND_G_PATTERNS=Qe.L_PATTERNS.map(r=>Int32Array.from(r));for(let r=10;r<20;r++){let i=Qe.L_PATTERNS[r-10],o=new Int32Array(i.length);for(let l=0;l<i.length;l++)o[l]=i[i.length-l-1];Qe.L_AND_G_PATTERNS[r]=o}}decodeRow(r,i,o){let l=Qe.findStartGuardPattern(i),c=o==null?null:o.get(z.NEED_RESULT_POINT_CALLBACK);if(c!=null){const ne=new ye((l[0]+l[1])/2,r);c.foundPossibleResultPoint(ne)}let d=this.decodeMiddle(i,l,this.decodeRowStringBuffer),f=d.rowOffset,p=d.resultString;if(c!=null){const ne=new ye(f,r);c.foundPossibleResultPoint(ne)}let y=this.decodeEnd(i,f);if(c!=null){const ne=new ye((y[0]+y[1])/2,r);c.foundPossibleResultPoint(ne)}let E=y[1],T=E+(E-y[0]);if(T>=i.getSize()||!i.isRange(E,T,!1))throw new X;let M=p.toString();if(M.length<8)throw new B;if(!Qe.checkChecksum(M))throw new D;let L=(l[1]+l[0])/2,j=(y[1]+y[0])/2,V=this.getBarcodeFormat(),Y=[new ye(L,r),new ye(j,r)],q=new Fe(M,null,0,Y,V,new Date().getTime()),se=0;try{let ne=q0.decodeRow(r,i,y[1]);q.putMetadata(Te.UPC_EAN_EXTENSION,ne.getText()),q.putAllMetadata(ne.getResultMetadata()),q.addResultPoints(ne.getResultPoints()),se=ne.getText().length}catch{}let oe=o==null?null:o.get(z.ALLOWED_EAN_EXTENSIONS);if(oe!=null){let ne=!1;for(let Ve in oe)if(se.toString()===Ve){ne=!0;break}if(!ne)throw new X}return q}decodeEnd(r,i){return Qe.findGuardPattern(r,i,!1,Qe.START_END_PATTERN,new Int32Array(Qe.START_END_PATTERN.length).fill(0))}static checkChecksum(r){return Qe.checkStandardUPCEANChecksum(r)}static checkStandardUPCEANChecksum(r){let i=r.length;if(i===0)return!1;let o=parseInt(r.charAt(i-1),10);return Qe.getStandardUPCEANChecksum(r.substring(0,i-1))===o}static getStandardUPCEANChecksum(r){let i=r.length,o=0;for(let l=i-1;l>=0;l-=2){let c=r.charAt(l).charCodeAt(0)-48;if(c<0||c>9)throw new B;o+=c}o*=3;for(let l=i-2;l>=0;l-=2){let c=r.charAt(l).charCodeAt(0)-48;if(c<0||c>9)throw new B;o+=c}return(1e3-o)%10}}class ps extends Qe{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(r,i,o){let l=this.decodeMiddleCounters;l[0]=0,l[1]=0,l[2]=0,l[3]=0;let c=r.getSize(),d=i[1],f=0;for(let y=0;y<6&&d<c;y++){let E=Qe.decodeDigit(r,l,d,Qe.L_AND_G_PATTERNS);o+=String.fromCharCode(48+E%10);for(let T of l)d+=T;E>=10&&(f|=1<<5-y)}o=ps.determineFirstDigit(o,f),d=Qe.findGuardPattern(r,d,!0,Qe.MIDDLE_PATTERN,new Int32Array(Qe.MIDDLE_PATTERN.length).fill(0))[1];for(let y=0;y<6&&d<c;y++){let E=Qe.decodeDigit(r,l,d,Qe.L_PATTERNS);o+=String.fromCharCode(48+E);for(let T of l)d+=T}return{rowOffset:d,resultString:o}}getBarcodeFormat(){return he.EAN_13}static determineFirstDigit(r,i){for(let o=0;o<10;o++)if(i===this.FIRST_DIGIT_ENCODINGS[o])return r=String.fromCharCode(48+o)+r,r;throw new X}}ps.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26];class Z0 extends Qe{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(r,i,o){const l=this.decodeMiddleCounters;l[0]=0,l[1]=0,l[2]=0,l[3]=0;let c=r.getSize(),d=i[1];for(let p=0;p<4&&d<c;p++){let y=Qe.decodeDigit(r,l,d,Qe.L_PATTERNS);o+=String.fromCharCode(48+y);for(let E of l)d+=E}d=Qe.findGuardPattern(r,d,!0,Qe.MIDDLE_PATTERN,new Int32Array(Qe.MIDDLE_PATTERN.length).fill(0))[1];for(let p=0;p<4&&d<c;p++){let y=Qe.decodeDigit(r,l,d,Qe.L_PATTERNS);o+=String.fromCharCode(48+y);for(let E of l)d+=E}return{rowOffset:d,resultString:o}}getBarcodeFormat(){return he.EAN_8}}class $0 extends Qe{constructor(){super(...arguments),this.ean13Reader=new ps}getBarcodeFormat(){return he.UPC_A}decode(r,i){return this.maybeReturnResult(this.ean13Reader.decode(r))}decodeRow(r,i,o){return this.maybeReturnResult(this.ean13Reader.decodeRow(r,i,o))}decodeMiddle(r,i,o){return this.ean13Reader.decodeMiddle(r,i,o)}maybeReturnResult(r){let i=r.getText();if(i.charAt(0)==="0"){let o=new Fe(i.substring(1),null,null,r.getResultPoints(),he.UPC_A);return r.getResultMetadata()!=null&&o.putAllMetadata(r.getResultMetadata()),o}else throw new X}reset(){this.ean13Reader.reset()}}class dr extends Qe{constructor(){super(),this.decodeMiddleCounters=new Int32Array(4)}decodeMiddle(r,i,o){const l=this.decodeMiddleCounters.map(y=>y);l[0]=0,l[1]=0,l[2]=0,l[3]=0;const c=r.getSize();let d=i[1],f=0;for(let y=0;y<6&&d<c;y++){const E=dr.decodeDigit(r,l,d,dr.L_AND_G_PATTERNS);o+=String.fromCharCode(48+E%10);for(let T of l)d+=T;E>=10&&(f|=1<<5-y)}let p=dr.determineNumSysAndCheckDigit(o,f);return{rowOffset:d,resultString:p}}decodeEnd(r,i){return dr.findGuardPatternWithoutCounters(r,i,!0,dr.MIDDLE_END_PATTERN)}checkChecksum(r){return Qe.checkChecksum(dr.convertUPCEtoUPCA(r))}static determineNumSysAndCheckDigit(r,i){for(let o=0;o<=1;o++)for(let l=0;l<10;l++)if(i===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[o][l]){let c=String.fromCharCode(48+o),d=String.fromCharCode(48+l);return c+r+d}throw X.getNotFoundInstance()}getBarcodeFormat(){return he.UPC_E}static convertUPCEtoUPCA(r){const i=r.slice(1,7).split("").map(c=>c.charCodeAt(0)),o=new fe;o.append(r.charAt(0));let l=i[5];switch(l){case 0:case 1:case 2:o.appendChars(i,0,2),o.append(l),o.append("0000"),o.appendChars(i,2,3);break;case 3:o.appendChars(i,0,3),o.append("00000"),o.appendChars(i,3,2);break;case 4:o.appendChars(i,0,4),o.append("00000"),o.append(i[4]);break;default:o.appendChars(i,0,5),o.append("0000"),o.append(l);break}return r.length>=8&&o.append(r.charAt(7)),o.toString()}}dr.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),dr.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,26])];class wd extends Lt{constructor(r){super();let i=r==null?null:r.get(z.POSSIBLE_FORMATS),o=[];s(i)?(o.push(new ps),o.push(new $0),o.push(new Z0),o.push(new dr)):(i.indexOf(he.EAN_13)>-1&&o.push(new ps),i.indexOf(he.UPC_A)>-1&&o.push(new $0),i.indexOf(he.EAN_8)>-1&&o.push(new Z0),i.indexOf(he.UPC_E)>-1&&o.push(new dr)),this.readers=o}decodeRow(r,i,o){for(let l of this.readers)try{const c=l.decodeRow(r,i,o),d=c.getBarcodeFormat()===he.EAN_13&&c.getText().charAt(0)==="0",f=o==null?null:o.get(z.POSSIBLE_FORMATS),p=f==null||f.includes(he.UPC_A);if(d&&p){const y=c.getRawBytes(),E=new Fe(c.getText().substring(1),y,y?y.length:null,c.getResultPoints(),he.UPC_A);return E.putAllMetadata(c.getResultMetadata()),E}return c}catch{}throw new X}reset(){for(let r of this.readers)r.reset()}}class rn extends Lt{constructor(){super(),this.decodeFinderCounters=new Int32Array(4),this.dataCharacterCounters=new Int32Array(8),this.oddRoundingErrors=new Array(4),this.evenRoundingErrors=new Array(4),this.oddCounts=new Array(this.dataCharacterCounters.length/2),this.evenCounts=new Array(this.dataCharacterCounters.length/2)}getDecodeFinderCounters(){return this.decodeFinderCounters}getDataCharacterCounters(){return this.dataCharacterCounters}getOddRoundingErrors(){return this.oddRoundingErrors}getEvenRoundingErrors(){return this.evenRoundingErrors}getOddCounts(){return this.oddCounts}getEvenCounts(){return this.evenCounts}parseFinderValue(r,i){for(let o=0;o<i.length;o++)if(Lt.patternMatchVariance(r,i[o],rn.MAX_INDIVIDUAL_VARIANCE)<rn.MAX_AVG_VARIANCE)return o;throw new X}static count(r){return je.sum(new Int32Array(r))}static increment(r,i){let o=0,l=i[0];for(let c=1;c<r.length;c++)i[c]>l&&(l=i[c],o=c);r[o]++}static decrement(r,i){let o=0,l=i[0];for(let c=1;c<r.length;c++)i[c]<l&&(l=i[c],o=c);r[o]--}static isFinderPattern(r){let i=r[0]+r[1],o=i+r[2]+r[3],l=i/o;if(l>=rn.MIN_FINDER_PATTERN_RATIO&&l<=rn.MAX_FINDER_PATTERN_RATIO){let c=Number.MAX_SAFE_INTEGER,d=Number.MIN_SAFE_INTEGER;for(let f of r)f>d&&(d=f),f<c&&(c=f);return d<10*c}return!1}}rn.MAX_AVG_VARIANCE=.2,rn.MAX_INDIVIDUAL_VARIANCE=.45,rn.MIN_FINDER_PATTERN_RATIO=9.5/12,rn.MAX_FINDER_PATTERN_RATIO=12.5/14;class Js{constructor(r,i){this.value=r,this.checksumPortion=i}getValue(){return this.value}getChecksumPortion(){return this.checksumPortion}toString(){return this.value+"("+this.checksumPortion+")"}equals(r){if(!(r instanceof Js))return!1;const i=r;return this.value===i.value&&this.checksumPortion===i.checksumPortion}hashCode(){return this.value^this.checksumPortion}}class Kl{constructor(r,i,o,l,c){this.value=r,this.startEnd=i,this.value=r,this.startEnd=i,this.resultPoints=new Array,this.resultPoints.push(new ye(o,c)),this.resultPoints.push(new ye(l,c))}getValue(){return this.value}getStartEnd(){return this.startEnd}getResultPoints(){return this.resultPoints}equals(r){if(!(r instanceof Kl))return!1;const i=r;return this.value===i.value}hashCode(){return this.value}}class Ir{constructor(){}static getRSSvalue(r,i,o){let l=0;for(let p of r)l+=p;let c=0,d=0,f=r.length;for(let p=0;p<f-1;p++){let y;for(y=1,d|=1<<p;y<r[p];y++,d&=~(1<<p)){let E=Ir.combins(l-y-1,f-p-2);if(o&&d===0&&l-y-(f-p-1)>=f-p-1&&(E-=Ir.combins(l-y-(f-p),f-p-2)),f-p-1>1){let T=0;for(let M=l-y-(f-p-2);M>i;M--)T+=Ir.combins(l-y-M-1,f-p-3);E-=T*(f-1-p)}else l-y>i&&E--;c+=E}l-=y}return c}static combins(r,i){let o,l;r-i>i?(l=i,o=r-i):(l=r-i,o=i);let c=1,d=1;for(let f=r;f>o;f--)c*=f,d<=l&&(c/=d,d++);for(;d<=l;)c/=d,d++;return c}}class xE{static buildBitArray(r){let i=r.length*2-1;r[r.length-1].getRightChar()==null&&(i-=1);let o=12*i,l=new F(o),c=0,f=r[0].getRightChar().getValue();for(let p=11;p>=0;--p)f&1<<p&&l.set(c),c++;for(let p=1;p<r.length;++p){let y=r[p],E=y.getLeftChar().getValue();for(let T=11;T>=0;--T)E&1<<T&&l.set(c),c++;if(y.getRightChar()!=null){let T=y.getRightChar().getValue();for(let M=11;M>=0;--M)T&1<<M&&l.set(c),c++}}return l}}class gs{constructor(r,i){i?this.decodedInformation=null:(this.finished=r,this.decodedInformation=i)}getDecodedInformation(){return this.decodedInformation}isFinished(){return this.finished}}class yd{constructor(r){this.newPosition=r}getNewPosition(){return this.newPosition}}class Sn extends yd{constructor(r,i){super(r),this.value=i}getValue(){return this.value}isFNC1(){return this.value===Sn.FNC1}}Sn.FNC1="$";class ms extends yd{constructor(r,i,o){super(r),o?(this.remaining=!0,this.remainingValue=this.remainingValue):(this.remaining=!1,this.remainingValue=0),this.newString=i}getNewString(){return this.newString}isRemaining(){return this.remaining}getRemainingValue(){return this.remainingValue}}class Qn extends yd{constructor(r,i,o){if(super(r),i<0||i>10||o<0||o>10)throw new B;this.firstDigit=i,this.secondDigit=o}getFirstDigit(){return this.firstDigit}getSecondDigit(){return this.secondDigit}getValue(){return this.firstDigit*10+this.secondDigit}isFirstDigitFNC1(){return this.firstDigit===Qn.FNC1}isSecondDigitFNC1(){return this.secondDigit===Qn.FNC1}isAnyFNC1(){return this.firstDigit===Qn.FNC1||this.secondDigit===Qn.FNC1}}Qn.FNC1=10;class me{constructor(){}static parseFieldsInGeneralPurpose(r){if(!r)return null;if(r.length<2)throw new X;let i=r.substring(0,2);for(let c of me.TWO_DIGIT_DATA_LENGTH)if(c[0]===i)return c[1]===me.VARIABLE_LENGTH?me.processVariableAI(2,c[2],r):me.processFixedAI(2,c[1],r);if(r.length<3)throw new X;let o=r.substring(0,3);for(let c of me.THREE_DIGIT_DATA_LENGTH)if(c[0]===o)return c[1]===me.VARIABLE_LENGTH?me.processVariableAI(3,c[2],r):me.processFixedAI(3,c[1],r);for(let c of me.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH)if(c[0]===o)return c[1]===me.VARIABLE_LENGTH?me.processVariableAI(4,c[2],r):me.processFixedAI(4,c[1],r);if(r.length<4)throw new X;let l=r.substring(0,4);for(let c of me.FOUR_DIGIT_DATA_LENGTH)if(c[0]===l)return c[1]===me.VARIABLE_LENGTH?me.processVariableAI(4,c[2],r):me.processFixedAI(4,c[1],r);throw new X}static processFixedAI(r,i,o){if(o.length<r)throw new X;let l=o.substring(0,r);if(o.length<r+i)throw new X;let c=o.substring(r,r+i),d=o.substring(r+i),f="("+l+")"+c,p=me.parseFieldsInGeneralPurpose(d);return p==null?f:f+p}static processVariableAI(r,i,o){let l=o.substring(0,r),c;o.length<r+i?c=o.length:c=r+i;let d=o.substring(r,c),f=o.substring(c),p="("+l+")"+d,y=me.parseFieldsInGeneralPurpose(f);return y==null?p:p+y}}me.VARIABLE_LENGTH=[],me.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",me.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",me.VARIABLE_LENGTH,20],["22",me.VARIABLE_LENGTH,29],["30",me.VARIABLE_LENGTH,8],["37",me.VARIABLE_LENGTH,8],["90",me.VARIABLE_LENGTH,30],["91",me.VARIABLE_LENGTH,30],["92",me.VARIABLE_LENGTH,30],["93",me.VARIABLE_LENGTH,30],["94",me.VARIABLE_LENGTH,30],["95",me.VARIABLE_LENGTH,30],["96",me.VARIABLE_LENGTH,30],["97",me.VARIABLE_LENGTH,3],["98",me.VARIABLE_LENGTH,30],["99",me.VARIABLE_LENGTH,30]],me.THREE_DIGIT_DATA_LENGTH=[["240",me.VARIABLE_LENGTH,30],["241",me.VARIABLE_LENGTH,30],["242",me.VARIABLE_LENGTH,6],["250",me.VARIABLE_LENGTH,30],["251",me.VARIABLE_LENGTH,30],["253",me.VARIABLE_LENGTH,17],["254",me.VARIABLE_LENGTH,20],["400",me.VARIABLE_LENGTH,30],["401",me.VARIABLE_LENGTH,30],["402",17],["403",me.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",me.VARIABLE_LENGTH,20],["421",me.VARIABLE_LENGTH,15],["422",3],["423",me.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],me.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",me.VARIABLE_LENGTH,15],["391",me.VARIABLE_LENGTH,18],["392",me.VARIABLE_LENGTH,15],["393",me.VARIABLE_LENGTH,18],["703",me.VARIABLE_LENGTH,30]],me.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",me.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",me.VARIABLE_LENGTH,20],["8003",me.VARIABLE_LENGTH,30],["8004",me.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",me.VARIABLE_LENGTH,30],["8008",me.VARIABLE_LENGTH,12],["8018",18],["8020",me.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",me.VARIABLE_LENGTH,70],["8200",me.VARIABLE_LENGTH,70]];class eo{constructor(r){this.buffer=new fe,this.information=r}decodeAllCodes(r,i){let o=i,l=null;do{let c=this.decodeGeneralPurposeField(o,l),d=me.parseFieldsInGeneralPurpose(c.getNewString());if(d!=null&&r.append(d),c.isRemaining()?l=""+c.getRemainingValue():l=null,o===c.getNewPosition())break;o=c.getNewPosition()}while(!0);return r.toString()}isStillNumeric(r){if(r+7>this.information.getSize())return r+4<=this.information.getSize();for(let i=r;i<r+3;++i)if(this.information.get(i))return!0;return this.information.get(r+3)}decodeNumeric(r){if(r+7>this.information.getSize()){let c=this.extractNumericValueFromBitArray(r,4);return c===0?new Qn(this.information.getSize(),Qn.FNC1,Qn.FNC1):new Qn(this.information.getSize(),c-1,Qn.FNC1)}let i=this.extractNumericValueFromBitArray(r,7),o=(i-8)/11,l=(i-8)%11;return new Qn(r+7,o,l)}extractNumericValueFromBitArray(r,i){return eo.extractNumericValueFromBitArray(this.information,r,i)}static extractNumericValueFromBitArray(r,i,o){let l=0;for(let c=0;c<o;++c)r.get(i+c)&&(l|=1<<o-c-1);return l}decodeGeneralPurposeField(r,i){this.buffer.setLengthToZero(),i!=null&&this.buffer.append(i),this.current.setPosition(r);let o=this.parseBlocks();return o!=null&&o.isRemaining()?new ms(this.current.getPosition(),this.buffer.toString(),o.getRemainingValue()):new ms(this.current.getPosition(),this.buffer.toString())}parseBlocks(){let r,i;do{let o=this.current.getPosition();if(this.current.isAlpha()?(i=this.parseAlphaBlock(),r=i.isFinished()):this.current.isIsoIec646()?(i=this.parseIsoIec646Block(),r=i.isFinished()):(i=this.parseNumericBlock(),r=i.isFinished()),!(o!==this.current.getPosition())&&!r)break}while(!r);return i.getDecodedInformation()}parseNumericBlock(){for(;this.isStillNumeric(this.current.getPosition());){let r=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(r.getNewPosition()),r.isFirstDigitFNC1()){let i;return r.isSecondDigitFNC1()?i=new ms(this.current.getPosition(),this.buffer.toString()):i=new ms(this.current.getPosition(),this.buffer.toString(),r.getSecondDigit()),new gs(!0,i)}if(this.buffer.append(r.getFirstDigit()),r.isSecondDigitFNC1()){let i=new ms(this.current.getPosition(),this.buffer.toString());return new gs(!0,i)}this.buffer.append(r.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new gs(!1)}parseIsoIec646Block(){for(;this.isStillIsoIec646(this.current.getPosition());){let r=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(r.getNewPosition()),r.isFNC1()){let i=new ms(this.current.getPosition(),this.buffer.toString());return new gs(!0,i)}this.buffer.append(r.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new gs(!1)}parseAlphaBlock(){for(;this.isStillAlpha(this.current.getPosition());){let r=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(r.getNewPosition()),r.isFNC1()){let i=new ms(this.current.getPosition(),this.buffer.toString());return new gs(!0,i)}this.buffer.append(r.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new gs(!1)}isStillIsoIec646(r){if(r+5>this.information.getSize())return!1;let i=this.extractNumericValueFromBitArray(r,5);if(i>=5&&i<16)return!0;if(r+7>this.information.getSize())return!1;let o=this.extractNumericValueFromBitArray(r,7);if(o>=64&&o<116)return!0;if(r+8>this.information.getSize())return!1;let l=this.extractNumericValueFromBitArray(r,8);return l>=232&&l<253}decodeIsoIec646(r){let i=this.extractNumericValueFromBitArray(r,5);if(i===15)return new Sn(r+5,Sn.FNC1);if(i>=5&&i<15)return new Sn(r+5,"0"+(i-5));let o=this.extractNumericValueFromBitArray(r,7);if(o>=64&&o<90)return new Sn(r+7,""+(o+1));if(o>=90&&o<116)return new Sn(r+7,""+(o+7));let l=this.extractNumericValueFromBitArray(r,8),c;switch(l){case 232:c="!";break;case 233:c='"';break;case 234:c="%";break;case 235:c="&";break;case 236:c="'";break;case 237:c="(";break;case 238:c=")";break;case 239:c="*";break;case 240:c="+";break;case 241:c=",";break;case 242:c="-";break;case 243:c=".";break;case 244:c="/";break;case 245:c=":";break;case 246:c=";";break;case 247:c="<";break;case 248:c="=";break;case 249:c=">";break;case 250:c="?";break;case 251:c="_";break;case 252:c=" ";break;default:throw new B}return new Sn(r+8,c)}isStillAlpha(r){if(r+5>this.information.getSize())return!1;let i=this.extractNumericValueFromBitArray(r,5);if(i>=5&&i<16)return!0;if(r+6>this.information.getSize())return!1;let o=this.extractNumericValueFromBitArray(r,6);return o>=16&&o<63}decodeAlphanumeric(r){let i=this.extractNumericValueFromBitArray(r,5);if(i===15)return new Sn(r+5,Sn.FNC1);if(i>=5&&i<15)return new Sn(r+5,"0"+(i-5));let o=this.extractNumericValueFromBitArray(r,6);if(o>=32&&o<58)return new Sn(r+6,""+(o+33));let l;switch(o){case 58:l="*";break;case 59:l=",";break;case 60:l="-";break;case 61:l=".";break;case 62:l="/";break;default:throw new nn("Decoding invalid alphanumeric value: "+o)}return new Sn(r+6,l)}isAlphaTo646ToAlphaLatch(r){if(r+1>this.information.getSize())return!1;for(let i=0;i<5&&i+r<this.information.getSize();++i)if(i===2){if(!this.information.get(r+2))return!1}else if(this.information.get(r+i))return!1;return!0}isAlphaOr646ToNumericLatch(r){if(r+3>this.information.getSize())return!1;for(let i=r;i<r+3;++i)if(this.information.get(i))return!1;return!0}isNumericToAlphaNumericLatch(r){if(r+1>this.information.getSize())return!1;for(let i=0;i<4&&i+r<this.information.getSize();++i)if(this.information.get(r+i))return!1;return!0}}class vd{constructor(r){this.information=r,this.generalDecoder=new eo(r)}getInformation(){return this.information}getGeneralDecoder(){return this.generalDecoder}}class bn extends vd{constructor(r){super(r)}encodeCompressedGtin(r,i){r.append("(01)");let o=r.length();r.append("9"),this.encodeCompressedGtinWithoutAI(r,i,o)}encodeCompressedGtinWithoutAI(r,i,o){for(let l=0;l<4;++l){let c=this.getGeneralDecoder().extractNumericValueFromBitArray(i+10*l,10);c/100===0&&r.append("0"),c/10===0&&r.append("0"),r.append(c)}bn.appendCheckDigit(r,o)}static appendCheckDigit(r,i){let o=0;for(let l=0;l<13;l++){let c=r.charAt(l+i).charCodeAt(0)-48;o+=l&1?c:3*c}o=10-o%10,o===10&&(o=0),r.append(o)}}bn.GTIN_SIZE=40;class to extends bn{constructor(r){super(r)}parseInformation(){let r=new fe;r.append("(01)");let i=r.length(),o=this.getGeneralDecoder().extractNumericValueFromBitArray(to.HEADER_SIZE,4);return r.append(o),this.encodeCompressedGtinWithoutAI(r,to.HEADER_SIZE+4,i),this.getGeneralDecoder().decodeAllCodes(r,to.HEADER_SIZE+44)}}to.HEADER_SIZE=4;class Ql extends vd{constructor(r){super(r)}parseInformation(){let r=new fe;return this.getGeneralDecoder().decodeAllCodes(r,Ql.HEADER_SIZE)}}Ql.HEADER_SIZE=5;class ql extends bn{constructor(r){super(r)}encodeCompressedWeight(r,i,o){let l=this.getGeneralDecoder().extractNumericValueFromBitArray(i,o);this.addWeightCode(r,l);let c=this.checkWeight(l),d=1e5;for(let f=0;f<5;++f)c/d===0&&r.append("0"),d/=10;r.append(c)}}class Tr extends ql{constructor(r){super(r)}parseInformation(){if(this.getInformation().getSize()!=Tr.HEADER_SIZE+ql.GTIN_SIZE+Tr.WEIGHT_SIZE)throw new X;let r=new fe;return this.encodeCompressedGtin(r,Tr.HEADER_SIZE),this.encodeCompressedWeight(r,Tr.HEADER_SIZE+ql.GTIN_SIZE,Tr.WEIGHT_SIZE),r.toString()}}Tr.HEADER_SIZE=5,Tr.WEIGHT_SIZE=15;class wE extends Tr{constructor(r){super(r)}addWeightCode(r,i){r.append("(3103)")}checkWeight(r){return r}}class yE extends Tr{constructor(r){super(r)}addWeightCode(r,i){i<1e4?r.append("(3202)"):r.append("(3203)")}checkWeight(r){return r<1e4?r:r-1e4}}class Rr extends bn{constructor(r){super(r)}parseInformation(){if(this.getInformation().getSize()<Rr.HEADER_SIZE+bn.GTIN_SIZE)throw new X;let r=new fe;this.encodeCompressedGtin(r,Rr.HEADER_SIZE);let i=this.getGeneralDecoder().extractNumericValueFromBitArray(Rr.HEADER_SIZE+bn.GTIN_SIZE,Rr.LAST_DIGIT_SIZE);r.append("(392"),r.append(i),r.append(")");let o=this.getGeneralDecoder().decodeGeneralPurposeField(Rr.HEADER_SIZE+bn.GTIN_SIZE+Rr.LAST_DIGIT_SIZE,null);return r.append(o.getNewString()),r.toString()}}Rr.HEADER_SIZE=8,Rr.LAST_DIGIT_SIZE=2;class pn extends bn{constructor(r){super(r)}parseInformation(){if(this.getInformation().getSize()<pn.HEADER_SIZE+bn.GTIN_SIZE)throw new X;let r=new fe;this.encodeCompressedGtin(r,pn.HEADER_SIZE);let i=this.getGeneralDecoder().extractNumericValueFromBitArray(pn.HEADER_SIZE+bn.GTIN_SIZE,pn.LAST_DIGIT_SIZE);r.append("(393"),r.append(i),r.append(")");let o=this.getGeneralDecoder().extractNumericValueFromBitArray(pn.HEADER_SIZE+bn.GTIN_SIZE+pn.LAST_DIGIT_SIZE,pn.FIRST_THREE_DIGITS_SIZE);o/100==0&&r.append("0"),o/10==0&&r.append("0"),r.append(o);let l=this.getGeneralDecoder().decodeGeneralPurposeField(pn.HEADER_SIZE+bn.GTIN_SIZE+pn.LAST_DIGIT_SIZE+pn.FIRST_THREE_DIGITS_SIZE,null);return r.append(l.getNewString()),r.toString()}}pn.HEADER_SIZE=8,pn.LAST_DIGIT_SIZE=2,pn.FIRST_THREE_DIGITS_SIZE=10;class vt extends ql{constructor(r,i,o){super(r),this.dateCode=o,this.firstAIdigits=i}parseInformation(){if(this.getInformation().getSize()!=vt.HEADER_SIZE+vt.GTIN_SIZE+vt.WEIGHT_SIZE+vt.DATE_SIZE)throw new X;let r=new fe;return this.encodeCompressedGtin(r,vt.HEADER_SIZE),this.encodeCompressedWeight(r,vt.HEADER_SIZE+vt.GTIN_SIZE,vt.WEIGHT_SIZE),this.encodeCompressedDate(r,vt.HEADER_SIZE+vt.GTIN_SIZE+vt.WEIGHT_SIZE),r.toString()}encodeCompressedDate(r,i){let o=this.getGeneralDecoder().extractNumericValueFromBitArray(i,vt.DATE_SIZE);if(o==38400)return;r.append("("),r.append(this.dateCode),r.append(")");let l=o%32;o/=32;let c=o%12+1;o/=12;let d=o;d/10==0&&r.append("0"),r.append(d),c/10==0&&r.append("0"),r.append(c),l/10==0&&r.append("0"),r.append(l)}addWeightCode(r,i){r.append("("),r.append(this.firstAIdigits),r.append(i/1e5),r.append(")")}checkWeight(r){return r%1e5}}vt.HEADER_SIZE=8,vt.WEIGHT_SIZE=20,vt.DATE_SIZE=16;function J0(N){try{if(N.get(1))return new to(N);if(!N.get(2))return new Ql(N);switch(eo.extractNumericValueFromBitArray(N,1,4)){case 4:return new wE(N);case 5:return new yE(N)}switch(eo.extractNumericValueFromBitArray(N,1,5)){case 12:return new Rr(N);case 13:return new pn(N)}switch(eo.extractNumericValueFromBitArray(N,1,7)){case 56:return new vt(N,"310","11");case 57:return new vt(N,"320","11");case 58:return new vt(N,"310","13");case 59:return new vt(N,"320","13");case 60:return new vt(N,"310","15");case 61:return new vt(N,"320","15");case 62:return new vt(N,"310","17");case 63:return new vt(N,"320","17")}}catch(r){throw console.log(r),new nn("unknown decoder: "+N)}}class xi{constructor(r,i,o,l){this.leftchar=r,this.rightchar=i,this.finderpattern=o,this.maybeLast=l}mayBeLast(){return this.maybeLast}getLeftChar(){return this.leftchar}getRightChar(){return this.rightchar}getFinderPattern(){return this.finderpattern}mustBeLast(){return this.rightchar==null}toString(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"}static equals(r,i){return r instanceof xi?xi.equalsOrNull(r.leftchar,i.leftchar)&&xi.equalsOrNull(r.rightchar,i.rightchar)&&xi.equalsOrNull(r.finderpattern,i.finderpattern):!1}static equalsOrNull(r,i){return r===null?i===null:xi.equals(r,i)}hashCode(){return this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue()}}class Cd{constructor(r,i,o){this.pairs=r,this.rowNumber=i,this.wasReversed=o}getPairs(){return this.pairs}getRowNumber(){return this.rowNumber}isReversed(){return this.wasReversed}isEquivalent(r){return this.checkEqualitity(this,r)}toString(){return"{ "+this.pairs+" }"}equals(r,i){return r instanceof Cd?this.checkEqualitity(r,i)&&r.wasReversed===i.wasReversed:!1}checkEqualitity(r,i){if(!r||!i)return;let o;return r.forEach((l,c)=>{i.forEach(d=>{l.getLeftChar().getValue()===d.getLeftChar().getValue()&&l.getRightChar().getValue()===d.getRightChar().getValue()&&l.getFinderPatter().getValue()===d.getFinderPatter().getValue()&&(o=!0)})}),o}}class ee extends rn{constructor(r){super(...arguments),this.pairs=new Array(ee.MAX_PAIRS),this.rows=new Array,this.startEnd=[2],this.verbose=r===!0}decodeRow(r,i,o){this.pairs.length=0,this.startFromEven=!1;try{return ee.constructResult(this.decodeRow2pairs(r,i))}catch(l){this.verbose&&console.log(l)}return this.pairs.length=0,this.startFromEven=!0,ee.constructResult(this.decodeRow2pairs(r,i))}reset(){this.pairs.length=0,this.rows.length=0}decodeRow2pairs(r,i){let o=!1;for(;!o;)try{this.pairs.push(this.retrieveNextPair(i,this.pairs,r))}catch(c){if(c instanceof X){if(!this.pairs.length)throw new X;o=!0}}if(this.checkChecksum())return this.pairs;let l;if(this.rows.length?l=!0:l=!1,this.storeRow(r,!1),l){let c=this.checkRowsBoolean(!1);if(c!=null||(c=this.checkRowsBoolean(!0),c!=null))return c}throw new X}checkRowsBoolean(r){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,r&&(this.rows=this.rows.reverse());let i=null;try{i=this.checkRows(new Array,0)}catch(o){this.verbose&&console.log(o)}return r&&(this.rows=this.rows.reverse()),i}checkRows(r,i){for(let o=i;o<this.rows.length;o++){let l=this.rows[o];this.pairs.length=0;for(let d of r)this.pairs.push(d.getPairs());if(this.pairs.push(l.getPairs()),!ee.isValidSequence(this.pairs))continue;if(this.checkChecksum())return this.pairs;let c=new Array(r);c.push(l);try{return this.checkRows(c,o+1)}catch(d){this.verbose&&console.log(d)}}throw new X}static isValidSequence(r){for(let i of ee.FINDER_PATTERN_SEQUENCES){if(r.length>i.length)continue;let o=!0;for(let l=0;l<r.length;l++)if(r[l].getFinderPattern().getValue()!=i[l]){o=!1;break}if(o)return!0}return!1}storeRow(r,i){let o=0,l=!1,c=!1;for(;o<this.rows.length;){let d=this.rows[o];if(d.getRowNumber()>r){c=d.isEquivalent(this.pairs);break}l=d.isEquivalent(this.pairs),o++}c||l||ee.isPartialRow(this.pairs,this.rows)||(this.rows.push(o,new Cd(this.pairs,r,i)),this.removePartialRows(this.pairs,this.rows))}removePartialRows(r,i){for(let o of i)if(o.getPairs().length!==r.length){for(let l of o.getPairs())for(let c of r)if(xi.equals(l,c))break}}static isPartialRow(r,i){for(let o of i){let l=!0;for(let c of r){let d=!1;for(let f of o.getPairs())if(c.equals(f)){d=!0;break}if(!d){l=!1;break}}if(l)return!0}return!1}getRows(){return this.rows}static constructResult(r){let i=xE.buildBitArray(r),l=J0(i).parseInformation(),c=r[0].getFinderPattern().getResultPoints(),d=r[r.length-1].getFinderPattern().getResultPoints(),f=[c[0],c[1],d[0],d[1]];return new Fe(l,null,null,f,he.RSS_EXPANDED,null)}checkChecksum(){let r=this.pairs.get(0),i=r.getLeftChar(),o=r.getRightChar();if(o==null)return!1;let l=o.getChecksumPortion(),c=2;for(let f=1;f<this.pairs.size();++f){let p=this.pairs.get(f);l+=p.getLeftChar().getChecksumPortion(),c++;let y=p.getRightChar();y!=null&&(l+=y.getChecksumPortion(),c++)}return l%=211,211*(c-4)+l==i.getValue()}static getNextSecondBar(r,i){let o;return r.get(i)?(o=r.getNextUnset(i),o=r.getNextSet(o)):(o=r.getNextSet(i),o=r.getNextUnset(o)),o}retrieveNextPair(r,i,o){let l=i.length%2==0;this.startFromEven&&(l=!l);let c,d=!0,f=-1;do this.findNextPair(r,i,f),c=this.parseFoundFinderPattern(r,o,l),c==null?f=ee.getNextSecondBar(r,this.startEnd[0]):d=!1;while(d);let p=this.decodeDataCharacter(r,c,l,!0);if(!this.isEmptyPair(i)&&i[i.length-1].mustBeLast())throw new X;let y;try{y=this.decodeDataCharacter(r,c,l,!1)}catch(E){y=null,this.verbose&&console.log(E)}return new xi(p,y,c,!0)}isEmptyPair(r){return r.length===0}findNextPair(r,i,o){let l=this.getDecodeFinderCounters();l[0]=0,l[1]=0,l[2]=0,l[3]=0;let c=r.getSize(),d;o>=0?d=o:this.isEmptyPair(i)?d=0:d=i[i.length-1].getFinderPattern().getStartEnd()[1];let f=i.length%2!=0;this.startFromEven&&(f=!f);let p=!1;for(;d<c&&(p=!r.get(d),!!p);)d++;let y=0,E=d;for(let T=d;T<c;T++)if(r.get(T)!=p)l[y]++;else{if(y==3){if(f&&ee.reverseCounters(l),ee.isFinderPattern(l)){this.startEnd[0]=E,this.startEnd[1]=T;return}f&&ee.reverseCounters(l),E+=l[0]+l[1],l[0]=l[2],l[1]=l[3],l[2]=0,l[3]=0,y--}else y++;l[y]=1,p=!p}throw new X}static reverseCounters(r){let i=r.length;for(let o=0;o<i/2;++o){let l=r[o];r[o]=r[i-o-1],r[i-o-1]=l}}parseFoundFinderPattern(r,i,o){let l,c,d;if(o){let y=this.startEnd[0]-1;for(;y>=0&&!r.get(y);)y--;y++,l=this.startEnd[0]-y,c=y,d=this.startEnd[1]}else c=this.startEnd[0],d=r.getNextUnset(this.startEnd[1]+1),l=d-this.startEnd[1];let f=this.getDecodeFinderCounters();S.arraycopy(f,0,f,1,f.length-1),f[0]=l;let p;try{p=this.parseFinderValue(f,ee.FINDER_PATTERNS)}catch{return null}return new Kl(p,[c,d],c,d,i)}decodeDataCharacter(r,i,o,l){let c=this.getDataCharacterCounters();for(let ut=0;ut<c.length;ut++)c[ut]=0;if(l)ee.recordPatternInReverse(r,i.getStartEnd()[0],c);else{ee.recordPattern(r,i.getStartEnd()[1],c);for(let ut=0,$t=c.length-1;ut<$t;ut++,$t--){let Fn=c[ut];c[ut]=c[$t],c[$t]=Fn}}let d=17,f=je.sum(new Int32Array(c))/d,p=(i.getStartEnd()[1]-i.getStartEnd()[0])/15;if(Math.abs(f-p)/p>.3)throw new X;let y=this.getOddCounts(),E=this.getEvenCounts(),T=this.getOddRoundingErrors(),M=this.getEvenRoundingErrors();for(let ut=0;ut<c.length;ut++){let $t=1*c[ut]/f,Fn=$t+.5;if(Fn<1){if($t<.3)throw new X;Fn=1}else if(Fn>8){if($t>8.7)throw new X;Fn=8}let oo=ut/2;ut&1?(E[oo]=Fn,M[oo]=$t-Fn):(y[oo]=Fn,T[oo]=$t-Fn)}this.adjustOddEvenCounts(d);let L=4*i.getValue()+(o?0:2)+(l?0:1)-1,j=0,V=0;for(let ut=y.length-1;ut>=0;ut--){if(ee.isNotA1left(i,o,l)){let $t=ee.WEIGHTS[L][2*ut];V+=y[ut]*$t}j+=y[ut]}let Y=0;for(let ut=E.length-1;ut>=0;ut--)if(ee.isNotA1left(i,o,l)){let $t=ee.WEIGHTS[L][2*ut+1];Y+=E[ut]*$t}let q=V+Y;if(j&1||j>13||j<4)throw new X;let se=(13-j)/2,oe=ee.SYMBOL_WIDEST[se],ne=9-oe,Ve=Ir.getRSSvalue(y,oe,!0),Me=Ir.getRSSvalue(E,ne,!1),In=ee.EVEN_TOTAL_SUBSET[se],fr=ee.GSUM[se],Tn=Ve*In+Me+fr;return new Js(Tn,q)}static isNotA1left(r,i,o){return!(r.getValue()==0&&i&&o)}adjustOddEvenCounts(r){let i=je.sum(new Int32Array(this.getOddCounts())),o=je.sum(new Int32Array(this.getEvenCounts())),l=!1,c=!1;i>13?c=!0:i<4&&(l=!0);let d=!1,f=!1;o>13?f=!0:o<4&&(d=!0);let p=i+o-r,y=(i&1)==1,E=(o&1)==0;if(p==1)if(y){if(E)throw new X;c=!0}else{if(!E)throw new X;f=!0}else if(p==-1)if(y){if(E)throw new X;l=!0}else{if(!E)throw new X;d=!0}else if(p==0){if(y){if(!E)throw new X;i<o?(l=!0,f=!0):(c=!0,d=!0)}else if(E)throw new X}else throw new X;if(l){if(c)throw new X;ee.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(c&&ee.decrement(this.getOddCounts(),this.getOddRoundingErrors()),d){if(f)throw new X;ee.increment(this.getEvenCounts(),this.getOddRoundingErrors())}f&&ee.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}ee.SYMBOL_WIDEST=[7,5,4,3,1],ee.EVEN_TOTAL_SUBSET=[4,20,52,104,204],ee.GSUM=[0,348,1388,2948,3988],ee.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],ee.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],ee.FINDER_PAT_A=0,ee.FINDER_PAT_B=1,ee.FINDER_PAT_C=2,ee.FINDER_PAT_D=3,ee.FINDER_PAT_E=4,ee.FINDER_PAT_F=5,ee.FINDER_PATTERN_SEQUENCES=[[ee.FINDER_PAT_A,ee.FINDER_PAT_A],[ee.FINDER_PAT_A,ee.FINDER_PAT_B,ee.FINDER_PAT_B],[ee.FINDER_PAT_A,ee.FINDER_PAT_C,ee.FINDER_PAT_B,ee.FINDER_PAT_D],[ee.FINDER_PAT_A,ee.FINDER_PAT_E,ee.FINDER_PAT_B,ee.FINDER_PAT_D,ee.FINDER_PAT_C],[ee.FINDER_PAT_A,ee.FINDER_PAT_E,ee.FINDER_PAT_B,ee.FINDER_PAT_D,ee.FINDER_PAT_D,ee.FINDER_PAT_F],[ee.FINDER_PAT_A,ee.FINDER_PAT_E,ee.FINDER_PAT_B,ee.FINDER_PAT_D,ee.FINDER_PAT_E,ee.FINDER_PAT_F,ee.FINDER_PAT_F],[ee.FINDER_PAT_A,ee.FINDER_PAT_A,ee.FINDER_PAT_B,ee.FINDER_PAT_B,ee.FINDER_PAT_C,ee.FINDER_PAT_C,ee.FINDER_PAT_D,ee.FINDER_PAT_D],[ee.FINDER_PAT_A,ee.FINDER_PAT_A,ee.FINDER_PAT_B,ee.FINDER_PAT_B,ee.FINDER_PAT_C,ee.FINDER_PAT_C,ee.FINDER_PAT_D,ee.FINDER_PAT_E,ee.FINDER_PAT_E],[ee.FINDER_PAT_A,ee.FINDER_PAT_A,ee.FINDER_PAT_B,ee.FINDER_PAT_B,ee.FINDER_PAT_C,ee.FINDER_PAT_C,ee.FINDER_PAT_D,ee.FINDER_PAT_E,ee.FINDER_PAT_F,ee.FINDER_PAT_F],[ee.FINDER_PAT_A,ee.FINDER_PAT_A,ee.FINDER_PAT_B,ee.FINDER_PAT_B,ee.FINDER_PAT_C,ee.FINDER_PAT_D,ee.FINDER_PAT_D,ee.FINDER_PAT_E,ee.FINDER_PAT_E,ee.FINDER_PAT_F,ee.FINDER_PAT_F]],ee.MAX_PAIRS=11;class vE extends Js{constructor(r,i,o){super(r,i),this.count=0,this.finderPattern=o}getFinderPattern(){return this.finderPattern}getCount(){return this.count}incrementCount(){this.count++}}class Rt extends rn{constructor(){super(...arguments),this.possibleLeftPairs=[],this.possibleRightPairs=[]}decodeRow(r,i,o){const l=this.decodePair(i,!1,r,o);Rt.addOrTally(this.possibleLeftPairs,l),i.reverse();let c=this.decodePair(i,!0,r,o);Rt.addOrTally(this.possibleRightPairs,c),i.reverse();for(let d of this.possibleLeftPairs)if(d.getCount()>1){for(let f of this.possibleRightPairs)if(f.getCount()>1&&Rt.checkChecksum(d,f))return Rt.constructResult(d,f)}throw new X}static addOrTally(r,i){if(i==null)return;let o=!1;for(let l of r)if(l.getValue()===i.getValue()){l.incrementCount(),o=!0;break}o||r.push(i)}reset(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0}static constructResult(r,i){let o=4537077*r.getValue()+i.getValue(),l=new String(o).toString(),c=new fe;for(let y=13-l.length;y>0;y--)c.append("0");c.append(l);let d=0;for(let y=0;y<13;y++){let E=c.charAt(y).charCodeAt(0)-48;d+=y&1?E:3*E}d=10-d%10,d===10&&(d=0),c.append(d.toString());let f=r.getFinderPattern().getResultPoints(),p=i.getFinderPattern().getResultPoints();return new Fe(c.toString(),null,0,[f[0],f[1],p[0],p[1]],he.RSS_14,new Date().getTime())}static checkChecksum(r,i){let o=(r.getChecksumPortion()+16*i.getChecksumPortion())%79,l=9*r.getFinderPattern().getValue()+i.getFinderPattern().getValue();return l>72&&l--,l>8&&l--,o===l}decodePair(r,i,o,l){try{let c=this.findFinderPattern(r,i),d=this.parseFoundFinderPattern(r,o,i,c),f=l==null?null:l.get(z.NEED_RESULT_POINT_CALLBACK);if(f!=null){let E=(c[0]+c[1])/2;i&&(E=r.getSize()-1-E),f.foundPossibleResultPoint(new ye(E,o))}let p=this.decodeDataCharacter(r,d,!0),y=this.decodeDataCharacter(r,d,!1);return new vE(1597*p.getValue()+y.getValue(),p.getChecksumPortion()+4*y.getChecksumPortion(),d)}catch{return null}}decodeDataCharacter(r,i,o){let l=this.getDataCharacterCounters();for(let Y=0;Y<l.length;Y++)l[Y]=0;if(o)Lt.recordPatternInReverse(r,i.getStartEnd()[0],l);else{Lt.recordPattern(r,i.getStartEnd()[1]+1,l);for(let Y=0,q=l.length-1;Y<q;Y++,q--){let se=l[Y];l[Y]=l[q],l[q]=se}}let c=o?16:15,d=je.sum(new Int32Array(l))/c,f=this.getOddCounts(),p=this.getEvenCounts(),y=this.getOddRoundingErrors(),E=this.getEvenRoundingErrors();for(let Y=0;Y<l.length;Y++){let q=l[Y]/d,se=Math.floor(q+.5);se<1?se=1:se>8&&(se=8);let oe=Math.floor(Y/2);Y&1?(p[oe]=se,E[oe]=q-se):(f[oe]=se,y[oe]=q-se)}this.adjustOddEvenCounts(o,c);let T=0,M=0;for(let Y=f.length-1;Y>=0;Y--)M*=9,M+=f[Y],T+=f[Y];let L=0,j=0;for(let Y=p.length-1;Y>=0;Y--)L*=9,L+=p[Y],j+=p[Y];let V=M+3*L;if(o){if(T&1||T>12||T<4)throw new X;let Y=(12-T)/2,q=Rt.OUTSIDE_ODD_WIDEST[Y],se=9-q,oe=Ir.getRSSvalue(f,q,!1),ne=Ir.getRSSvalue(p,se,!0),Ve=Rt.OUTSIDE_EVEN_TOTAL_SUBSET[Y],Me=Rt.OUTSIDE_GSUM[Y];return new Js(oe*Ve+ne+Me,V)}else{if(j&1||j>10||j<4)throw new X;let Y=(10-j)/2,q=Rt.INSIDE_ODD_WIDEST[Y],se=9-q,oe=Ir.getRSSvalue(f,q,!0),ne=Ir.getRSSvalue(p,se,!1),Ve=Rt.INSIDE_ODD_TOTAL_SUBSET[Y],Me=Rt.INSIDE_GSUM[Y];return new Js(ne*Ve+oe+Me,V)}}findFinderPattern(r,i){let o=this.getDecodeFinderCounters();o[0]=0,o[1]=0,o[2]=0,o[3]=0;let l=r.getSize(),c=!1,d=0;for(;d<l&&(c=!r.get(d),i!==c);)d++;let f=0,p=d;for(let y=d;y<l;y++)if(r.get(y)!==c)o[f]++;else{if(f===3){if(rn.isFinderPattern(o))return[p,y];p+=o[0]+o[1],o[0]=o[2],o[1]=o[3],o[2]=0,o[3]=0,f--}else f++;o[f]=1,c=!c}throw new X}parseFoundFinderPattern(r,i,o,l){let c=r.get(l[0]),d=l[0]-1;for(;d>=0&&c!==r.get(d);)d--;d++;const f=l[0]-d,p=this.getDecodeFinderCounters(),y=new Int32Array(p.length);S.arraycopy(p,0,y,1,p.length-1),y[0]=f;const E=this.parseFinderValue(y,Rt.FINDER_PATTERNS);let T=d,M=l[1];return o&&(T=r.getSize()-1-T,M=r.getSize()-1-M),new Kl(E,[d,l[1]],T,M,i)}adjustOddEvenCounts(r,i){let o=je.sum(new Int32Array(this.getOddCounts())),l=je.sum(new Int32Array(this.getEvenCounts())),c=!1,d=!1,f=!1,p=!1;r?(o>12?d=!0:o<4&&(c=!0),l>12?p=!0:l<4&&(f=!0)):(o>11?d=!0:o<5&&(c=!0),l>10?p=!0:l<4&&(f=!0));let y=o+l-i,E=(o&1)===(r?1:0),T=(l&1)===1;if(y===1)if(E){if(T)throw new X;d=!0}else{if(!T)throw new X;p=!0}else if(y===-1)if(E){if(T)throw new X;c=!0}else{if(!T)throw new X;f=!0}else if(y===0){if(E){if(!T)throw new X;o<l?(c=!0,p=!0):(d=!0,f=!0)}else if(T)throw new X}else throw new X;if(c){if(d)throw new X;rn.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(d&&rn.decrement(this.getOddCounts(),this.getOddRoundingErrors()),f){if(p)throw new X;rn.increment(this.getEvenCounts(),this.getOddRoundingErrors())}p&&rn.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}Rt.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],Rt.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],Rt.OUTSIDE_GSUM=[0,161,961,2015,2715],Rt.INSIDE_GSUM=[0,336,1036,1516],Rt.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],Rt.INSIDE_ODD_WIDEST=[2,4,6,8],Rt.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])];class no extends Lt{constructor(r,i){super(),this.readers=[],this.verbose=i===!0;const o=r?r.get(z.POSSIBLE_FORMATS):null,l=r&&r.get(z.ASSUME_CODE_39_CHECK_DIGIT)!==void 0;o?((o.includes(he.EAN_13)||o.includes(he.UPC_A)||o.includes(he.EAN_8)||o.includes(he.UPC_E))&&this.readers.push(new wd(r)),o.includes(he.CODE_39)&&this.readers.push(new Bt(l)),o.includes(he.CODE_128)&&this.readers.push(new ue),o.includes(he.ITF)&&this.readers.push(new lt),o.includes(he.RSS_14)&&this.readers.push(new Rt),o.includes(he.RSS_EXPANDED)&&this.readers.push(new ee(this.verbose))):(this.readers.push(new wd(r)),this.readers.push(new Bt),this.readers.push(new wd(r)),this.readers.push(new ue),this.readers.push(new lt),this.readers.push(new Rt),this.readers.push(new ee(this.verbose)))}decodeRow(r,i,o){for(let l=0;l<this.readers.length;l++)try{return this.readers[l].decodeRow(r,i,o)}catch{}throw new X}reset(){this.readers.forEach(r=>r.reset())}}class CE extends at{constructor(r=500,i){super(new no(i),r,i)}}class Ze{constructor(r,i,o){this.ecCodewords=r,this.ecBlocks=[i],o&&this.ecBlocks.push(o)}getECCodewords(){return this.ecCodewords}getECBlocks(){return this.ecBlocks}}class qe{constructor(r,i){this.count=r,this.dataCodewords=i}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class He{constructor(r,i,o,l,c,d){this.versionNumber=r,this.symbolSizeRows=i,this.symbolSizeColumns=o,this.dataRegionSizeRows=l,this.dataRegionSizeColumns=c,this.ecBlocks=d;let f=0;const p=d.getECCodewords(),y=d.getECBlocks();for(let E of y)f+=E.getCount()*(E.getDataCodewords()+p);this.totalCodewords=f}getVersionNumber(){return this.versionNumber}getSymbolSizeRows(){return this.symbolSizeRows}getSymbolSizeColumns(){return this.symbolSizeColumns}getDataRegionSizeRows(){return this.dataRegionSizeRows}getDataRegionSizeColumns(){return this.dataRegionSizeColumns}getTotalCodewords(){return this.totalCodewords}getECBlocks(){return this.ecBlocks}static getVersionForDimensions(r,i){if(r&1||i&1)throw new B;for(let o of He.VERSIONS)if(o.symbolSizeRows===r&&o.symbolSizeColumns===i)return o;throw new B}toString(){return""+this.versionNumber}static buildVersions(){return[new He(1,10,10,8,8,new Ze(5,new qe(1,3))),new He(2,12,12,10,10,new Ze(7,new qe(1,5))),new He(3,14,14,12,12,new Ze(10,new qe(1,8))),new He(4,16,16,14,14,new Ze(12,new qe(1,12))),new He(5,18,18,16,16,new Ze(14,new qe(1,18))),new He(6,20,20,18,18,new Ze(18,new qe(1,22))),new He(7,22,22,20,20,new Ze(20,new qe(1,30))),new He(8,24,24,22,22,new Ze(24,new qe(1,36))),new He(9,26,26,24,24,new Ze(28,new qe(1,44))),new He(10,32,32,14,14,new Ze(36,new qe(1,62))),new He(11,36,36,16,16,new Ze(42,new qe(1,86))),new He(12,40,40,18,18,new Ze(48,new qe(1,114))),new He(13,44,44,20,20,new Ze(56,new qe(1,144))),new He(14,48,48,22,22,new Ze(68,new qe(1,174))),new He(15,52,52,24,24,new Ze(42,new qe(2,102))),new He(16,64,64,14,14,new Ze(56,new qe(2,140))),new He(17,72,72,16,16,new Ze(36,new qe(4,92))),new He(18,80,80,18,18,new Ze(48,new qe(4,114))),new He(19,88,88,20,20,new Ze(56,new qe(4,144))),new He(20,96,96,22,22,new Ze(68,new qe(4,174))),new He(21,104,104,24,24,new Ze(56,new qe(6,136))),new He(22,120,120,18,18,new Ze(68,new qe(6,175))),new He(23,132,132,20,20,new Ze(62,new qe(8,163))),new He(24,144,144,22,22,new Ze(62,new qe(8,156),new qe(2,155))),new He(25,8,18,6,16,new Ze(7,new qe(1,5))),new He(26,8,32,6,14,new Ze(11,new qe(1,10))),new He(27,12,26,10,24,new Ze(14,new qe(1,16))),new He(28,12,36,10,16,new Ze(18,new qe(1,22))),new He(29,16,36,14,16,new Ze(24,new qe(1,32))),new He(30,16,48,14,22,new Ze(28,new qe(1,49)))]}}He.VERSIONS=He.buildVersions();class Ed{constructor(r){const i=r.getHeight();if(i<8||i>144||i&1)throw new B;this.version=Ed.readVersion(r),this.mappingBitMatrix=this.extractDataRegion(r),this.readMappingMatrix=new te(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}getVersion(){return this.version}static readVersion(r){const i=r.getHeight(),o=r.getWidth();return He.getVersionForDimensions(i,o)}readCodewords(){const r=new Int8Array(this.version.getTotalCodewords());let i=0,o=4,l=0;const c=this.mappingBitMatrix.getHeight(),d=this.mappingBitMatrix.getWidth();let f=!1,p=!1,y=!1,E=!1;do if(o===c&&l===0&&!f)r[i++]=this.readCorner1(c,d)&255,o-=2,l+=2,f=!0;else if(o===c-2&&l===0&&d&3&&!p)r[i++]=this.readCorner2(c,d)&255,o-=2,l+=2,p=!0;else if(o===c+4&&l===2&&!(d&7)&&!y)r[i++]=this.readCorner3(c,d)&255,o-=2,l+=2,y=!0;else if(o===c-2&&l===0&&(d&7)===4&&!E)r[i++]=this.readCorner4(c,d)&255,o-=2,l+=2,E=!0;else{do o<c&&l>=0&&!this.readMappingMatrix.get(l,o)&&(r[i++]=this.readUtah(o,l,c,d)&255),o-=2,l+=2;while(o>=0&&l<d);o+=1,l+=3;do o>=0&&l<d&&!this.readMappingMatrix.get(l,o)&&(r[i++]=this.readUtah(o,l,c,d)&255),o+=2,l-=2;while(o<c&&l>=0);o+=3,l+=1}while(o<c||l<d);if(i!==this.version.getTotalCodewords())throw new B;return r}readModule(r,i,o,l){return r<0&&(r+=o,i+=4-(o+4&7)),i<0&&(i+=l,r+=4-(l+4&7)),this.readMappingMatrix.set(i,r),this.mappingBitMatrix.get(i,r)}readUtah(r,i,o,l){let c=0;return this.readModule(r-2,i-2,o,l)&&(c|=1),c<<=1,this.readModule(r-2,i-1,o,l)&&(c|=1),c<<=1,this.readModule(r-1,i-2,o,l)&&(c|=1),c<<=1,this.readModule(r-1,i-1,o,l)&&(c|=1),c<<=1,this.readModule(r-1,i,o,l)&&(c|=1),c<<=1,this.readModule(r,i-2,o,l)&&(c|=1),c<<=1,this.readModule(r,i-1,o,l)&&(c|=1),c<<=1,this.readModule(r,i,o,l)&&(c|=1),c}readCorner1(r,i){let o=0;return this.readModule(r-1,0,r,i)&&(o|=1),o<<=1,this.readModule(r-1,1,r,i)&&(o|=1),o<<=1,this.readModule(r-1,2,r,i)&&(o|=1),o<<=1,this.readModule(0,i-2,r,i)&&(o|=1),o<<=1,this.readModule(0,i-1,r,i)&&(o|=1),o<<=1,this.readModule(1,i-1,r,i)&&(o|=1),o<<=1,this.readModule(2,i-1,r,i)&&(o|=1),o<<=1,this.readModule(3,i-1,r,i)&&(o|=1),o}readCorner2(r,i){let o=0;return this.readModule(r-3,0,r,i)&&(o|=1),o<<=1,this.readModule(r-2,0,r,i)&&(o|=1),o<<=1,this.readModule(r-1,0,r,i)&&(o|=1),o<<=1,this.readModule(0,i-4,r,i)&&(o|=1),o<<=1,this.readModule(0,i-3,r,i)&&(o|=1),o<<=1,this.readModule(0,i-2,r,i)&&(o|=1),o<<=1,this.readModule(0,i-1,r,i)&&(o|=1),o<<=1,this.readModule(1,i-1,r,i)&&(o|=1),o}readCorner3(r,i){let o=0;return this.readModule(r-1,0,r,i)&&(o|=1),o<<=1,this.readModule(r-1,i-1,r,i)&&(o|=1),o<<=1,this.readModule(0,i-3,r,i)&&(o|=1),o<<=1,this.readModule(0,i-2,r,i)&&(o|=1),o<<=1,this.readModule(0,i-1,r,i)&&(o|=1),o<<=1,this.readModule(1,i-3,r,i)&&(o|=1),o<<=1,this.readModule(1,i-2,r,i)&&(o|=1),o<<=1,this.readModule(1,i-1,r,i)&&(o|=1),o}readCorner4(r,i){let o=0;return this.readModule(r-3,0,r,i)&&(o|=1),o<<=1,this.readModule(r-2,0,r,i)&&(o|=1),o<<=1,this.readModule(r-1,0,r,i)&&(o|=1),o<<=1,this.readModule(0,i-2,r,i)&&(o|=1),o<<=1,this.readModule(0,i-1,r,i)&&(o|=1),o<<=1,this.readModule(1,i-1,r,i)&&(o|=1),o<<=1,this.readModule(2,i-1,r,i)&&(o|=1),o<<=1,this.readModule(3,i-1,r,i)&&(o|=1),o}extractDataRegion(r){const i=this.version.getSymbolSizeRows(),o=this.version.getSymbolSizeColumns();if(r.getHeight()!==i)throw new v("Dimension of bitMatrix must match the version size");const l=this.version.getDataRegionSizeRows(),c=this.version.getDataRegionSizeColumns(),d=i/l|0,f=o/c|0,p=d*l,y=f*c,E=new te(y,p);for(let T=0;T<d;++T){const M=T*l;for(let L=0;L<f;++L){const j=L*c;for(let V=0;V<l;++V){const Y=T*(l+2)+1+V,q=M+V;for(let se=0;se<c;++se){const oe=L*(c+2)+1+se;if(r.get(oe,Y)){const ne=j+se;E.set(ne,q)}}}}}return E}}class Ad{constructor(r,i){this.numDataCodewords=r,this.codewords=i}static getDataBlocks(r,i){const o=i.getECBlocks();let l=0;const c=o.getECBlocks();for(let V of c)l+=V.getCount();const d=new Array(l);let f=0;for(let V of c)for(let Y=0;Y<V.getCount();Y++){const q=V.getDataCodewords(),se=o.getECCodewords()+q;d[f++]=new Ad(q,new Uint8Array(se))}const y=d[0].codewords.length-o.getECCodewords(),E=y-1;let T=0;for(let V=0;V<E;V++)for(let Y=0;Y<f;Y++)d[Y].codewords[V]=r[T++];const M=i.getVersionNumber()===24,L=M?8:f;for(let V=0;V<L;V++)d[V].codewords[y-1]=r[T++];const j=d[0].codewords.length;for(let V=y;V<j;V++)for(let Y=0;Y<f;Y++){const q=M?(Y+8)%f:Y,se=M&&q>7?V-1:V;d[q].codewords[se]=r[T++]}if(T!==r.length)throw new v;return d}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}class Sd{constructor(r){this.bytes=r,this.byteOffset=0,this.bitOffset=0}getBitOffset(){return this.bitOffset}getByteOffset(){return this.byteOffset}readBits(r){if(r<1||r>32||r>this.available())throw new v(""+r);let i=0,o=this.bitOffset,l=this.byteOffset;const c=this.bytes;if(o>0){const d=8-o,f=r<d?r:d,p=d-f,y=255>>8-f<<p;i=(c[l]&y)>>p,r-=f,o+=f,o===8&&(o=0,l++)}if(r>0){for(;r>=8;)i=i<<8|c[l]&255,l++,r-=8;if(r>0){const d=8-r,f=255>>d<<d;i=i<<r|(c[l]&f)>>d,o+=r}}return this.bitOffset=o,this.byteOffset=l,i}available(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset}}var jt;(function(N){N[N.PAD_ENCODE=0]="PAD_ENCODE",N[N.ASCII_ENCODE=1]="ASCII_ENCODE",N[N.C40_ENCODE=2]="C40_ENCODE",N[N.TEXT_ENCODE=3]="TEXT_ENCODE",N[N.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",N[N.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",N[N.BASE256_ENCODE=6]="BASE256_ENCODE"})(jt||(jt={}));class wi{static decode(r){const i=new Sd(r),o=new fe,l=new fe,c=new Array;let d=jt.ASCII_ENCODE;do if(d===jt.ASCII_ENCODE)d=this.decodeAsciiSegment(i,o,l);else{switch(d){case jt.C40_ENCODE:this.decodeC40Segment(i,o);break;case jt.TEXT_ENCODE:this.decodeTextSegment(i,o);break;case jt.ANSIX12_ENCODE:this.decodeAnsiX12Segment(i,o);break;case jt.EDIFACT_ENCODE:this.decodeEdifactSegment(i,o);break;case jt.BASE256_ENCODE:this.decodeBase256Segment(i,o,c);break;default:throw new B}d=jt.ASCII_ENCODE}while(d!==jt.PAD_ENCODE&&i.available()>0);return l.length()>0&&o.append(l.toString()),new Ke(r,o.toString(),c.length===0?null:c,null)}static decodeAsciiSegment(r,i,o){let l=!1;do{let c=r.readBits(8);if(c===0)throw new B;if(c<=128)return l&&(c+=128),i.append(String.fromCharCode(c-1)),jt.ASCII_ENCODE;if(c===129)return jt.PAD_ENCODE;if(c<=229){const d=c-130;d<10&&i.append("0"),i.append(""+d)}else switch(c){case 230:return jt.C40_ENCODE;case 231:return jt.BASE256_ENCODE;case 232:i.append("");break;case 233:case 234:break;case 235:l=!0;break;case 236:i.append("[)>05"),o.insert(0,"");break;case 237:i.append("[)>06"),o.insert(0,"");break;case 238:return jt.ANSIX12_ENCODE;case 239:return jt.TEXT_ENCODE;case 240:return jt.EDIFACT_ENCODE;case 241:break;default:if(c!==254||r.available()!==0)throw new B;break}}while(r.available()>0);return jt.ASCII_ENCODE}static decodeC40Segment(r,i){let o=!1;const l=[];let c=0;do{if(r.available()===8)return;const d=r.readBits(8);if(d===254)return;this.parseTwoBytes(d,r.readBits(8),l);for(let f=0;f<3;f++){const p=l[f];switch(c){case 0:if(p<3)c=p+1;else if(p<this.C40_BASIC_SET_CHARS.length){const y=this.C40_BASIC_SET_CHARS[p];o?(i.append(String.fromCharCode(y.charCodeAt(0)+128)),o=!1):i.append(y)}else throw new B;break;case 1:o?(i.append(String.fromCharCode(p+128)),o=!1):i.append(String.fromCharCode(p)),c=0;break;case 2:if(p<this.C40_SHIFT2_SET_CHARS.length){const y=this.C40_SHIFT2_SET_CHARS[p];o?(i.append(String.fromCharCode(y.charCodeAt(0)+128)),o=!1):i.append(y)}else switch(p){case 27:i.append("");break;case 30:o=!0;break;default:throw new B}c=0;break;case 3:o?(i.append(String.fromCharCode(p+224)),o=!1):i.append(String.fromCharCode(p+96)),c=0;break;default:throw new B}}}while(r.available()>0)}static decodeTextSegment(r,i){let o=!1,l=[],c=0;do{if(r.available()===8)return;const d=r.readBits(8);if(d===254)return;this.parseTwoBytes(d,r.readBits(8),l);for(let f=0;f<3;f++){const p=l[f];switch(c){case 0:if(p<3)c=p+1;else if(p<this.TEXT_BASIC_SET_CHARS.length){const y=this.TEXT_BASIC_SET_CHARS[p];o?(i.append(String.fromCharCode(y.charCodeAt(0)+128)),o=!1):i.append(y)}else throw new B;break;case 1:o?(i.append(String.fromCharCode(p+128)),o=!1):i.append(String.fromCharCode(p)),c=0;break;case 2:if(p<this.TEXT_SHIFT2_SET_CHARS.length){const y=this.TEXT_SHIFT2_SET_CHARS[p];o?(i.append(String.fromCharCode(y.charCodeAt(0)+128)),o=!1):i.append(y)}else switch(p){case 27:i.append("");break;case 30:o=!0;break;default:throw new B}c=0;break;case 3:if(p<this.TEXT_SHIFT3_SET_CHARS.length){const y=this.TEXT_SHIFT3_SET_CHARS[p];o?(i.append(String.fromCharCode(y.charCodeAt(0)+128)),o=!1):i.append(y),c=0}else throw new B;break;default:throw new B}}}while(r.available()>0)}static decodeAnsiX12Segment(r,i){const o=[];do{if(r.available()===8)return;const l=r.readBits(8);if(l===254)return;this.parseTwoBytes(l,r.readBits(8),o);for(let c=0;c<3;c++){const d=o[c];switch(d){case 0:i.append("\r");break;case 1:i.append("*");break;case 2:i.append(">");break;case 3:i.append(" ");break;default:if(d<14)i.append(String.fromCharCode(d+44));else if(d<40)i.append(String.fromCharCode(d+51));else throw new B;break}}}while(r.available()>0)}static parseTwoBytes(r,i,o){let l=(r<<8)+i-1,c=Math.floor(l/1600);o[0]=c,l-=c*1600,c=Math.floor(l/40),o[1]=c,o[2]=l-c*40}static decodeEdifactSegment(r,i){do{if(r.available()<=16)return;for(let o=0;o<4;o++){let l=r.readBits(6);if(l===31){const c=8-r.getBitOffset();c!==8&&r.readBits(c);return}l&32||(l|=64),i.append(String.fromCharCode(l))}}while(r.available()>0)}static decodeBase256Segment(r,i,o){let l=1+r.getByteOffset();const c=this.unrandomize255State(r.readBits(8),l++);let d;if(c===0?d=r.available()/8|0:c<250?d=c:d=250*(c-249)+this.unrandomize255State(r.readBits(8),l++),d<0)throw new B;const f=new Uint8Array(d);for(let p=0;p<d;p++){if(r.available()<8)throw new B;f[p]=this.unrandomize255State(r.readBits(8),l++)}o.push(f);try{i.append(de.decode(f,J.ISO88591))}catch(p){throw new nn("Platform does not support required encoding: "+p.message)}}static unrandomize255State(r,i){const o=149*i%255+1,l=r-o;return l>=0?l:l+256}}wi.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],wi.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],wi.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],wi.TEXT_SHIFT2_SET_CHARS=wi.C40_SHIFT2_SET_CHARS,wi.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",""];class EE{constructor(){this.rsDecoder=new cr(Re.DATA_MATRIX_FIELD_256)}decode(r){const i=new Ed(r),o=i.getVersion(),l=i.readCodewords(),c=Ad.getDataBlocks(l,o);let d=0;for(let y of c)d+=y.getNumDataCodewords();const f=new Uint8Array(d),p=c.length;for(let y=0;y<p;y++){const E=c[y],T=E.getCodewords(),M=E.getNumDataCodewords();this.correctErrors(T,M);for(let L=0;L<M;L++)f[L*p+y]=T[L]}return wi.decode(f)}correctErrors(r,i){const o=new Int32Array(r);try{this.rsDecoder.decode(o,r.length-i)}catch{throw new D}for(let l=0;l<i;l++)r[l]=o[l]}}class Pt{constructor(r){this.image=r,this.rectangleDetector=new Yr(this.image)}detect(){const r=this.rectangleDetector.detect();let i=this.detectSolid1(r);if(i=this.detectSolid2(i),i[3]=this.correctTopRight(i),!i[3])throw new X;i=this.shiftToModuleCenter(i);const o=i[0],l=i[1],c=i[2],d=i[3];let f=this.transitionsBetween(o,d)+1,p=this.transitionsBetween(c,d)+1;(f&1)===1&&(f+=1),(p&1)===1&&(p+=1),4*f<7*p&&4*p<7*f&&(f=p=Math.max(f,p));let y=Pt.sampleGrid(this.image,o,l,c,d,f,p);return new Xl(y,[o,l,c,d])}static shiftPoint(r,i,o){let l=(i.getX()-r.getX())/(o+1),c=(i.getY()-r.getY())/(o+1);return new ye(r.getX()+l,r.getY()+c)}static moveAway(r,i,o){let l=r.getX(),c=r.getY();return l<i?l-=1:l+=1,c<o?c-=1:c+=1,new ye(l,c)}detectSolid1(r){let i=r[0],o=r[1],l=r[3],c=r[2],d=this.transitionsBetween(i,o),f=this.transitionsBetween(o,l),p=this.transitionsBetween(l,c),y=this.transitionsBetween(c,i),E=d,T=[c,i,o,l];return E>f&&(E=f,T[0]=i,T[1]=o,T[2]=l,T[3]=c),E>p&&(E=p,T[0]=o,T[1]=l,T[2]=c,T[3]=i),E>y&&(T[0]=l,T[1]=c,T[2]=i,T[3]=o),T}detectSolid2(r){let i=r[0],o=r[1],l=r[2],c=r[3],d=this.transitionsBetween(i,c),f=Pt.shiftPoint(o,l,(d+1)*4),p=Pt.shiftPoint(l,o,(d+1)*4),y=this.transitionsBetween(f,i),E=this.transitionsBetween(p,c);return y<E?(r[0]=i,r[1]=o,r[2]=l,r[3]=c):(r[0]=o,r[1]=l,r[2]=c,r[3]=i),r}correctTopRight(r){let i=r[0],o=r[1],l=r[2],c=r[3],d=this.transitionsBetween(i,c),f=this.transitionsBetween(o,c),p=Pt.shiftPoint(i,o,(f+1)*4),y=Pt.shiftPoint(l,o,(d+1)*4);d=this.transitionsBetween(p,c),f=this.transitionsBetween(y,c);let E=new ye(c.getX()+(l.getX()-o.getX())/(d+1),c.getY()+(l.getY()-o.getY())/(d+1)),T=new ye(c.getX()+(i.getX()-o.getX())/(f+1),c.getY()+(i.getY()-o.getY())/(f+1));if(!this.isValid(E))return this.isValid(T)?T:null;if(!this.isValid(T))return E;let M=this.transitionsBetween(p,E)+this.transitionsBetween(y,E),L=this.transitionsBetween(p,T)+this.transitionsBetween(y,T);return M>L?E:T}shiftToModuleCenter(r){let i=r[0],o=r[1],l=r[2],c=r[3],d=this.transitionsBetween(i,c)+1,f=this.transitionsBetween(l,c)+1,p=Pt.shiftPoint(i,o,f*4),y=Pt.shiftPoint(l,o,d*4);d=this.transitionsBetween(p,c)+1,f=this.transitionsBetween(y,c)+1,(d&1)===1&&(d+=1),(f&1)===1&&(f+=1);let E=(i.getX()+o.getX()+l.getX()+c.getX())/4,T=(i.getY()+o.getY()+l.getY()+c.getY())/4;i=Pt.moveAway(i,E,T),o=Pt.moveAway(o,E,T),l=Pt.moveAway(l,E,T),c=Pt.moveAway(c,E,T);let M,L;return p=Pt.shiftPoint(i,o,f*4),p=Pt.shiftPoint(p,c,d*4),M=Pt.shiftPoint(o,i,f*4),M=Pt.shiftPoint(M,l,d*4),y=Pt.shiftPoint(l,c,f*4),y=Pt.shiftPoint(y,o,d*4),L=Pt.shiftPoint(c,l,f*4),L=Pt.shiftPoint(L,i,d*4),[p,M,y,L]}isValid(r){return r.getX()>=0&&r.getX()<this.image.getWidth()&&r.getY()>0&&r.getY()<this.image.getHeight()}static sampleGrid(r,i,o,l,c,d,f){return mi.getInstance().sampleGrid(r,d,f,.5,.5,d-.5,.5,d-.5,f-.5,.5,f-.5,i.getX(),i.getY(),c.getX(),c.getY(),l.getX(),l.getY(),o.getX(),o.getY())}transitionsBetween(r,i){let o=Math.trunc(r.getX()),l=Math.trunc(r.getY()),c=Math.trunc(i.getX()),d=Math.trunc(i.getY()),f=Math.abs(d-l)>Math.abs(c-o);if(f){let V=o;o=l,l=V,V=c,c=d,d=V}let p=Math.abs(c-o),y=Math.abs(d-l),E=-p/2,T=l<d?1:-1,M=o<c?1:-1,L=0,j=this.image.get(f?l:o,f?o:l);for(let V=o,Y=l;V!==c;V+=M){let q=this.image.get(f?Y:V,f?V:Y);if(q!==j&&(L++,j=q),E+=y,E>0){if(Y===d)break;Y+=T,E-=p}}return L}}class yi{constructor(){this.decoder=new EE}decode(r,i=null){let o,l;if(i!=null&&i.has(z.PURE_BARCODE)){const y=yi.extractPureBits(r.getBlackMatrix());o=this.decoder.decode(y),l=yi.NO_POINTS}else{const y=new Pt(r.getBlackMatrix()).detect();o=this.decoder.decode(y.getBits()),l=y.getPoints()}const c=o.getRawBytes(),d=new Fe(o.getText(),c,8*c.length,l,he.DATA_MATRIX,S.currentTimeMillis()),f=o.getByteSegments();f!=null&&d.putMetadata(Te.BYTE_SEGMENTS,f);const p=o.getECLevel();return p!=null&&d.putMetadata(Te.ERROR_CORRECTION_LEVEL,p),d}reset(){}static extractPureBits(r){const i=r.getTopLeftOnBit(),o=r.getBottomRightOnBit();if(i==null||o==null)throw new X;const l=this.moduleSize(i,r);let c=i[1];const d=o[1];let f=i[0];const y=(o[0]-f+1)/l,E=(d-c+1)/l;if(y<=0||E<=0)throw new X;const T=l/2;c+=T,f+=T;const M=new te(y,E);for(let L=0;L<E;L++){const j=c+L*l;for(let V=0;V<y;V++)r.get(f+V*l,j)&&M.set(V,L)}return M}static moduleSize(r,i){const o=i.getWidth();let l=r[0];const c=r[1];for(;l<o&&i.get(l,c);)l++;if(l===o)throw new X;const d=l-r[0];if(d===0)throw new X;return d}}yi.NO_POINTS=[];class AE extends at{constructor(r=500){super(new yi,r)}}var ro;(function(N){N[N.L=0]="L",N[N.M=1]="M",N[N.Q=2]="Q",N[N.H=3]="H"})(ro||(ro={}));class dt{constructor(r,i,o){this.value=r,this.stringValue=i,this.bits=o,dt.FOR_BITS.set(o,this),dt.FOR_VALUE.set(r,this)}getValue(){return this.value}getBits(){return this.bits}static fromString(r){switch(r){case"L":return dt.L;case"M":return dt.M;case"Q":return dt.Q;case"H":return dt.H;default:throw new C(r+"not available")}}toString(){return this.stringValue}equals(r){if(!(r instanceof dt))return!1;const i=r;return this.value===i.value}static forBits(r){if(r<0||r>=dt.FOR_BITS.size)throw new v;return dt.FOR_BITS.get(r)}}dt.FOR_BITS=new Map,dt.FOR_VALUE=new Map,dt.L=new dt(ro.L,"L",1),dt.M=new dt(ro.M,"M",0),dt.Q=new dt(ro.Q,"Q",3),dt.H=new dt(ro.H,"H",2);class sn{constructor(r){this.errorCorrectionLevel=dt.forBits(r>>3&3),this.dataMask=r&7}static numBitsDiffering(r,i){return R.bitCount(r^i)}static decodeFormatInformation(r,i){const o=sn.doDecodeFormatInformation(r,i);return o!==null?o:sn.doDecodeFormatInformation(r^sn.FORMAT_INFO_MASK_QR,i^sn.FORMAT_INFO_MASK_QR)}static doDecodeFormatInformation(r,i){let o=Number.MAX_SAFE_INTEGER,l=0;for(const c of sn.FORMAT_INFO_DECODE_LOOKUP){const d=c[0];if(d===r||d===i)return new sn(c[1]);let f=sn.numBitsDiffering(r,d);f<o&&(l=c[1],o=f),r!==i&&(f=sn.numBitsDiffering(i,d),f<o&&(l=c[1],o=f))}return o<=3?new sn(l):null}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getDataMask(){return this.dataMask}hashCode(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask}equals(r){if(!(r instanceof sn))return!1;const i=r;return this.errorCorrectionLevel===i.errorCorrectionLevel&&this.dataMask===i.dataMask}}sn.FORMAT_INFO_MASK_QR=21522,sn.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])];class K{constructor(r,...i){this.ecCodewordsPerBlock=r,this.ecBlocks=i}getECCodewordsPerBlock(){return this.ecCodewordsPerBlock}getNumBlocks(){let r=0;const i=this.ecBlocks;for(const o of i)r+=o.getCount();return r}getTotalECCodewords(){return this.ecCodewordsPerBlock*this.getNumBlocks()}getECBlocks(){return this.ecBlocks}}class k{constructor(r,i){this.count=r,this.dataCodewords=i}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class Ee{constructor(r,i,...o){this.versionNumber=r,this.alignmentPatternCenters=i,this.ecBlocks=o;let l=0;const c=o[0].getECCodewordsPerBlock(),d=o[0].getECBlocks();for(const f of d)l+=f.getCount()*(f.getDataCodewords()+c);this.totalCodewords=l}getVersionNumber(){return this.versionNumber}getAlignmentPatternCenters(){return this.alignmentPatternCenters}getTotalCodewords(){return this.totalCodewords}getDimensionForVersion(){return 17+4*this.versionNumber}getECBlocksForLevel(r){return this.ecBlocks[r.getValue()]}static getProvisionalVersionForDimension(r){if(r%4!==1)throw new B;try{return this.getVersionForNumber((r-17)/4)}catch{throw new B}}static getVersionForNumber(r){if(r<1||r>40)throw new v;return Ee.VERSIONS[r-1]}static decodeVersionInformation(r){let i=Number.MAX_SAFE_INTEGER,o=0;for(let l=0;l<Ee.VERSION_DECODE_INFO.length;l++){const c=Ee.VERSION_DECODE_INFO[l];if(c===r)return Ee.getVersionForNumber(l+7);const d=sn.numBitsDiffering(r,c);d<i&&(o=l+7,i=d)}return i<=3?Ee.getVersionForNumber(o):null}buildFunctionPattern(){const r=this.getDimensionForVersion(),i=new te(r);i.setRegion(0,0,9,9),i.setRegion(r-8,0,8,9),i.setRegion(0,r-8,9,8);const o=this.alignmentPatternCenters.length;for(let l=0;l<o;l++){const c=this.alignmentPatternCenters[l]-2;for(let d=0;d<o;d++)l===0&&(d===0||d===o-1)||l===o-1&&d===0||i.setRegion(this.alignmentPatternCenters[d]-2,c,5,5)}return i.setRegion(6,9,1,r-17),i.setRegion(9,6,r-17,1),this.versionNumber>6&&(i.setRegion(r-11,0,3,6),i.setRegion(0,r-11,6,3)),i}toString(){return""+this.versionNumber}}Ee.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),Ee.VERSIONS=[new Ee(1,new Int32Array(0),new K(7,new k(1,19)),new K(10,new k(1,16)),new K(13,new k(1,13)),new K(17,new k(1,9))),new Ee(2,Int32Array.from([6,18]),new K(10,new k(1,34)),new K(16,new k(1,28)),new K(22,new k(1,22)),new K(28,new k(1,16))),new Ee(3,Int32Array.from([6,22]),new K(15,new k(1,55)),new K(26,new k(1,44)),new K(18,new k(2,17)),new K(22,new k(2,13))),new Ee(4,Int32Array.from([6,26]),new K(20,new k(1,80)),new K(18,new k(2,32)),new K(26,new k(2,24)),new K(16,new k(4,9))),new Ee(5,Int32Array.from([6,30]),new K(26,new k(1,108)),new K(24,new k(2,43)),new K(18,new k(2,15),new k(2,16)),new K(22,new k(2,11),new k(2,12))),new Ee(6,Int32Array.from([6,34]),new K(18,new k(2,68)),new K(16,new k(4,27)),new K(24,new k(4,19)),new K(28,new k(4,15))),new Ee(7,Int32Array.from([6,22,38]),new K(20,new k(2,78)),new K(18,new k(4,31)),new K(18,new k(2,14),new k(4,15)),new K(26,new k(4,13),new k(1,14))),new Ee(8,Int32Array.from([6,24,42]),new K(24,new k(2,97)),new K(22,new k(2,38),new k(2,39)),new K(22,new k(4,18),new k(2,19)),new K(26,new k(4,14),new k(2,15))),new Ee(9,Int32Array.from([6,26,46]),new K(30,new k(2,116)),new K(22,new k(3,36),new k(2,37)),new K(20,new k(4,16),new k(4,17)),new K(24,new k(4,12),new k(4,13))),new Ee(10,Int32Array.from([6,28,50]),new K(18,new k(2,68),new k(2,69)),new K(26,new k(4,43),new k(1,44)),new K(24,new k(6,19),new k(2,20)),new K(28,new k(6,15),new k(2,16))),new Ee(11,Int32Array.from([6,30,54]),new K(20,new k(4,81)),new K(30,new k(1,50),new k(4,51)),new K(28,new k(4,22),new k(4,23)),new K(24,new k(3,12),new k(8,13))),new Ee(12,Int32Array.from([6,32,58]),new K(24,new k(2,92),new k(2,93)),new K(22,new k(6,36),new k(2,37)),new K(26,new k(4,20),new k(6,21)),new K(28,new k(7,14),new k(4,15))),new Ee(13,Int32Array.from([6,34,62]),new K(26,new k(4,107)),new K(22,new k(8,37),new k(1,38)),new K(24,new k(8,20),new k(4,21)),new K(22,new k(12,11),new k(4,12))),new Ee(14,Int32Array.from([6,26,46,66]),new K(30,new k(3,115),new k(1,116)),new K(24,new k(4,40),new k(5,41)),new K(20,new k(11,16),new k(5,17)),new K(24,new k(11,12),new k(5,13))),new Ee(15,Int32Array.from([6,26,48,70]),new K(22,new k(5,87),new k(1,88)),new K(24,new k(5,41),new k(5,42)),new K(30,new k(5,24),new k(7,25)),new K(24,new k(11,12),new k(7,13))),new Ee(16,Int32Array.from([6,26,50,74]),new K(24,new k(5,98),new k(1,99)),new K(28,new k(7,45),new k(3,46)),new K(24,new k(15,19),new k(2,20)),new K(30,new k(3,15),new k(13,16))),new Ee(17,Int32Array.from([6,30,54,78]),new K(28,new k(1,107),new k(5,108)),new K(28,new k(10,46),new k(1,47)),new K(28,new k(1,22),new k(15,23)),new K(28,new k(2,14),new k(17,15))),new Ee(18,Int32Array.from([6,30,56,82]),new K(30,new k(5,120),new k(1,121)),new K(26,new k(9,43),new k(4,44)),new K(28,new k(17,22),new k(1,23)),new K(28,new k(2,14),new k(19,15))),new Ee(19,Int32Array.from([6,30,58,86]),new K(28,new k(3,113),new k(4,114)),new K(26,new k(3,44),new k(11,45)),new K(26,new k(17,21),new k(4,22)),new K(26,new k(9,13),new k(16,14))),new Ee(20,Int32Array.from([6,34,62,90]),new K(28,new k(3,107),new k(5,108)),new K(26,new k(3,41),new k(13,42)),new K(30,new k(15,24),new k(5,25)),new K(28,new k(15,15),new k(10,16))),new Ee(21,Int32Array.from([6,28,50,72,94]),new K(28,new k(4,116),new k(4,117)),new K(26,new k(17,42)),new K(28,new k(17,22),new k(6,23)),new K(30,new k(19,16),new k(6,17))),new Ee(22,Int32Array.from([6,26,50,74,98]),new K(28,new k(2,111),new k(7,112)),new K(28,new k(17,46)),new K(30,new k(7,24),new k(16,25)),new K(24,new k(34,13))),new Ee(23,Int32Array.from([6,30,54,78,102]),new K(30,new k(4,121),new k(5,122)),new K(28,new k(4,47),new k(14,48)),new K(30,new k(11,24),new k(14,25)),new K(30,new k(16,15),new k(14,16))),new Ee(24,Int32Array.from([6,28,54,80,106]),new K(30,new k(6,117),new k(4,118)),new K(28,new k(6,45),new k(14,46)),new K(30,new k(11,24),new k(16,25)),new K(30,new k(30,16),new k(2,17))),new Ee(25,Int32Array.from([6,32,58,84,110]),new K(26,new k(8,106),new k(4,107)),new K(28,new k(8,47),new k(13,48)),new K(30,new k(7,24),new k(22,25)),new K(30,new k(22,15),new k(13,16))),new Ee(26,Int32Array.from([6,30,58,86,114]),new K(28,new k(10,114),new k(2,115)),new K(28,new k(19,46),new k(4,47)),new K(28,new k(28,22),new k(6,23)),new K(30,new k(33,16),new k(4,17))),new Ee(27,Int32Array.from([6,34,62,90,118]),new K(30,new k(8,122),new k(4,123)),new K(28,new k(22,45),new k(3,46)),new K(30,new k(8,23),new k(26,24)),new K(30,new k(12,15),new k(28,16))),new Ee(28,Int32Array.from([6,26,50,74,98,122]),new K(30,new k(3,117),new k(10,118)),new K(28,new k(3,45),new k(23,46)),new K(30,new k(4,24),new k(31,25)),new K(30,new k(11,15),new k(31,16))),new Ee(29,Int32Array.from([6,30,54,78,102,126]),new K(30,new k(7,116),new k(7,117)),new K(28,new k(21,45),new k(7,46)),new K(30,new k(1,23),new k(37,24)),new K(30,new k(19,15),new k(26,16))),new Ee(30,Int32Array.from([6,26,52,78,104,130]),new K(30,new k(5,115),new k(10,116)),new K(28,new k(19,47),new k(10,48)),new K(30,new k(15,24),new k(25,25)),new K(30,new k(23,15),new k(25,16))),new Ee(31,Int32Array.from([6,30,56,82,108,134]),new K(30,new k(13,115),new k(3,116)),new K(28,new k(2,46),new k(29,47)),new K(30,new k(42,24),new k(1,25)),new K(30,new k(23,15),new k(28,16))),new Ee(32,Int32Array.from([6,34,60,86,112,138]),new K(30,new k(17,115)),new K(28,new k(10,46),new k(23,47)),new K(30,new k(10,24),new k(35,25)),new K(30,new k(19,15),new k(35,16))),new Ee(33,Int32Array.from([6,30,58,86,114,142]),new K(30,new k(17,115),new k(1,116)),new K(28,new k(14,46),new k(21,47)),new K(30,new k(29,24),new k(19,25)),new K(30,new k(11,15),new k(46,16))),new Ee(34,Int32Array.from([6,34,62,90,118,146]),new K(30,new k(13,115),new k(6,116)),new K(28,new k(14,46),new k(23,47)),new K(30,new k(44,24),new k(7,25)),new K(30,new k(59,16),new k(1,17))),new Ee(35,Int32Array.from([6,30,54,78,102,126,150]),new K(30,new k(12,121),new k(7,122)),new K(28,new k(12,47),new k(26,48)),new K(30,new k(39,24),new k(14,25)),new K(30,new k(22,15),new k(41,16))),new Ee(36,Int32Array.from([6,24,50,76,102,128,154]),new K(30,new k(6,121),new k(14,122)),new K(28,new k(6,47),new k(34,48)),new K(30,new k(46,24),new k(10,25)),new K(30,new k(2,15),new k(64,16))),new Ee(37,Int32Array.from([6,28,54,80,106,132,158]),new K(30,new k(17,122),new k(4,123)),new K(28,new k(29,46),new k(14,47)),new K(30,new k(49,24),new k(10,25)),new K(30,new k(24,15),new k(46,16))),new Ee(38,Int32Array.from([6,32,58,84,110,136,162]),new K(30,new k(4,122),new k(18,123)),new K(28,new k(13,46),new k(32,47)),new K(30,new k(48,24),new k(14,25)),new K(30,new k(42,15),new k(32,16))),new Ee(39,Int32Array.from([6,26,54,82,110,138,166]),new K(30,new k(20,117),new k(4,118)),new K(28,new k(40,47),new k(7,48)),new K(30,new k(43,24),new k(22,25)),new K(30,new k(10,15),new k(67,16))),new Ee(40,Int32Array.from([6,30,58,86,114,142,170]),new K(30,new k(19,118),new k(6,119)),new K(28,new k(18,47),new k(31,48)),new K(30,new k(34,24),new k(34,25)),new K(30,new k(20,15),new k(61,16)))];var zt;(function(N){N[N.DATA_MASK_000=0]="DATA_MASK_000",N[N.DATA_MASK_001=1]="DATA_MASK_001",N[N.DATA_MASK_010=2]="DATA_MASK_010",N[N.DATA_MASK_011=3]="DATA_MASK_011",N[N.DATA_MASK_100=4]="DATA_MASK_100",N[N.DATA_MASK_101=5]="DATA_MASK_101",N[N.DATA_MASK_110=6]="DATA_MASK_110",N[N.DATA_MASK_111=7]="DATA_MASK_111"})(zt||(zt={}));class qn{constructor(r,i){this.value=r,this.isMasked=i}unmaskBitMatrix(r,i){for(let o=0;o<i;o++)for(let l=0;l<i;l++)this.isMasked(o,l)&&r.flip(l,o)}}qn.values=new Map([[zt.DATA_MASK_000,new qn(zt.DATA_MASK_000,(N,r)=>(N+r&1)===0)],[zt.DATA_MASK_001,new qn(zt.DATA_MASK_001,(N,r)=>(N&1)===0)],[zt.DATA_MASK_010,new qn(zt.DATA_MASK_010,(N,r)=>r%3===0)],[zt.DATA_MASK_011,new qn(zt.DATA_MASK_011,(N,r)=>(N+r)%3===0)],[zt.DATA_MASK_100,new qn(zt.DATA_MASK_100,(N,r)=>(Math.floor(N/2)+Math.floor(r/3)&1)===0)],[zt.DATA_MASK_101,new qn(zt.DATA_MASK_101,(N,r)=>N*r%6===0)],[zt.DATA_MASK_110,new qn(zt.DATA_MASK_110,(N,r)=>N*r%6<3)],[zt.DATA_MASK_111,new qn(zt.DATA_MASK_111,(N,r)=>(N+r+N*r%3&1)===0)]]);class SE{constructor(r){const i=r.getHeight();if(i<21||(i&3)!==1)throw new B;this.bitMatrix=r}readFormatInformation(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;let r=0;for(let c=0;c<6;c++)r=this.copyBit(c,8,r);r=this.copyBit(7,8,r),r=this.copyBit(8,8,r),r=this.copyBit(8,7,r);for(let c=5;c>=0;c--)r=this.copyBit(8,c,r);const i=this.bitMatrix.getHeight();let o=0;const l=i-7;for(let c=i-1;c>=l;c--)o=this.copyBit(8,c,o);for(let c=i-8;c<i;c++)o=this.copyBit(c,8,o);if(this.parsedFormatInfo=sn.decodeFormatInformation(r,o),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new B}readVersion(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;const r=this.bitMatrix.getHeight(),i=Math.floor((r-17)/4);if(i<=6)return Ee.getVersionForNumber(i);let o=0;const l=r-11;for(let d=5;d>=0;d--)for(let f=r-9;f>=l;f--)o=this.copyBit(f,d,o);let c=Ee.decodeVersionInformation(o);if(c!==null&&c.getDimensionForVersion()===r)return this.parsedVersion=c,c;o=0;for(let d=5;d>=0;d--)for(let f=r-9;f>=l;f--)o=this.copyBit(d,f,o);if(c=Ee.decodeVersionInformation(o),c!==null&&c.getDimensionForVersion()===r)return this.parsedVersion=c,c;throw new B}copyBit(r,i,o){return(this.isMirror?this.bitMatrix.get(i,r):this.bitMatrix.get(r,i))?o<<1|1:o<<1}readCodewords(){const r=this.readFormatInformation(),i=this.readVersion(),o=qn.values.get(r.getDataMask()),l=this.bitMatrix.getHeight();o.unmaskBitMatrix(this.bitMatrix,l);const c=i.buildFunctionPattern();let d=!0;const f=new Uint8Array(i.getTotalCodewords());let p=0,y=0,E=0;for(let T=l-1;T>0;T-=2){T===6&&T--;for(let M=0;M<l;M++){const L=d?l-1-M:M;for(let j=0;j<2;j++)c.get(T-j,L)||(E++,y<<=1,this.bitMatrix.get(T-j,L)&&(y|=1),E===8&&(f[p++]=y,E=0,y=0))}d=!d}if(p!==i.getTotalCodewords())throw new B;return f}remask(){if(this.parsedFormatInfo===null)return;const r=qn.values[this.parsedFormatInfo.getDataMask()],i=this.bitMatrix.getHeight();r.unmaskBitMatrix(this.bitMatrix,i)}setMirror(r){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=r}mirror(){const r=this.bitMatrix;for(let i=0,o=r.getWidth();i<o;i++)for(let l=i+1,c=r.getHeight();l<c;l++)r.get(i,l)!==r.get(l,i)&&(r.flip(l,i),r.flip(i,l))}}class bd{constructor(r,i){this.numDataCodewords=r,this.codewords=i}static getDataBlocks(r,i,o){if(r.length!==i.getTotalCodewords())throw new v;const l=i.getECBlocksForLevel(o);let c=0;const d=l.getECBlocks();for(const j of d)c+=j.getCount();const f=new Array(c);let p=0;for(const j of d)for(let V=0;V<j.getCount();V++){const Y=j.getDataCodewords(),q=l.getECCodewordsPerBlock()+Y;f[p++]=new bd(Y,new Uint8Array(q))}const y=f[0].codewords.length;let E=f.length-1;for(;E>=0&&f[E].codewords.length!==y;)E--;E++;const T=y-l.getECCodewordsPerBlock();let M=0;for(let j=0;j<T;j++)for(let V=0;V<p;V++)f[V].codewords[j]=r[M++];for(let j=E;j<p;j++)f[j].codewords[T]=r[M++];const L=f[0].codewords.length;for(let j=T;j<L;j++)for(let V=0;V<p;V++){const Y=V<E?j:j+1;f[V].codewords[Y]=r[M++]}return f}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}var Zn;(function(N){N[N.TERMINATOR=0]="TERMINATOR",N[N.NUMERIC=1]="NUMERIC",N[N.ALPHANUMERIC=2]="ALPHANUMERIC",N[N.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",N[N.BYTE=4]="BYTE",N[N.ECI=5]="ECI",N[N.KANJI=6]="KANJI",N[N.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",N[N.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",N[N.HANZI=9]="HANZI"})(Zn||(Zn={}));class Se{constructor(r,i,o,l){this.value=r,this.stringValue=i,this.characterCountBitsForVersions=o,this.bits=l,Se.FOR_BITS.set(l,this),Se.FOR_VALUE.set(r,this)}static forBits(r){const i=Se.FOR_BITS.get(r);if(i===void 0)throw new v;return i}getCharacterCountBits(r){const i=r.getVersionNumber();let o;return i<=9?o=0:i<=26?o=1:o=2,this.characterCountBitsForVersions[o]}getValue(){return this.value}getBits(){return this.bits}equals(r){if(!(r instanceof Se))return!1;const i=r;return this.value===i.value}toString(){return this.stringValue}}Se.FOR_BITS=new Map,Se.FOR_VALUE=new Map,Se.TERMINATOR=new Se(Zn.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),Se.NUMERIC=new Se(Zn.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),Se.ALPHANUMERIC=new Se(Zn.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),Se.STRUCTURED_APPEND=new Se(Zn.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),Se.BYTE=new Se(Zn.BYTE,"BYTE",Int32Array.from([8,16,16]),4),Se.ECI=new Se(Zn.ECI,"ECI",Int32Array.from([0,0,0]),7),Se.KANJI=new Se(Zn.KANJI,"KANJI",Int32Array.from([8,10,12]),8),Se.FNC1_FIRST_POSITION=new Se(Zn.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),Se.FNC1_SECOND_POSITION=new Se(Zn.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),Se.HANZI=new Se(Zn.HANZI,"HANZI",Int32Array.from([8,10,12]),13);class St{static decode(r,i,o,l){const c=new Sd(r);let d=new fe;const f=new Array;let p=-1,y=-1;try{let E=null,T=!1,M;do{if(c.available()<4)M=Se.TERMINATOR;else{const L=c.readBits(4);M=Se.forBits(L)}switch(M){case Se.TERMINATOR:break;case Se.FNC1_FIRST_POSITION:case Se.FNC1_SECOND_POSITION:T=!0;break;case Se.STRUCTURED_APPEND:if(c.available()<16)throw new B;p=c.readBits(8),y=c.readBits(8);break;case Se.ECI:const L=St.parseECIValue(c);if(E=H.getCharacterSetECIByValue(L),E===null)throw new B;break;case Se.HANZI:const j=c.readBits(4),V=c.readBits(M.getCharacterCountBits(i));j===St.GB2312_SUBSET&&St.decodeHanziSegment(c,d,V);break;default:const Y=c.readBits(M.getCharacterCountBits(i));switch(M){case Se.NUMERIC:St.decodeNumericSegment(c,d,Y);break;case Se.ALPHANUMERIC:St.decodeAlphanumericSegment(c,d,Y,T);break;case Se.BYTE:St.decodeByteSegment(c,d,Y,E,f,l);break;case Se.KANJI:St.decodeKanjiSegment(c,d,Y);break;default:throw new B}break}}while(M!==Se.TERMINATOR)}catch{throw new B}return new Ke(r,d.toString(),f.length===0?null:f,o===null?null:o.toString(),p,y)}static decodeHanziSegment(r,i,o){if(o*13>r.available())throw new B;const l=new Uint8Array(2*o);let c=0;for(;o>0;){const d=r.readBits(13);let f=d/96<<8&4294967295|d%96;f<959?f+=41377:f+=42657,l[c]=f>>8&255,l[c+1]=f&255,c+=2,o--}try{i.append(de.decode(l,J.GB2312))}catch(d){throw new B(d)}}static decodeKanjiSegment(r,i,o){if(o*13>r.available())throw new B;const l=new Uint8Array(2*o);let c=0;for(;o>0;){const d=r.readBits(13);let f=d/192<<8&4294967295|d%192;f<7936?f+=33088:f+=49472,l[c]=f>>8,l[c+1]=f,c+=2,o--}try{i.append(de.decode(l,J.SHIFT_JIS))}catch(d){throw new B(d)}}static decodeByteSegment(r,i,o,l,c,d){if(8*o>r.available())throw new B;const f=new Uint8Array(o);for(let y=0;y<o;y++)f[y]=r.readBits(8);let p;l===null?p=J.guessEncoding(f,d):p=l.getName();try{i.append(de.decode(f,p))}catch(y){throw new B(y)}c.push(f)}static toAlphaNumericChar(r){if(r>=St.ALPHANUMERIC_CHARS.length)throw new B;return St.ALPHANUMERIC_CHARS[r]}static decodeAlphanumericSegment(r,i,o,l){const c=i.length();for(;o>1;){if(r.available()<11)throw new B;const d=r.readBits(11);i.append(St.toAlphaNumericChar(Math.floor(d/45))),i.append(St.toAlphaNumericChar(d%45)),o-=2}if(o===1){if(r.available()<6)throw new B;i.append(St.toAlphaNumericChar(r.readBits(6)))}if(l)for(let d=c;d<i.length();d++)i.charAt(d)==="%"&&(d<i.length()-1&&i.charAt(d+1)==="%"?i.deleteCharAt(d+1):i.setCharAt(d,""))}static decodeNumericSegment(r,i,o){for(;o>=3;){if(r.available()<10)throw new B;const l=r.readBits(10);if(l>=1e3)throw new B;i.append(St.toAlphaNumericChar(Math.floor(l/100))),i.append(St.toAlphaNumericChar(Math.floor(l/10)%10)),i.append(St.toAlphaNumericChar(l%10)),o-=3}if(o===2){if(r.available()<7)throw new B;const l=r.readBits(7);if(l>=100)throw new B;i.append(St.toAlphaNumericChar(Math.floor(l/10))),i.append(St.toAlphaNumericChar(l%10))}else if(o===1){if(r.available()<4)throw new B;const l=r.readBits(4);if(l>=10)throw new B;i.append(St.toAlphaNumericChar(l))}}static parseECIValue(r){const i=r.readBits(8);if(!(i&128))return i&127;if((i&192)===128){const o=r.readBits(8);return(i&63)<<8&4294967295|o}if((i&224)===192){const o=r.readBits(16);return(i&31)<<16&4294967295|o}throw new B}}St.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",St.GB2312_SUBSET=1;class ep{constructor(r){this.mirrored=r}isMirrored(){return this.mirrored}applyMirroredCorrection(r){if(!this.mirrored||r===null||r.length<3)return;const i=r[0];r[0]=r[2],r[2]=i}}class bE{constructor(){this.rsDecoder=new cr(Re.QR_CODE_FIELD_256)}decodeBooleanArray(r,i){return this.decodeBitMatrix(te.parseFromBooleanArray(r),i)}decodeBitMatrix(r,i){const o=new SE(r);let l=null;try{return this.decodeBitMatrixParser(o,i)}catch(c){l=c}try{o.remask(),o.setMirror(!0),o.readVersion(),o.readFormatInformation(),o.mirror();const c=this.decodeBitMatrixParser(o,i);return c.setOther(new ep(!0)),c}catch(c){throw l!==null?l:c}}decodeBitMatrixParser(r,i){const o=r.readVersion(),l=r.readFormatInformation().getErrorCorrectionLevel(),c=r.readCodewords(),d=bd.getDataBlocks(c,o,l);let f=0;for(const E of d)f+=E.getNumDataCodewords();const p=new Uint8Array(f);let y=0;for(const E of d){const T=E.getCodewords(),M=E.getNumDataCodewords();this.correctErrors(T,M);for(let L=0;L<M;L++)p[y++]=T[L]}return St.decode(p,o,l,i)}correctErrors(r,i){const o=new Int32Array(r);try{this.rsDecoder.decode(o,r.length-i)}catch{throw new D}for(let l=0;l<i;l++)r[l]=o[l]}}class Nd extends ye{constructor(r,i,o){super(r,i),this.estimatedModuleSize=o}aboutEquals(r,i,o){if(Math.abs(i-this.getY())<=r&&Math.abs(o-this.getX())<=r){const l=Math.abs(r-this.estimatedModuleSize);return l<=1||l<=this.estimatedModuleSize}return!1}combineEstimate(r,i,o){const l=(this.getX()+i)/2,c=(this.getY()+r)/2,d=(this.estimatedModuleSize+o)/2;return new Nd(l,c,d)}}class Zl{constructor(r,i,o,l,c,d,f){this.image=r,this.startX=i,this.startY=o,this.width=l,this.height=c,this.moduleSize=d,this.resultPointCallback=f,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}find(){const r=this.startX,i=this.height,o=this.width,l=r+o,c=this.startY+i/2,d=new Int32Array(3),f=this.image;for(let p=0;p<i;p++){const y=c+(p&1?-Math.floor((p+1)/2):Math.floor((p+1)/2));d[0]=0,d[1]=0,d[2]=0;let E=r;for(;E<l&&!f.get(E,y);)E++;let T=0;for(;E<l;){if(f.get(E,y))if(T===1)d[1]++;else if(T===2){if(this.foundPatternCross(d)){const M=this.handlePossibleCenter(d,y,E);if(M!==null)return M}d[0]=d[2],d[1]=1,d[2]=0,T=1}else d[++T]++;else T===1&&T++,d[T]++;E++}if(this.foundPatternCross(d)){const M=this.handlePossibleCenter(d,y,l);if(M!==null)return M}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new X}static centerFromEnd(r,i){return i-r[2]-r[1]/2}foundPatternCross(r){const i=this.moduleSize,o=i/2;for(let l=0;l<3;l++)if(Math.abs(i-r[l])>=o)return!1;return!0}crossCheckVertical(r,i,o,l){const c=this.image,d=c.getHeight(),f=this.crossCheckStateCount;f[0]=0,f[1]=0,f[2]=0;let p=r;for(;p>=0&&c.get(i,p)&&f[1]<=o;)f[1]++,p--;if(p<0||f[1]>o)return NaN;for(;p>=0&&!c.get(i,p)&&f[0]<=o;)f[0]++,p--;if(f[0]>o)return NaN;for(p=r+1;p<d&&c.get(i,p)&&f[1]<=o;)f[1]++,p++;if(p===d||f[1]>o)return NaN;for(;p<d&&!c.get(i,p)&&f[2]<=o;)f[2]++,p++;if(f[2]>o)return NaN;const y=f[0]+f[1]+f[2];return 5*Math.abs(y-l)>=2*l?NaN:this.foundPatternCross(f)?Zl.centerFromEnd(f,p):NaN}handlePossibleCenter(r,i,o){const l=r[0]+r[1]+r[2],c=Zl.centerFromEnd(r,o),d=this.crossCheckVertical(i,c,2*r[1],l);if(!isNaN(d)){const f=(r[0]+r[1]+r[2])/3;for(const y of this.possibleCenters)if(y.aboutEquals(f,d,c))return y.combineEstimate(d,c,f);const p=new Nd(c,d,f);this.possibleCenters.push(p),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(p)}return null}}class Id extends ye{constructor(r,i,o,l){super(r,i),this.estimatedModuleSize=o,this.count=l,l===void 0&&(this.count=1)}getEstimatedModuleSize(){return this.estimatedModuleSize}getCount(){return this.count}aboutEquals(r,i,o){if(Math.abs(i-this.getY())<=r&&Math.abs(o-this.getX())<=r){const l=Math.abs(r-this.estimatedModuleSize);return l<=1||l<=this.estimatedModuleSize}return!1}combineEstimate(r,i,o){const l=this.count+1,c=(this.count*this.getX()+i)/l,d=(this.count*this.getY()+r)/l,f=(this.count*this.estimatedModuleSize+o)/l;return new Id(c,d,f,l)}}class NE{constructor(r){this.bottomLeft=r[0],this.topLeft=r[1],this.topRight=r[2]}getBottomLeft(){return this.bottomLeft}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}}class Gt{constructor(r,i){this.image=r,this.resultPointCallback=i,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=i}getImage(){return this.image}getPossibleCenters(){return this.possibleCenters}find(r){const i=r!=null&&r.get(z.TRY_HARDER)!==void 0,o=r!=null&&r.get(z.PURE_BARCODE)!==void 0,l=this.image,c=l.getHeight(),d=l.getWidth();let f=Math.floor(3*c/(4*Gt.MAX_MODULES));(f<Gt.MIN_SKIP||i)&&(f=Gt.MIN_SKIP);let p=!1;const y=new Int32Array(5);for(let T=f-1;T<c&&!p;T+=f){y[0]=0,y[1]=0,y[2]=0,y[3]=0,y[4]=0;let M=0;for(let L=0;L<d;L++)if(l.get(L,T))(M&1)===1&&M++,y[M]++;else if(M&1)y[M]++;else if(M===4)if(Gt.foundPatternCross(y)){if(this.handlePossibleCenter(y,T,L,o)===!0)if(f=2,this.hasSkipped===!0)p=this.haveMultiplyConfirmedCenters();else{const V=this.findRowSkip();V>y[2]&&(T+=V-y[2]-f,L=d-1)}else{y[0]=y[2],y[1]=y[3],y[2]=y[4],y[3]=1,y[4]=0,M=3;continue}M=0,y[0]=0,y[1]=0,y[2]=0,y[3]=0,y[4]=0}else y[0]=y[2],y[1]=y[3],y[2]=y[4],y[3]=1,y[4]=0,M=3;else y[++M]++;Gt.foundPatternCross(y)&&this.handlePossibleCenter(y,T,d,o)===!0&&(f=y[0],this.hasSkipped&&(p=this.haveMultiplyConfirmedCenters()))}const E=this.selectBestPatterns();return ye.orderBestPatterns(E),new NE(E)}static centerFromEnd(r,i){return i-r[4]-r[3]-r[2]/2}static foundPatternCross(r){let i=0;for(let c=0;c<5;c++){const d=r[c];if(d===0)return!1;i+=d}if(i<7)return!1;const o=i/7,l=o/2;return Math.abs(o-r[0])<l&&Math.abs(o-r[1])<l&&Math.abs(3*o-r[2])<3*l&&Math.abs(o-r[3])<l&&Math.abs(o-r[4])<l}getCrossCheckStateCount(){const r=this.crossCheckStateCount;return r[0]=0,r[1]=0,r[2]=0,r[3]=0,r[4]=0,r}crossCheckDiagonal(r,i,o,l){const c=this.getCrossCheckStateCount();let d=0;const f=this.image;for(;r>=d&&i>=d&&f.get(i-d,r-d);)c[2]++,d++;if(r<d||i<d)return!1;for(;r>=d&&i>=d&&!f.get(i-d,r-d)&&c[1]<=o;)c[1]++,d++;if(r<d||i<d||c[1]>o)return!1;for(;r>=d&&i>=d&&f.get(i-d,r-d)&&c[0]<=o;)c[0]++,d++;if(c[0]>o)return!1;const p=f.getHeight(),y=f.getWidth();for(d=1;r+d<p&&i+d<y&&f.get(i+d,r+d);)c[2]++,d++;if(r+d>=p||i+d>=y)return!1;for(;r+d<p&&i+d<y&&!f.get(i+d,r+d)&&c[3]<o;)c[3]++,d++;if(r+d>=p||i+d>=y||c[3]>=o)return!1;for(;r+d<p&&i+d<y&&f.get(i+d,r+d)&&c[4]<o;)c[4]++,d++;if(c[4]>=o)return!1;const E=c[0]+c[1]+c[2]+c[3]+c[4];return Math.abs(E-l)<2*l&&Gt.foundPatternCross(c)}crossCheckVertical(r,i,o,l){const c=this.image,d=c.getHeight(),f=this.getCrossCheckStateCount();let p=r;for(;p>=0&&c.get(i,p);)f[2]++,p--;if(p<0)return NaN;for(;p>=0&&!c.get(i,p)&&f[1]<=o;)f[1]++,p--;if(p<0||f[1]>o)return NaN;for(;p>=0&&c.get(i,p)&&f[0]<=o;)f[0]++,p--;if(f[0]>o)return NaN;for(p=r+1;p<d&&c.get(i,p);)f[2]++,p++;if(p===d)return NaN;for(;p<d&&!c.get(i,p)&&f[3]<o;)f[3]++,p++;if(p===d||f[3]>=o)return NaN;for(;p<d&&c.get(i,p)&&f[4]<o;)f[4]++,p++;if(f[4]>=o)return NaN;const y=f[0]+f[1]+f[2]+f[3]+f[4];return 5*Math.abs(y-l)>=2*l?NaN:Gt.foundPatternCross(f)?Gt.centerFromEnd(f,p):NaN}crossCheckHorizontal(r,i,o,l){const c=this.image,d=c.getWidth(),f=this.getCrossCheckStateCount();let p=r;for(;p>=0&&c.get(p,i);)f[2]++,p--;if(p<0)return NaN;for(;p>=0&&!c.get(p,i)&&f[1]<=o;)f[1]++,p--;if(p<0||f[1]>o)return NaN;for(;p>=0&&c.get(p,i)&&f[0]<=o;)f[0]++,p--;if(f[0]>o)return NaN;for(p=r+1;p<d&&c.get(p,i);)f[2]++,p++;if(p===d)return NaN;for(;p<d&&!c.get(p,i)&&f[3]<o;)f[3]++,p++;if(p===d||f[3]>=o)return NaN;for(;p<d&&c.get(p,i)&&f[4]<o;)f[4]++,p++;if(f[4]>=o)return NaN;const y=f[0]+f[1]+f[2]+f[3]+f[4];return 5*Math.abs(y-l)>=l?NaN:Gt.foundPatternCross(f)?Gt.centerFromEnd(f,p):NaN}handlePossibleCenter(r,i,o,l){const c=r[0]+r[1]+r[2]+r[3]+r[4];let d=Gt.centerFromEnd(r,o),f=this.crossCheckVertical(i,Math.floor(d),r[2],c);if(!isNaN(f)&&(d=this.crossCheckHorizontal(Math.floor(d),Math.floor(f),r[2],c),!isNaN(d)&&(!l||this.crossCheckDiagonal(Math.floor(f),Math.floor(d),r[2],c)))){const p=c/7;let y=!1;const E=this.possibleCenters;for(let T=0,M=E.length;T<M;T++){const L=E[T];if(L.aboutEquals(p,f,d)){E[T]=L.combineEstimate(f,d,p),y=!0;break}}if(!y){const T=new Id(d,f,p);E.push(T),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(T)}return!0}return!1}findRowSkip(){if(this.possibleCenters.length<=1)return 0;let i=null;for(const o of this.possibleCenters)if(o.getCount()>=Gt.CENTER_QUORUM)if(i==null)i=o;else return this.hasSkipped=!0,Math.floor((Math.abs(i.getX()-o.getX())-Math.abs(i.getY()-o.getY()))/2);return 0}haveMultiplyConfirmedCenters(){let r=0,i=0;const o=this.possibleCenters.length;for(const d of this.possibleCenters)d.getCount()>=Gt.CENTER_QUORUM&&(r++,i+=d.getEstimatedModuleSize());if(r<3)return!1;const l=i/o;let c=0;for(const d of this.possibleCenters)c+=Math.abs(d.getEstimatedModuleSize()-l);return c<=.05*i}selectBestPatterns(){const r=this.possibleCenters.length;if(r<3)throw new X;const i=this.possibleCenters;let o;if(r>3){let l=0,c=0;for(const p of this.possibleCenters){const y=p.getEstimatedModuleSize();l+=y,c+=y*y}o=l/r;let d=Math.sqrt(c/r-o*o);i.sort((p,y)=>{const E=Math.abs(y.getEstimatedModuleSize()-o),T=Math.abs(p.getEstimatedModuleSize()-o);return E<T?-1:E>T?1:0});const f=Math.max(.2*o,d);for(let p=0;p<i.length&&i.length>3;p++){const y=i[p];Math.abs(y.getEstimatedModuleSize()-o)>f&&(i.splice(p,1),p--)}}if(i.length>3){let l=0;for(const c of i)l+=c.getEstimatedModuleSize();o=l/i.length,i.sort((c,d)=>{if(d.getCount()===c.getCount()){const f=Math.abs(d.getEstimatedModuleSize()-o),p=Math.abs(c.getEstimatedModuleSize()-o);return f<p?1:f>p?-1:0}else return d.getCount()-c.getCount()}),i.splice(3)}return[i[0],i[1],i[2]]}}Gt.CENTER_QUORUM=2,Gt.MIN_SKIP=3,Gt.MAX_MODULES=57;class Ca{constructor(r){this.image=r}getImage(){return this.image}getResultPointCallback(){return this.resultPointCallback}detect(r){this.resultPointCallback=r==null?null:r.get(z.NEED_RESULT_POINT_CALLBACK);const o=new Gt(this.image,this.resultPointCallback).find(r);return this.processFinderPatternInfo(o)}processFinderPatternInfo(r){const i=r.getTopLeft(),o=r.getTopRight(),l=r.getBottomLeft(),c=this.calculateModuleSize(i,o,l);if(c<1)throw new X("No pattern found in proccess finder.");const d=Ca.computeDimension(i,o,l,c),f=Ee.getProvisionalVersionForDimension(d),p=f.getDimensionForVersion()-7;let y=null;if(f.getAlignmentPatternCenters().length>0){const L=o.getX()-i.getX()+l.getX(),j=o.getY()-i.getY()+l.getY(),V=1-3/p,Y=Math.floor(i.getX()+V*(L-i.getX())),q=Math.floor(i.getY()+V*(j-i.getY()));for(let se=4;se<=16;se<<=1)try{y=this.findAlignmentInRegion(c,Y,q,se);break}catch(oe){if(!(oe instanceof X))throw oe}}const E=Ca.createTransform(i,o,l,y,d),T=Ca.sampleGrid(this.image,E,d);let M;return y===null?M=[l,i,o]:M=[l,i,o,y],new Xl(T,M)}static createTransform(r,i,o,l,c){const d=c-3.5;let f,p,y,E;return l!==null?(f=l.getX(),p=l.getY(),y=d-3,E=y):(f=i.getX()-r.getX()+o.getX(),p=i.getY()-r.getY()+o.getY(),y=d,E=d),ur.quadrilateralToQuadrilateral(3.5,3.5,d,3.5,y,E,3.5,d,r.getX(),r.getY(),i.getX(),i.getY(),f,p,o.getX(),o.getY())}static sampleGrid(r,i,o){return mi.getInstance().sampleGridWithTransform(r,o,o,i)}static computeDimension(r,i,o,l){const c=je.round(ye.distance(r,i)/l),d=je.round(ye.distance(r,o)/l);let f=Math.floor((c+d)/2)+7;switch(f&3){case 0:f++;break;case 2:f--;break;case 3:throw new X("Dimensions could be not found.")}return f}calculateModuleSize(r,i,o){return(this.calculateModuleSizeOneWay(r,i)+this.calculateModuleSizeOneWay(r,o))/2}calculateModuleSizeOneWay(r,i){const o=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(r.getX()),Math.floor(r.getY()),Math.floor(i.getX()),Math.floor(i.getY())),l=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(i.getX()),Math.floor(i.getY()),Math.floor(r.getX()),Math.floor(r.getY()));return isNaN(o)?l/7:isNaN(l)?o/7:(o+l)/14}sizeOfBlackWhiteBlackRunBothWays(r,i,o,l){let c=this.sizeOfBlackWhiteBlackRun(r,i,o,l),d=1,f=r-(o-r);f<0?(d=r/(r-f),f=0):f>=this.image.getWidth()&&(d=(this.image.getWidth()-1-r)/(f-r),f=this.image.getWidth()-1);let p=Math.floor(i-(l-i)*d);return d=1,p<0?(d=i/(i-p),p=0):p>=this.image.getHeight()&&(d=(this.image.getHeight()-1-i)/(p-i),p=this.image.getHeight()-1),f=Math.floor(r+(f-r)*d),c+=this.sizeOfBlackWhiteBlackRun(r,i,f,p),c-1}sizeOfBlackWhiteBlackRun(r,i,o,l){const c=Math.abs(l-i)>Math.abs(o-r);if(c){let L=r;r=i,i=L,L=o,o=l,l=L}const d=Math.abs(o-r),f=Math.abs(l-i);let p=-d/2;const y=r<o?1:-1,E=i<l?1:-1;let T=0;const M=o+y;for(let L=r,j=i;L!==M;L+=y){const V=c?j:L,Y=c?L:j;if(T===1===this.image.get(V,Y)){if(T===2)return je.distance(L,j,r,i);T++}if(p+=f,p>0){if(j===l)break;j+=E,p-=d}}return T===2?je.distance(o+y,l,r,i):NaN}findAlignmentInRegion(r,i,o,l){const c=Math.floor(l*r),d=Math.max(0,i-c),f=Math.min(this.image.getWidth()-1,i+c);if(f-d<r*3)throw new X("Alignment top exceeds estimated module size.");const p=Math.max(0,o-c),y=Math.min(this.image.getHeight()-1,o+c);if(y-p<r*3)throw new X("Alignment bottom exceeds estimated module size.");return new Zl(this.image,d,p,f-d,y-p,r,this.resultPointCallback).find()}}class vi{constructor(){this.decoder=new bE}getDecoder(){return this.decoder}decode(r,i){let o,l;if(i!=null&&i.get(z.PURE_BARCODE)!==void 0){const p=vi.extractPureBits(r.getBlackMatrix());o=this.decoder.decodeBitMatrix(p,i),l=vi.NO_POINTS}else{const p=new Ca(r.getBlackMatrix()).detect(i);o=this.decoder.decodeBitMatrix(p.getBits(),i),l=p.getPoints()}o.getOther()instanceof ep&&o.getOther().applyMirroredCorrection(l);const c=new Fe(o.getText(),o.getRawBytes(),void 0,l,he.QR_CODE,void 0),d=o.getByteSegments();d!==null&&c.putMetadata(Te.BYTE_SEGMENTS,d);const f=o.getECLevel();return f!==null&&c.putMetadata(Te.ERROR_CORRECTION_LEVEL,f),o.hasStructuredAppend()&&(c.putMetadata(Te.STRUCTURED_APPEND_SEQUENCE,o.getStructuredAppendSequenceNumber()),c.putMetadata(Te.STRUCTURED_APPEND_PARITY,o.getStructuredAppendParity())),c}reset(){}static extractPureBits(r){const i=r.getTopLeftOnBit(),o=r.getBottomRightOnBit();if(i===null||o===null)throw new X;const l=this.moduleSize(i,r);let c=i[1],d=o[1],f=i[0],p=o[0];if(f>=p||c>=d)throw new X;if(d-c!==p-f&&(p=f+(d-c),p>=r.getWidth()))throw new X;const y=Math.round((p-f+1)/l),E=Math.round((d-c+1)/l);if(y<=0||E<=0)throw new X;if(E!==y)throw new X;const T=Math.floor(l/2);c+=T,f+=T;const M=f+Math.floor((y-1)*l)-p;if(M>0){if(M>T)throw new X;f-=M}const L=c+Math.floor((E-1)*l)-d;if(L>0){if(L>T)throw new X;c-=L}const j=new te(y,E);for(let V=0;V<E;V++){const Y=c+Math.floor(V*l);for(let q=0;q<y;q++)r.get(f+Math.floor(q*l),Y)&&j.set(q,V)}return j}static moduleSize(r,i){const o=i.getHeight(),l=i.getWidth();let c=r[0],d=r[1],f=!0,p=0;for(;c<l&&d<o;){if(f!==i.get(c,d)){if(++p===5)break;f=!f}c++,d++}if(c===l||d===o)throw new X;return(c-r[0])/7}}vi.NO_POINTS=new Array;class Ie{PDF417Common(){}static getBitCountSum(r){return je.sum(r)}static toIntArray(r){if(r==null||!r.length)return Ie.EMPTY_INT_ARRAY;const i=new Int32Array(r.length);let o=0;for(const l of r)i[o++]=l;return i}static getCodeword(r){const i=I.binarySearch(Ie.SYMBOL_TABLE,r&262143);return i<0?-1:(Ie.CODEWORD_TABLE[i]-1)%Ie.NUMBER_OF_CODEWORDS}}Ie.NUMBER_OF_CODEWORDS=929,Ie.MAX_CODEWORDS_IN_BARCODE=Ie.NUMBER_OF_CODEWORDS-1,Ie.MIN_ROWS_IN_BARCODE=3,Ie.MAX_ROWS_IN_BARCODE=90,Ie.MODULES_IN_CODEWORD=17,Ie.MODULES_IN_STOP_PATTERN=18,Ie.BARS_IN_MODULE=8,Ie.EMPTY_INT_ARRAY=new Int32Array([]),Ie.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),Ie.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]);class IE{constructor(r,i){this.bits=r,this.points=i}getBits(){return this.bits}getPoints(){return this.points}}class Pe{static detectMultiple(r,i,o){let l=r.getBlackMatrix(),c=Pe.detect(o,l);return c.length||(l=l.clone(),l.rotate180(),c=Pe.detect(o,l)),new IE(l,c)}static detect(r,i){const o=new Array;let l=0,c=0,d=!1;for(;l<i.getHeight();){const f=Pe.findVertices(i,l,c);if(f[0]==null&&f[3]==null){if(!d)break;d=!1,c=0;for(const p of o)p[1]!=null&&(l=Math.trunc(Math.max(l,p[1].getY()))),p[3]!=null&&(l=Math.max(l,Math.trunc(p[3].getY())));l+=Pe.ROW_STEP;continue}if(d=!0,o.push(f),!r)break;f[2]!=null?(c=Math.trunc(f[2].getX()),l=Math.trunc(f[2].getY())):(c=Math.trunc(f[4].getX()),l=Math.trunc(f[4].getY()))}return o}static findVertices(r,i,o){const l=r.getHeight(),c=r.getWidth(),d=new Array(8);return Pe.copyToResult(d,Pe.findRowsWithPattern(r,l,c,i,o,Pe.START_PATTERN),Pe.INDEXES_START_PATTERN),d[4]!=null&&(o=Math.trunc(d[4].getX()),i=Math.trunc(d[4].getY())),Pe.copyToResult(d,Pe.findRowsWithPattern(r,l,c,i,o,Pe.STOP_PATTERN),Pe.INDEXES_STOP_PATTERN),d}static copyToResult(r,i,o){for(let l=0;l<o.length;l++)r[o[l]]=i[l]}static findRowsWithPattern(r,i,o,l,c,d){const f=new Array(4);let p=!1;const y=new Int32Array(d.length);for(;l<i;l+=Pe.ROW_STEP){let T=Pe.findGuardPattern(r,c,l,o,!1,d,y);if(T!=null){for(;l>0;){const M=Pe.findGuardPattern(r,c,--l,o,!1,d,y);if(M!=null)T=M;else{l++;break}}f[0]=new ye(T[0],l),f[1]=new ye(T[1],l),p=!0;break}}let E=l+1;if(p){let T=0,M=Int32Array.from([Math.trunc(f[0].getX()),Math.trunc(f[1].getX())]);for(;E<i;E++){const L=Pe.findGuardPattern(r,M[0],E,o,!1,d,y);if(L!=null&&Math.abs(M[0]-L[0])<Pe.MAX_PATTERN_DRIFT&&Math.abs(M[1]-L[1])<Pe.MAX_PATTERN_DRIFT)M=L,T=0;else{if(T>Pe.SKIPPED_ROW_COUNT_MAX)break;T++}}E-=T+1,f[2]=new ye(M[0],E),f[3]=new ye(M[1],E)}return E-l<Pe.BARCODE_MIN_HEIGHT&&I.fill(f,null),f}static findGuardPattern(r,i,o,l,c,d,f){I.fillWithin(f,0,f.length,0);let p=i,y=0;for(;r.get(p,o)&&p>0&&y++<Pe.MAX_PIXEL_DRIFT;)p--;let E=p,T=0,M=d.length;for(let L=c;E<l;E++)if(r.get(E,o)!==L)f[T]++;else{if(T===M-1){if(Pe.patternMatchVariance(f,d,Pe.MAX_INDIVIDUAL_VARIANCE)<Pe.MAX_AVG_VARIANCE)return new Int32Array([p,E]);p+=f[0]+f[1],S.arraycopy(f,2,f,0,T-1),f[T-1]=0,f[T]=0,T--}else T++;f[T]=1,L=!L}return T===M-1&&Pe.patternMatchVariance(f,d,Pe.MAX_INDIVIDUAL_VARIANCE)<Pe.MAX_AVG_VARIANCE?new Int32Array([p,E-1]):null}static patternMatchVariance(r,i,o){let l=r.length,c=0,d=0;for(let y=0;y<l;y++)c+=r[y],d+=i[y];if(c<d)return 1/0;let f=c/d;o*=f;let p=0;for(let y=0;y<l;y++){let E=r[y],T=i[y]*f,M=E>T?E-T:T-E;if(M>o)return 1/0;p+=M}return p/c}}Pe.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),Pe.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),Pe.MAX_AVG_VARIANCE=.42,Pe.MAX_INDIVIDUAL_VARIANCE=.8,Pe.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),Pe.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),Pe.MAX_PIXEL_DRIFT=3,Pe.MAX_PATTERN_DRIFT=5,Pe.SKIPPED_ROW_COUNT_MAX=25,Pe.ROW_STEP=5,Pe.BARCODE_MIN_HEIGHT=10;class qt{constructor(r,i){if(i.length===0)throw new v;this.field=r;let o=i.length;if(o>1&&i[0]===0){let l=1;for(;l<o&&i[l]===0;)l++;l===o?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(o-l),S.arraycopy(i,l,this.coefficients,0,this.coefficients.length))}else this.coefficients=i}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(r){return this.coefficients[this.coefficients.length-1-r]}evaluateAt(r){if(r===0)return this.getCoefficient(0);if(r===1){let l=0;for(let c of this.coefficients)l=this.field.add(l,c);return l}let i=this.coefficients[0],o=this.coefficients.length;for(let l=1;l<o;l++)i=this.field.add(this.field.multiply(r,i),this.coefficients[l]);return i}add(r){if(!this.field.equals(r.field))throw new v("ModulusPolys do not have same ModulusGF field");if(this.isZero())return r;if(r.isZero())return this;let i=this.coefficients,o=r.coefficients;if(i.length>o.length){let d=i;i=o,o=d}let l=new Int32Array(o.length),c=o.length-i.length;S.arraycopy(o,0,l,0,c);for(let d=c;d<o.length;d++)l[d]=this.field.add(i[d-c],o[d]);return new qt(this.field,l)}subtract(r){if(!this.field.equals(r.field))throw new v("ModulusPolys do not have same ModulusGF field");return r.isZero()?this:this.add(r.negative())}multiply(r){return r instanceof qt?this.multiplyOther(r):this.multiplyScalar(r)}multiplyOther(r){if(!this.field.equals(r.field))throw new v("ModulusPolys do not have same ModulusGF field");if(this.isZero()||r.isZero())return new qt(this.field,new Int32Array([0]));let i=this.coefficients,o=i.length,l=r.coefficients,c=l.length,d=new Int32Array(o+c-1);for(let f=0;f<o;f++){let p=i[f];for(let y=0;y<c;y++)d[f+y]=this.field.add(d[f+y],this.field.multiply(p,l[y]))}return new qt(this.field,d)}negative(){let r=this.coefficients.length,i=new Int32Array(r);for(let o=0;o<r;o++)i[o]=this.field.subtract(0,this.coefficients[o]);return new qt(this.field,i)}multiplyScalar(r){if(r===0)return new qt(this.field,new Int32Array([0]));if(r===1)return this;let i=this.coefficients.length,o=new Int32Array(i);for(let l=0;l<i;l++)o[l]=this.field.multiply(this.coefficients[l],r);return new qt(this.field,o)}multiplyByMonomial(r,i){if(r<0)throw new v;if(i===0)return new qt(this.field,new Int32Array([0]));let o=this.coefficients.length,l=new Int32Array(o+r);for(let c=0;c<o;c++)l[c]=this.field.multiply(this.coefficients[c],i);return new qt(this.field,l)}toString(){let r=new fe;for(let i=this.getDegree();i>=0;i--){let o=this.getCoefficient(i);o!==0&&(o<0?(r.append(" - "),o=-o):r.length()>0&&r.append(" + "),(i===0||o!==1)&&r.append(o),i!==0&&(i===1?r.append("x"):(r.append("x^"),r.append(i))))}return r.toString()}}class TE{add(r,i){return(r+i)%this.modulus}subtract(r,i){return(this.modulus+r-i)%this.modulus}exp(r){return this.expTable[r]}log(r){if(r===0)throw new v;return this.logTable[r]}inverse(r){if(r===0)throw new Ge;return this.expTable[this.modulus-this.logTable[r]-1]}multiply(r,i){return r===0||i===0?0:this.expTable[(this.logTable[r]+this.logTable[i])%(this.modulus-1)]}getSize(){return this.modulus}equals(r){return r===this}}class Td extends TE{constructor(r,i){super(),this.modulus=r,this.expTable=new Int32Array(r),this.logTable=new Int32Array(r);let o=1;for(let l=0;l<r;l++)this.expTable[l]=o,o=o*i%r;for(let l=0;l<r-1;l++)this.logTable[this.expTable[l]]=l;this.zero=new qt(this,new Int32Array([0])),this.one=new qt(this,new Int32Array([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(r,i){if(r<0)throw new v;if(i===0)return this.zero;let o=new Int32Array(r+1);return o[0]=i,new qt(this,o)}}Td.PDF417_GF=new Td(Ie.NUMBER_OF_CODEWORDS,3);class tp{constructor(){this.field=Td.PDF417_GF}decode(r,i,o){let l=new qt(this.field,r),c=new Int32Array(i),d=!1;for(let j=i;j>0;j--){let V=l.evaluateAt(this.field.exp(j));c[i-j]=V,V!==0&&(d=!0)}if(!d)return 0;let f=this.field.getOne();if(o!=null)for(const j of o){let V=this.field.exp(r.length-1-j),Y=new qt(this.field,new Int32Array([this.field.subtract(0,V),1]));f=f.multiply(Y)}let p=new qt(this.field,c),y=this.runEuclideanAlgorithm(this.field.buildMonomial(i,1),p,i),E=y[0],T=y[1],M=this.findErrorLocations(E),L=this.findErrorMagnitudes(T,E,M);for(let j=0;j<M.length;j++){let V=r.length-1-this.field.log(M[j]);if(V<0)throw D.getChecksumInstance();r[V]=this.field.subtract(r[V],L[j])}return M.length}runEuclideanAlgorithm(r,i,o){if(r.getDegree()<i.getDegree()){let M=r;r=i,i=M}let l=r,c=i,d=this.field.getZero(),f=this.field.getOne();for(;c.getDegree()>=Math.round(o/2);){let M=l,L=d;if(l=c,d=f,l.isZero())throw D.getChecksumInstance();c=M;let j=this.field.getZero(),V=l.getCoefficient(l.getDegree()),Y=this.field.inverse(V);for(;c.getDegree()>=l.getDegree()&&!c.isZero();){let q=c.getDegree()-l.getDegree(),se=this.field.multiply(c.getCoefficient(c.getDegree()),Y);j=j.add(this.field.buildMonomial(q,se)),c=c.subtract(l.multiplyByMonomial(q,se))}f=j.multiply(d).subtract(L).negative()}let p=f.getCoefficient(0);if(p===0)throw D.getChecksumInstance();let y=this.field.inverse(p),E=f.multiply(y),T=c.multiply(y);return[E,T]}findErrorLocations(r){let i=r.getDegree(),o=new Int32Array(i),l=0;for(let c=1;c<this.field.getSize()&&l<i;c++)r.evaluateAt(c)===0&&(o[l]=this.field.inverse(c),l++);if(l!==i)throw D.getChecksumInstance();return o}findErrorMagnitudes(r,i,o){let l=i.getDegree(),c=new Int32Array(l);for(let y=1;y<=l;y++)c[l-y]=this.field.multiply(y,i.getCoefficient(y));let d=new qt(this.field,c),f=o.length,p=new Int32Array(f);for(let y=0;y<f;y++){let E=this.field.inverse(o[y]),T=this.field.subtract(0,r.evaluateAt(E)),M=this.field.inverse(d.evaluateAt(E));p[y]=this.field.multiply(T,M)}return p}}class xs{constructor(r,i,o,l,c){r instanceof xs?this.constructor_2(r):this.constructor_1(r,i,o,l,c)}constructor_1(r,i,o,l,c){const d=i==null||o==null,f=l==null||c==null;if(d&&f)throw new X;d?(i=new ye(0,l.getY()),o=new ye(0,c.getY())):f&&(l=new ye(r.getWidth()-1,i.getY()),c=new ye(r.getWidth()-1,o.getY())),this.image=r,this.topLeft=i,this.bottomLeft=o,this.topRight=l,this.bottomRight=c,this.minX=Math.trunc(Math.min(i.getX(),o.getX())),this.maxX=Math.trunc(Math.max(l.getX(),c.getX())),this.minY=Math.trunc(Math.min(i.getY(),l.getY())),this.maxY=Math.trunc(Math.max(o.getY(),c.getY()))}constructor_2(r){this.image=r.image,this.topLeft=r.getTopLeft(),this.bottomLeft=r.getBottomLeft(),this.topRight=r.getTopRight(),this.bottomRight=r.getBottomRight(),this.minX=r.getMinX(),this.maxX=r.getMaxX(),this.minY=r.getMinY(),this.maxY=r.getMaxY()}static merge(r,i){return r==null?i:i==null?r:new xs(r.image,r.topLeft,r.bottomLeft,i.topRight,i.bottomRight)}addMissingRows(r,i,o){let l=this.topLeft,c=this.bottomLeft,d=this.topRight,f=this.bottomRight;if(r>0){let p=o?this.topLeft:this.topRight,y=Math.trunc(p.getY()-r);y<0&&(y=0);let E=new ye(p.getX(),y);o?l=E:d=E}if(i>0){let p=o?this.bottomLeft:this.bottomRight,y=Math.trunc(p.getY()+i);y>=this.image.getHeight()&&(y=this.image.getHeight()-1);let E=new ye(p.getX(),y);o?c=E:f=E}return new xs(this.image,l,c,d,f)}getMinX(){return this.minX}getMaxX(){return this.maxX}getMinY(){return this.minY}getMaxY(){return this.maxY}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}getBottomLeft(){return this.bottomLeft}getBottomRight(){return this.bottomRight}}class RE{constructor(r,i,o,l){this.columnCount=r,this.errorCorrectionLevel=l,this.rowCountUpperPart=i,this.rowCountLowerPart=o,this.rowCount=i+o}getColumnCount(){return this.columnCount}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getRowCount(){return this.rowCount}getRowCountUpperPart(){return this.rowCountUpperPart}getRowCountLowerPart(){return this.rowCountLowerPart}}class Ea{constructor(){this.buffer=""}static form(r,i){let o=-1;function l(d,f,p,y,E,T){if(d==="%%")return"%";if(i[++o]===void 0)return;d=y?parseInt(y.substr(1)):void 0;let M=E?parseInt(E.substr(1)):void 0,L;switch(T){case"s":L=i[o];break;case"c":L=i[o][0];break;case"f":L=parseFloat(i[o]).toFixed(d);break;case"p":L=parseFloat(i[o]).toPrecision(d);break;case"e":L=parseFloat(i[o]).toExponential(d);break;case"x":L=parseInt(i[o]).toString(M||16);break;case"d":L=parseFloat(parseInt(i[o],M||10).toPrecision(d)).toFixed(0);break}L=typeof L=="object"?JSON.stringify(L):(+L).toString(M);let j=parseInt(p),V=p&&p[0]+""=="0"?"0":" ";for(;L.length<j;)L=f!==void 0?L+V:V+L;return L}let c=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return r.replace(c,l)}format(r,...i){this.buffer+=Ea.form(r,i)}toString(){return this.buffer}}class Aa{constructor(r){this.boundingBox=new xs(r),this.codewords=new Array(r.getMaxY()-r.getMinY()+1)}getCodewordNearby(r){let i=this.getCodeword(r);if(i!=null)return i;for(let o=1;o<Aa.MAX_NEARBY_DISTANCE;o++){let l=this.imageRowToCodewordIndex(r)-o;if(l>=0&&(i=this.codewords[l],i!=null)||(l=this.imageRowToCodewordIndex(r)+o,l<this.codewords.length&&(i=this.codewords[l],i!=null)))return i}return null}imageRowToCodewordIndex(r){return r-this.boundingBox.getMinY()}setCodeword(r,i){this.codewords[this.imageRowToCodewordIndex(r)]=i}getCodeword(r){return this.codewords[this.imageRowToCodewordIndex(r)]}getBoundingBox(){return this.boundingBox}getCodewords(){return this.codewords}toString(){const r=new Ea;let i=0;for(const o of this.codewords){if(o==null){r.format("%3d:    |   %n",i++);continue}r.format("%3d: %3d|%3d%n",i++,o.getRowNumber(),o.getValue())}return r.toString()}}Aa.MAX_NEARBY_DISTANCE=5;class Sa{constructor(){this.values=new Map}setValue(r){r=Math.trunc(r);let i=this.values.get(r);i==null&&(i=0),i++,this.values.set(r,i)}getValue(){let r=-1,i=new Array;for(const[o,l]of this.values.entries()){const c={getKey:()=>o,getValue:()=>l};c.getValue()>r?(r=c.getValue(),i=[],i.push(c.getKey())):c.getValue()===r&&i.push(c.getKey())}return Ie.toIntArray(i)}getConfidence(r){return this.values.get(r)}}class np extends Aa{constructor(r,i){super(r),this._isLeft=i}setRowNumbers(){for(let r of this.getCodewords())r!=null&&r.setRowNumberAsRowIndicatorColumn()}adjustCompleteIndicatorColumnRowNumbers(r){let i=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(i,r);let o=this.getBoundingBox(),l=this._isLeft?o.getTopLeft():o.getTopRight(),c=this._isLeft?o.getBottomLeft():o.getBottomRight(),d=this.imageRowToCodewordIndex(Math.trunc(l.getY())),f=this.imageRowToCodewordIndex(Math.trunc(c.getY())),p=-1,y=1,E=0;for(let T=d;T<f;T++){if(i[T]==null)continue;let M=i[T],L=M.getRowNumber()-p;if(L===0)E++;else if(L===1)y=Math.max(y,E),E=1,p=M.getRowNumber();else if(L<0||M.getRowNumber()>=r.getRowCount()||L>T)i[T]=null;else{let j;y>2?j=(y-2)*L:j=L;let V=j>=T;for(let Y=1;Y<=j&&!V;Y++)V=i[T-Y]!=null;V?i[T]=null:(p=M.getRowNumber(),E=1)}}}getRowHeights(){let r=this.getBarcodeMetadata();if(r==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(r);let i=new Int32Array(r.getRowCount());for(let o of this.getCodewords())if(o!=null){let l=o.getRowNumber();if(l>=i.length)continue;i[l]++}return i}adjustIncompleteIndicatorColumnRowNumbers(r){let i=this.getBoundingBox(),o=this._isLeft?i.getTopLeft():i.getTopRight(),l=this._isLeft?i.getBottomLeft():i.getBottomRight(),c=this.imageRowToCodewordIndex(Math.trunc(o.getY())),d=this.imageRowToCodewordIndex(Math.trunc(l.getY())),f=this.getCodewords(),p=-1;for(let y=c;y<d;y++){if(f[y]==null)continue;let E=f[y];E.setRowNumberAsRowIndicatorColumn();let T=E.getRowNumber()-p;T===0||(T===1?p=E.getRowNumber():E.getRowNumber()>=r.getRowCount()?f[y]=null:p=E.getRowNumber())}}getBarcodeMetadata(){let r=this.getCodewords(),i=new Sa,o=new Sa,l=new Sa,c=new Sa;for(let f of r){if(f==null)continue;f.setRowNumberAsRowIndicatorColumn();let p=f.getValue()%30,y=f.getRowNumber();switch(this._isLeft||(y+=2),y%3){case 0:o.setValue(p*3+1);break;case 1:c.setValue(p/3),l.setValue(p%3);break;case 2:i.setValue(p+1);break}}if(i.getValue().length===0||o.getValue().length===0||l.getValue().length===0||c.getValue().length===0||i.getValue()[0]<1||o.getValue()[0]+l.getValue()[0]<Ie.MIN_ROWS_IN_BARCODE||o.getValue()[0]+l.getValue()[0]>Ie.MAX_ROWS_IN_BARCODE)return null;let d=new RE(i.getValue()[0],o.getValue()[0],l.getValue()[0],c.getValue()[0]);return this.removeIncorrectCodewords(r,d),d}removeIncorrectCodewords(r,i){for(let o=0;o<r.length;o++){let l=r[o];if(r[o]==null)continue;let c=l.getValue()%30,d=l.getRowNumber();if(d>i.getRowCount()){r[o]=null;continue}switch(this._isLeft||(d+=2),d%3){case 0:c*3+1!==i.getRowCountUpperPart()&&(r[o]=null);break;case 1:(Math.trunc(c/3)!==i.getErrorCorrectionLevel()||c%3!==i.getRowCountLowerPart())&&(r[o]=null);break;case 2:c+1!==i.getColumnCount()&&(r[o]=null);break}}}isLeft(){return this._isLeft}toString(){return"IsLeft: "+this._isLeft+`
`+super.toString()}}class ba{constructor(r,i){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=r,this.barcodeColumnCount=r.getColumnCount(),this.boundingBox=i,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}getDetectionResultColumns(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);let r=Ie.MAX_CODEWORDS_IN_BARCODE,i;do i=r,r=this.adjustRowNumbersAndGetCount();while(r>0&&r<i);return this.detectionResultColumns}adjustIndicatorColumnRowNumbers(r){r!=null&&r.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)}adjustRowNumbersAndGetCount(){let r=this.adjustRowNumbersByRow();if(r===0)return 0;for(let i=1;i<this.barcodeColumnCount+1;i++){let o=this.detectionResultColumns[i].getCodewords();for(let l=0;l<o.length;l++)o[l]!=null&&(o[l].hasValidRowNumber()||this.adjustRowNumbers(i,l,o))}return r}adjustRowNumbersByRow(){return this.adjustRowNumbersFromBothRI(),this.adjustRowNumbersFromLRI()+this.adjustRowNumbersFromRRI()}adjustRowNumbersFromBothRI(){if(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)return;let r=this.detectionResultColumns[0].getCodewords(),i=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let o=0;o<r.length;o++)if(r[o]!=null&&i[o]!=null&&r[o].getRowNumber()===i[o].getRowNumber())for(let l=1;l<=this.barcodeColumnCount;l++){let c=this.detectionResultColumns[l].getCodewords()[o];c!=null&&(c.setRowNumber(r[o].getRowNumber()),c.hasValidRowNumber()||(this.detectionResultColumns[l].getCodewords()[o]=null))}}adjustRowNumbersFromRRI(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;let r=0,i=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let o=0;o<i.length;o++){if(i[o]==null)continue;let l=i[o].getRowNumber(),c=0;for(let d=this.barcodeColumnCount+1;d>0&&c<this.ADJUST_ROW_NUMBER_SKIP;d--){let f=this.detectionResultColumns[d].getCodewords()[o];f!=null&&(c=ba.adjustRowNumberIfValid(l,c,f),f.hasValidRowNumber()||r++)}}return r}adjustRowNumbersFromLRI(){if(this.detectionResultColumns[0]==null)return 0;let r=0,i=this.detectionResultColumns[0].getCodewords();for(let o=0;o<i.length;o++){if(i[o]==null)continue;let l=i[o].getRowNumber(),c=0;for(let d=1;d<this.barcodeColumnCount+1&&c<this.ADJUST_ROW_NUMBER_SKIP;d++){let f=this.detectionResultColumns[d].getCodewords()[o];f!=null&&(c=ba.adjustRowNumberIfValid(l,c,f),f.hasValidRowNumber()||r++)}}return r}static adjustRowNumberIfValid(r,i,o){return o==null||o.hasValidRowNumber()||(o.isValidRowNumber(r)?(o.setRowNumber(r),i=0):++i),i}adjustRowNumbers(r,i,o){if(!this.detectionResultColumns[r-1])return;let l=o[i],c=this.detectionResultColumns[r-1].getCodewords(),d=c;this.detectionResultColumns[r+1]!=null&&(d=this.detectionResultColumns[r+1].getCodewords());let f=new Array(14);f[2]=c[i],f[3]=d[i],i>0&&(f[0]=o[i-1],f[4]=c[i-1],f[5]=d[i-1]),i>1&&(f[8]=o[i-2],f[10]=c[i-2],f[11]=d[i-2]),i<o.length-1&&(f[1]=o[i+1],f[6]=c[i+1],f[7]=d[i+1]),i<o.length-2&&(f[9]=o[i+2],f[12]=c[i+2],f[13]=d[i+2]);for(let p of f)if(ba.adjustRowNumber(l,p))return}static adjustRowNumber(r,i){return i==null?!1:i.hasValidRowNumber()&&i.getBucket()===r.getBucket()?(r.setRowNumber(i.getRowNumber()),!0):!1}getBarcodeColumnCount(){return this.barcodeColumnCount}getBarcodeRowCount(){return this.barcodeMetadata.getRowCount()}getBarcodeECLevel(){return this.barcodeMetadata.getErrorCorrectionLevel()}setBoundingBox(r){this.boundingBox=r}getBoundingBox(){return this.boundingBox}setDetectionResultColumn(r,i){this.detectionResultColumns[r]=i}getDetectionResultColumn(r){return this.detectionResultColumns[r]}toString(){let r=this.detectionResultColumns[0];r==null&&(r=this.detectionResultColumns[this.barcodeColumnCount+1]);let i=new Ea;for(let o=0;o<r.getCodewords().length;o++){i.format("CW %3d:",o);for(let l=0;l<this.barcodeColumnCount+2;l++){if(this.detectionResultColumns[l]==null){i.format("    |   ");continue}let c=this.detectionResultColumns[l].getCodewords()[o];if(c==null){i.format("    |   ");continue}i.format(" %3d|%3d",c.getRowNumber(),c.getValue())}i.format("%n")}return i.toString()}}class Na{constructor(r,i,o,l){this.rowNumber=Na.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(r),this.endX=Math.trunc(i),this.bucket=Math.trunc(o),this.value=Math.trunc(l)}hasValidRowNumber(){return this.isValidRowNumber(this.rowNumber)}isValidRowNumber(r){return r!==Na.BARCODE_ROW_UNKNOWN&&this.bucket===r%3*3}setRowNumberAsRowIndicatorColumn(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))}getWidth(){return this.endX-this.startX}getStartX(){return this.startX}getEndX(){return this.endX}getBucket(){return this.bucket}getValue(){return this.value}getRowNumber(){return this.rowNumber}setRowNumber(r){this.rowNumber=r}toString(){return this.rowNumber+"|"+this.value}}Na.BARCODE_ROW_UNKNOWN=-1;class Nn{static initialize(){for(let r=0;r<Ie.SYMBOL_TABLE.length;r++){let i=Ie.SYMBOL_TABLE[r],o=i&1;for(let l=0;l<Ie.BARS_IN_MODULE;l++){let c=0;for(;(i&1)===o;)c+=1,i>>=1;o=i&1,Nn.RATIOS_TABLE[r]||(Nn.RATIOS_TABLE[r]=new Array(Ie.BARS_IN_MODULE)),Nn.RATIOS_TABLE[r][Ie.BARS_IN_MODULE-l-1]=Math.fround(c/Ie.MODULES_IN_CODEWORD)}}this.bSymbolTableReady=!0}static getDecodedValue(r){let i=Nn.getDecodedCodewordValue(Nn.sampleBitCounts(r));return i!==-1?i:Nn.getClosestDecodedValue(r)}static sampleBitCounts(r){let i=je.sum(r),o=new Int32Array(Ie.BARS_IN_MODULE),l=0,c=0;for(let d=0;d<Ie.MODULES_IN_CODEWORD;d++){let f=i/(2*Ie.MODULES_IN_CODEWORD)+d*i/Ie.MODULES_IN_CODEWORD;c+r[l]<=f&&(c+=r[l],l++),o[l]++}return o}static getDecodedCodewordValue(r){let i=Nn.getBitValue(r);return Ie.getCodeword(i)===-1?-1:i}static getBitValue(r){let i=0;for(let o=0;o<r.length;o++)for(let l=0;l<r[o];l++)i=i<<1|(o%2===0?1:0);return Math.trunc(i)}static getClosestDecodedValue(r){let i=je.sum(r),o=new Array(Ie.BARS_IN_MODULE);if(i>1)for(let d=0;d<o.length;d++)o[d]=Math.fround(r[d]/i);let l=Gl.MAX_VALUE,c=-1;this.bSymbolTableReady||Nn.initialize();for(let d=0;d<Nn.RATIOS_TABLE.length;d++){let f=0,p=Nn.RATIOS_TABLE[d];for(let y=0;y<Ie.BARS_IN_MODULE;y++){let E=Math.fround(p[y]-o[y]);if(f+=Math.fround(E*E),f>=l)break}f<l&&(l=f,c=Ie.SYMBOL_TABLE[d])}return c}}Nn.bSymbolTableReady=!1,Nn.RATIOS_TABLE=new Array(Ie.SYMBOL_TABLE.length).map(N=>new Array(Ie.BARS_IN_MODULE));class rp{constructor(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}getSegmentIndex(){return this.segmentIndex}setSegmentIndex(r){this.segmentIndex=r}getFileId(){return this.fileId}setFileId(r){this.fileId=r}getOptionalData(){return this.optionalData}setOptionalData(r){this.optionalData=r}isLastSegment(){return this.lastSegment}setLastSegment(r){this.lastSegment=r}getSegmentCount(){return this.segmentCount}setSegmentCount(r){this.segmentCount=r}getSender(){return this.sender||null}setSender(r){this.sender=r}getAddressee(){return this.addressee||null}setAddressee(r){this.addressee=r}getFileName(){return this.fileName}setFileName(r){this.fileName=r}getFileSize(){return this.fileSize}setFileSize(r){this.fileSize=r}getChecksum(){return this.checksum}setChecksum(r){this.checksum=r}getTimestamp(){return this.timestamp}setTimestamp(r){this.timestamp=r}}class ip{static parseLong(r,i=void 0){return parseInt(r,i)}}class sp extends m{}sp.kind="NullPointerException";class _E{writeBytes(r){this.writeBytesOffset(r,0,r.length)}writeBytesOffset(r,i,o){if(r==null)throw new sp;if(i<0||i>r.length||o<0||i+o>r.length||i+o<0)throw new P;if(o===0)return;for(let l=0;l<o;l++)this.write(r[i+l])}flush(){}close(){}}class OE extends m{}class ME extends _E{constructor(r=32){if(super(),this.count=0,r<0)throw new v("Negative initial size: "+r);this.buf=new Uint8Array(r)}ensureCapacity(r){r-this.buf.length>0&&this.grow(r)}grow(r){let o=this.buf.length<<1;if(o-r<0&&(o=r),o<0){if(r<0)throw new OE;o=R.MAX_VALUE}this.buf=I.copyOfUint8Array(this.buf,o)}write(r){this.ensureCapacity(this.count+1),this.buf[this.count]=r,this.count+=1}writeBytesOffset(r,i,o){if(i<0||i>r.length||o<0||i+o-r.length>0)throw new P;this.ensureCapacity(this.count+o),S.arraycopy(r,i,this.buf,this.count,o),this.count+=o}writeTo(r){r.writeBytesOffset(this.buf,0,this.count)}reset(){this.count=0}toByteArray(){return I.copyOfUint8Array(this.buf,this.count)}size(){return this.count}toString(r){return r?typeof r=="string"?this.toString_string(r):this.toString_number(r):this.toString_void()}toString_void(){return new String(this.buf).toString()}toString_string(r){return new String(this.buf).toString()}toString_number(r){return new String(this.buf).toString()}close(){}}var it;(function(N){N[N.ALPHA=0]="ALPHA",N[N.LOWER=1]="LOWER",N[N.MIXED=2]="MIXED",N[N.PUNCT=3]="PUNCT",N[N.ALPHA_SHIFT=4]="ALPHA_SHIFT",N[N.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(it||(it={}));function op(){if(typeof window<"u")return window.BigInt||null;if(typeof Ra<"u")return Ra.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}let $l;function Ci(N){if(typeof $l>"u"&&($l=op()),$l===null)throw new Error("BigInt is not supported!");return $l(N)}function DE(){let N=[];N[0]=Ci(1);let r=Ci(900);N[1]=r;for(let i=2;i<16;i++)N[i]=N[i-1]*r;return N}class Q{static decode(r,i){let o=new fe(""),l=H.ISO8859_1;o.enableDecoding(l);let c=1,d=r[c++],f=new rp;for(;c<r[0];){switch(d){case Q.TEXT_COMPACTION_MODE_LATCH:c=Q.textCompaction(r,c,o);break;case Q.BYTE_COMPACTION_MODE_LATCH:case Q.BYTE_COMPACTION_MODE_LATCH_6:c=Q.byteCompaction(d,r,l,c,o);break;case Q.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:o.append(r[c++]);break;case Q.NUMERIC_COMPACTION_MODE_LATCH:c=Q.numericCompaction(r,c,o);break;case Q.ECI_CHARSET:H.getCharacterSetECIByValue(r[c++]);break;case Q.ECI_GENERAL_PURPOSE:c+=2;break;case Q.ECI_USER_DEFINED:c++;break;case Q.BEGIN_MACRO_PDF417_CONTROL_BLOCK:c=Q.decodeMacroBlock(r,c,f);break;case Q.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Q.MACRO_PDF417_TERMINATOR:throw new B;default:c--,c=Q.textCompaction(r,c,o);break}if(c<r.length)d=r[c++];else throw B.getFormatInstance()}if(o.length()===0)throw B.getFormatInstance();let p=new Ke(null,o.toString(),null,i);return p.setOther(f),p}static decodeMacroBlock(r,i,o){if(i+Q.NUMBER_OF_SEQUENCE_CODEWORDS>r[0])throw B.getFormatInstance();let l=new Int32Array(Q.NUMBER_OF_SEQUENCE_CODEWORDS);for(let f=0;f<Q.NUMBER_OF_SEQUENCE_CODEWORDS;f++,i++)l[f]=r[i];o.setSegmentIndex(R.parseInt(Q.decodeBase900toBase10(l,Q.NUMBER_OF_SEQUENCE_CODEWORDS)));let c=new fe;i=Q.textCompaction(r,i,c),o.setFileId(c.toString());let d=-1;for(r[i]===Q.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(d=i+1);i<r[0];)switch(r[i]){case Q.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(i++,r[i]){case Q.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:let f=new fe;i=Q.textCompaction(r,i+1,f),o.setFileName(f.toString());break;case Q.MACRO_PDF417_OPTIONAL_FIELD_SENDER:let p=new fe;i=Q.textCompaction(r,i+1,p),o.setSender(p.toString());break;case Q.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:let y=new fe;i=Q.textCompaction(r,i+1,y),o.setAddressee(y.toString());break;case Q.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:let E=new fe;i=Q.numericCompaction(r,i+1,E),o.setSegmentCount(R.parseInt(E.toString()));break;case Q.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:let T=new fe;i=Q.numericCompaction(r,i+1,T),o.setTimestamp(ip.parseLong(T.toString()));break;case Q.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:let M=new fe;i=Q.numericCompaction(r,i+1,M),o.setChecksum(R.parseInt(M.toString()));break;case Q.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:let L=new fe;i=Q.numericCompaction(r,i+1,L),o.setFileSize(ip.parseLong(L.toString()));break;default:throw B.getFormatInstance()}break;case Q.MACRO_PDF417_TERMINATOR:i++,o.setLastSegment(!0);break;default:throw B.getFormatInstance()}if(d!==-1){let f=i-d;o.isLastSegment()&&f--,o.setOptionalData(I.copyOfRange(r,d,d+f))}return i}static textCompaction(r,i,o){let l=new Int32Array((r[0]-i)*2),c=new Int32Array((r[0]-i)*2),d=0,f=!1;for(;i<r[0]&&!f;){let p=r[i++];if(p<Q.TEXT_COMPACTION_MODE_LATCH)l[d]=p/30,l[d+1]=p%30,d+=2;else switch(p){case Q.TEXT_COMPACTION_MODE_LATCH:l[d++]=Q.TEXT_COMPACTION_MODE_LATCH;break;case Q.BYTE_COMPACTION_MODE_LATCH:case Q.BYTE_COMPACTION_MODE_LATCH_6:case Q.NUMERIC_COMPACTION_MODE_LATCH:case Q.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case Q.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Q.MACRO_PDF417_TERMINATOR:i--,f=!0;break;case Q.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:l[d]=Q.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,p=r[i++],c[d]=p,d++;break}}return Q.decodeTextCompaction(l,c,d,o),i}static decodeTextCompaction(r,i,o,l){let c=it.ALPHA,d=it.ALPHA,f=0;for(;f<o;){let p=r[f],y="";switch(c){case it.ALPHA:if(p<26)y=String.fromCharCode(65+p);else switch(p){case 26:y=" ";break;case Q.LL:c=it.LOWER;break;case Q.ML:c=it.MIXED;break;case Q.PS:d=c,c=it.PUNCT_SHIFT;break;case Q.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:l.append(i[f]);break;case Q.TEXT_COMPACTION_MODE_LATCH:c=it.ALPHA;break}break;case it.LOWER:if(p<26)y=String.fromCharCode(97+p);else switch(p){case 26:y=" ";break;case Q.AS:d=c,c=it.ALPHA_SHIFT;break;case Q.ML:c=it.MIXED;break;case Q.PS:d=c,c=it.PUNCT_SHIFT;break;case Q.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:l.append(i[f]);break;case Q.TEXT_COMPACTION_MODE_LATCH:c=it.ALPHA;break}break;case it.MIXED:if(p<Q.PL)y=Q.MIXED_CHARS[p];else switch(p){case Q.PL:c=it.PUNCT;break;case 26:y=" ";break;case Q.LL:c=it.LOWER;break;case Q.AL:c=it.ALPHA;break;case Q.PS:d=c,c=it.PUNCT_SHIFT;break;case Q.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:l.append(i[f]);break;case Q.TEXT_COMPACTION_MODE_LATCH:c=it.ALPHA;break}break;case it.PUNCT:if(p<Q.PAL)y=Q.PUNCT_CHARS[p];else switch(p){case Q.PAL:c=it.ALPHA;break;case Q.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:l.append(i[f]);break;case Q.TEXT_COMPACTION_MODE_LATCH:c=it.ALPHA;break}break;case it.ALPHA_SHIFT:if(c=d,p<26)y=String.fromCharCode(65+p);else switch(p){case 26:y=" ";break;case Q.TEXT_COMPACTION_MODE_LATCH:c=it.ALPHA;break}break;case it.PUNCT_SHIFT:if(c=d,p<Q.PAL)y=Q.PUNCT_CHARS[p];else switch(p){case Q.PAL:c=it.ALPHA;break;case Q.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:l.append(i[f]);break;case Q.TEXT_COMPACTION_MODE_LATCH:c=it.ALPHA;break}break}y!==""&&l.append(y),f++}}static byteCompaction(r,i,o,l,c){let d=new ME,f=0,p=0,y=!1;switch(r){case Q.BYTE_COMPACTION_MODE_LATCH:let E=new Int32Array(6),T=i[l++];for(;l<i[0]&&!y;)switch(E[f++]=T,p=900*p+T,T=i[l++],T){case Q.TEXT_COMPACTION_MODE_LATCH:case Q.BYTE_COMPACTION_MODE_LATCH:case Q.NUMERIC_COMPACTION_MODE_LATCH:case Q.BYTE_COMPACTION_MODE_LATCH_6:case Q.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case Q.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Q.MACRO_PDF417_TERMINATOR:l--,y=!0;break;default:if(f%5===0&&f>0){for(let M=0;M<6;++M)d.write(Number(Ci(p)>>Ci(8*(5-M))));p=0,f=0}break}l===i[0]&&T<Q.TEXT_COMPACTION_MODE_LATCH&&(E[f++]=T);for(let M=0;M<f;M++)d.write(E[M]);break;case Q.BYTE_COMPACTION_MODE_LATCH_6:for(;l<i[0]&&!y;){let M=i[l++];if(M<Q.TEXT_COMPACTION_MODE_LATCH)f++,p=900*p+M;else switch(M){case Q.TEXT_COMPACTION_MODE_LATCH:case Q.BYTE_COMPACTION_MODE_LATCH:case Q.NUMERIC_COMPACTION_MODE_LATCH:case Q.BYTE_COMPACTION_MODE_LATCH_6:case Q.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case Q.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Q.MACRO_PDF417_TERMINATOR:l--,y=!0;break}if(f%5===0&&f>0){for(let L=0;L<6;++L)d.write(Number(Ci(p)>>Ci(8*(5-L))));p=0,f=0}}break}return c.append(de.decode(d.toByteArray(),o)),l}static numericCompaction(r,i,o){let l=0,c=!1,d=new Int32Array(Q.MAX_NUMERIC_CODEWORDS);for(;i<r[0]&&!c;){let f=r[i++];if(i===r[0]&&(c=!0),f<Q.TEXT_COMPACTION_MODE_LATCH)d[l]=f,l++;else switch(f){case Q.TEXT_COMPACTION_MODE_LATCH:case Q.BYTE_COMPACTION_MODE_LATCH:case Q.BYTE_COMPACTION_MODE_LATCH_6:case Q.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case Q.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Q.MACRO_PDF417_TERMINATOR:i--,c=!0;break}(l%Q.MAX_NUMERIC_CODEWORDS===0||f===Q.NUMERIC_COMPACTION_MODE_LATCH||c)&&l>0&&(o.append(Q.decodeBase900toBase10(d,l)),l=0)}return i}static decodeBase900toBase10(r,i){let o=Ci(0);for(let c=0;c<i;c++)o+=Q.EXP900[i-c-1]*Ci(r[c]);let l=o.toString();if(l.charAt(0)!=="1")throw new B;return l.substring(1)}}Q.TEXT_COMPACTION_MODE_LATCH=900,Q.BYTE_COMPACTION_MODE_LATCH=901,Q.NUMERIC_COMPACTION_MODE_LATCH=902,Q.BYTE_COMPACTION_MODE_LATCH_6=924,Q.ECI_USER_DEFINED=925,Q.ECI_GENERAL_PURPOSE=926,Q.ECI_CHARSET=927,Q.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,Q.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,Q.MACRO_PDF417_TERMINATOR=922,Q.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,Q.MAX_NUMERIC_CODEWORDS=15,Q.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,Q.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,Q.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,Q.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,Q.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,Q.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,Q.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,Q.PL=25,Q.LL=27,Q.AS=27,Q.ML=28,Q.AL=28,Q.PS=29,Q.PAL=29,Q.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,Q.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",Q.EXP900=op()?DE():[],Q.NUMBER_OF_SEQUENCE_CODEWORDS=2;class Be{constructor(){}static decode(r,i,o,l,c,d,f){let p=new xs(r,i,o,l,c),y=null,E=null,T;for(let j=!0;;j=!1){if(i!=null&&(y=Be.getRowIndicatorColumn(r,p,i,!0,d,f)),l!=null&&(E=Be.getRowIndicatorColumn(r,p,l,!1,d,f)),T=Be.merge(y,E),T==null)throw X.getNotFoundInstance();let V=T.getBoundingBox();if(j&&V!=null&&(V.getMinY()<p.getMinY()||V.getMaxY()>p.getMaxY()))p=V;else break}T.setBoundingBox(p);let M=T.getBarcodeColumnCount()+1;T.setDetectionResultColumn(0,y),T.setDetectionResultColumn(M,E);let L=y!=null;for(let j=1;j<=M;j++){let V=L?j:M-j;if(T.getDetectionResultColumn(V)!==void 0)continue;let Y;V===0||V===M?Y=new np(p,V===0):Y=new Aa(p),T.setDetectionResultColumn(V,Y);let q=-1,se=q;for(let oe=p.getMinY();oe<=p.getMaxY();oe++){if(q=Be.getStartColumn(T,V,oe,L),q<0||q>p.getMaxX()){if(se===-1)continue;q=se}let ne=Be.detectCodeword(r,p.getMinX(),p.getMaxX(),L,q,oe,d,f);ne!=null&&(Y.setCodeword(oe,ne),se=q,d=Math.min(d,ne.getWidth()),f=Math.max(f,ne.getWidth()))}}return Be.createDecoderResult(T)}static merge(r,i){if(r==null&&i==null)return null;let o=Be.getBarcodeMetadata(r,i);if(o==null)return null;let l=xs.merge(Be.adjustBoundingBox(r),Be.adjustBoundingBox(i));return new ba(o,l)}static adjustBoundingBox(r){if(r==null)return null;let i=r.getRowHeights();if(i==null)return null;let o=Be.getMax(i),l=0;for(let f of i)if(l+=o-f,f>0)break;let c=r.getCodewords();for(let f=0;l>0&&c[f]==null;f++)l--;let d=0;for(let f=i.length-1;f>=0&&(d+=o-i[f],!(i[f]>0));f--);for(let f=c.length-1;d>0&&c[f]==null;f--)d--;return r.getBoundingBox().addMissingRows(l,d,r.isLeft())}static getMax(r){let i=-1;for(let o of r)i=Math.max(i,o);return i}static getBarcodeMetadata(r,i){let o;if(r==null||(o=r.getBarcodeMetadata())==null)return i==null?null:i.getBarcodeMetadata();let l;return i==null||(l=i.getBarcodeMetadata())==null?o:o.getColumnCount()!==l.getColumnCount()&&o.getErrorCorrectionLevel()!==l.getErrorCorrectionLevel()&&o.getRowCount()!==l.getRowCount()?null:o}static getRowIndicatorColumn(r,i,o,l,c,d){let f=new np(i,l);for(let p=0;p<2;p++){let y=p===0?1:-1,E=Math.trunc(Math.trunc(o.getX()));for(let T=Math.trunc(Math.trunc(o.getY()));T<=i.getMaxY()&&T>=i.getMinY();T+=y){let M=Be.detectCodeword(r,0,r.getWidth(),l,E,T,c,d);M!=null&&(f.setCodeword(T,M),l?E=M.getStartX():E=M.getEndX())}}return f}static adjustCodewordCount(r,i){let o=i[0][1],l=o.getValue(),c=r.getBarcodeColumnCount()*r.getBarcodeRowCount()-Be.getNumberOfECCodeWords(r.getBarcodeECLevel());if(l.length===0){if(c<1||c>Ie.MAX_CODEWORDS_IN_BARCODE)throw X.getNotFoundInstance();o.setValue(c)}else l[0]!==c&&o.setValue(c)}static createDecoderResult(r){let i=Be.createBarcodeMatrix(r);Be.adjustCodewordCount(r,i);let o=new Array,l=new Int32Array(r.getBarcodeRowCount()*r.getBarcodeColumnCount()),c=[],d=new Array;for(let p=0;p<r.getBarcodeRowCount();p++)for(let y=0;y<r.getBarcodeColumnCount();y++){let E=i[p][y+1].getValue(),T=p*r.getBarcodeColumnCount()+y;E.length===0?o.push(T):E.length===1?l[T]=E[0]:(d.push(T),c.push(E))}let f=new Array(c.length);for(let p=0;p<f.length;p++)f[p]=c[p];return Be.createDecoderResultFromAmbiguousValues(r.getBarcodeECLevel(),l,Ie.toIntArray(o),Ie.toIntArray(d),f)}static createDecoderResultFromAmbiguousValues(r,i,o,l,c){let d=new Int32Array(l.length),f=100;for(;f-- >0;){for(let p=0;p<d.length;p++)i[l[p]]=c[p][d[p]];try{return Be.decodeCodewords(i,r,o)}catch(p){if(!(p instanceof D))throw p}if(d.length===0)throw D.getChecksumInstance();for(let p=0;p<d.length;p++)if(d[p]<c[p].length-1){d[p]++;break}else if(d[p]=0,p===d.length-1)throw D.getChecksumInstance()}throw D.getChecksumInstance()}static createBarcodeMatrix(r){let i=Array.from({length:r.getBarcodeRowCount()},()=>new Array(r.getBarcodeColumnCount()+2));for(let l=0;l<i.length;l++)for(let c=0;c<i[l].length;c++)i[l][c]=new Sa;let o=0;for(let l of r.getDetectionResultColumns()){if(l!=null){for(let c of l.getCodewords())if(c!=null){let d=c.getRowNumber();if(d>=0){if(d>=i.length)continue;i[d][o].setValue(c.getValue())}}}o++}return i}static isValidBarcodeColumn(r,i){return i>=0&&i<=r.getBarcodeColumnCount()+1}static getStartColumn(r,i,o,l){let c=l?1:-1,d=null;if(Be.isValidBarcodeColumn(r,i-c)&&(d=r.getDetectionResultColumn(i-c).getCodeword(o)),d!=null)return l?d.getEndX():d.getStartX();if(d=r.getDetectionResultColumn(i).getCodewordNearby(o),d!=null)return l?d.getStartX():d.getEndX();if(Be.isValidBarcodeColumn(r,i-c)&&(d=r.getDetectionResultColumn(i-c).getCodewordNearby(o)),d!=null)return l?d.getEndX():d.getStartX();let f=0;for(;Be.isValidBarcodeColumn(r,i-c);){i-=c;for(let p of r.getDetectionResultColumn(i).getCodewords())if(p!=null)return(l?p.getEndX():p.getStartX())+c*f*(p.getEndX()-p.getStartX());f++}return l?r.getBoundingBox().getMinX():r.getBoundingBox().getMaxX()}static detectCodeword(r,i,o,l,c,d,f,p){c=Be.adjustCodewordStartColumn(r,i,o,l,c,d);let y=Be.getModuleBitCount(r,i,o,l,c,d);if(y==null)return null;let E,T=je.sum(y);if(l)E=c+T;else{for(let j=0;j<y.length/2;j++){let V=y[j];y[j]=y[y.length-1-j],y[y.length-1-j]=V}E=c,c=E-T}if(!Be.checkCodewordSkew(T,f,p))return null;let M=Nn.getDecodedValue(y),L=Ie.getCodeword(M);return L===-1?null:new Na(c,E,Be.getCodewordBucketNumber(M),L)}static getModuleBitCount(r,i,o,l,c,d){let f=c,p=new Int32Array(8),y=0,E=l?1:-1,T=l;for(;(l?f<o:f>=i)&&y<p.length;)r.get(f,d)===T?(p[y]++,f+=E):(y++,T=!T);return y===p.length||f===(l?o:i)&&y===p.length-1?p:null}static getNumberOfECCodeWords(r){return 2<<r}static adjustCodewordStartColumn(r,i,o,l,c,d){let f=c,p=l?-1:1;for(let y=0;y<2;y++){for(;(l?f>=i:f<o)&&l===r.get(f,d);){if(Math.abs(c-f)>Be.CODEWORD_SKEW_SIZE)return c;f+=p}p=-p,l=!l}return f}static checkCodewordSkew(r,i,o){return i-Be.CODEWORD_SKEW_SIZE<=r&&r<=o+Be.CODEWORD_SKEW_SIZE}static decodeCodewords(r,i,o){if(r.length===0)throw B.getFormatInstance();let l=1<<i+1,c=Be.correctErrors(r,o,l);Be.verifyCodewordCount(r,l);let d=Q.decode(r,""+i);return d.setErrorsCorrected(c),d.setErasures(o.length),d}static correctErrors(r,i,o){if(i!=null&&i.length>o/2+Be.MAX_ERRORS||o<0||o>Be.MAX_EC_CODEWORDS)throw D.getChecksumInstance();return Be.errorCorrection.decode(r,o,i)}static verifyCodewordCount(r,i){if(r.length<4)throw B.getFormatInstance();let o=r[0];if(o>r.length)throw B.getFormatInstance();if(o===0)if(i<r.length)r[0]=r.length-i;else throw B.getFormatInstance()}static getBitCountForCodeword(r){let i=new Int32Array(8),o=0,l=i.length-1;for(;!((r&1)!==o&&(o=r&1,l--,l<0));)i[l]++,r>>=1;return i}static getCodewordBucketNumber(r){return r instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(r):this.getCodewordBucketNumber_number(r)}static getCodewordBucketNumber_number(r){return Be.getCodewordBucketNumber(Be.getBitCountForCodeword(r))}static getCodewordBucketNumber_Int32Array(r){return(r[0]-r[2]+r[4]-r[6]+9)%9}static toString(r){let i=new Ea;for(let o=0;o<r.length;o++){i.format("Row %2d: ",o);for(let l=0;l<r[o].length;l++){let c=r[o][l];c.getValue().length===0?i.format("        ",null):i.format("%4d(%2d)",c.getValue()[0],c.getConfidence(c.getValue()[0]))}i.format("%n")}return i.toString()}}Be.CODEWORD_SKEW_SIZE=2,Be.MAX_ERRORS=3,Be.MAX_EC_CODEWORDS=512,Be.errorCorrection=new tp;class Zt{decode(r,i=null){let o=Zt.decode(r,i,!1);if(o==null||o.length===0||o[0]==null)throw X.getNotFoundInstance();return o[0]}decodeMultiple(r,i=null){try{return Zt.decode(r,i,!0)}catch(o){throw o instanceof B||o instanceof D?X.getNotFoundInstance():o}}static decode(r,i,o){const l=new Array,c=Pe.detectMultiple(r,i,o);for(const d of c.getPoints()){const f=Be.decode(c.getBits(),d[4],d[5],d[6],d[7],Zt.getMinCodewordWidth(d),Zt.getMaxCodewordWidth(d)),p=new Fe(f.getText(),f.getRawBytes(),void 0,d,he.PDF_417);p.putMetadata(Te.ERROR_CORRECTION_LEVEL,f.getECLevel());const y=f.getOther();y!=null&&p.putMetadata(Te.PDF417_EXTRA_METADATA,y),l.push(p)}return l.map(d=>d)}static getMaxWidth(r,i){return r==null||i==null?0:Math.trunc(Math.abs(r.getX()-i.getX()))}static getMinWidth(r,i){return r==null||i==null?R.MAX_VALUE:Math.trunc(Math.abs(r.getX()-i.getX()))}static getMaxCodewordWidth(r){return Math.floor(Math.max(Math.max(Zt.getMaxWidth(r[0],r[4]),Zt.getMaxWidth(r[6],r[2])*Ie.MODULES_IN_CODEWORD/Ie.MODULES_IN_STOP_PATTERN),Math.max(Zt.getMaxWidth(r[1],r[5]),Zt.getMaxWidth(r[7],r[3])*Ie.MODULES_IN_CODEWORD/Ie.MODULES_IN_STOP_PATTERN)))}static getMinCodewordWidth(r){return Math.floor(Math.min(Math.min(Zt.getMinWidth(r[0],r[4]),Zt.getMinWidth(r[6],r[2])*Ie.MODULES_IN_CODEWORD/Ie.MODULES_IN_STOP_PATTERN),Math.min(Zt.getMinWidth(r[1],r[5]),Zt.getMinWidth(r[7],r[3])*Ie.MODULES_IN_CODEWORD/Ie.MODULES_IN_STOP_PATTERN)))}reset(){}}class Jl extends m{}Jl.kind="ReaderException";class ap{constructor(r,i){this.verbose=r===!0,i&&this.setHints(i)}decode(r,i){return i&&this.setHints(i),this.decodeInternal(r)}decodeWithState(r){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(r)}setHints(r){this.hints=r;const i=!s(r)&&r.get(z.TRY_HARDER)===!0,o=s(r)?null:r.get(z.POSSIBLE_FORMATS),l=new Array;if(!s(o)){const c=o.some(d=>d===he.UPC_A||d===he.UPC_E||d===he.EAN_13||d===he.EAN_8||d===he.CODABAR||d===he.CODE_39||d===he.CODE_93||d===he.CODE_128||d===he.ITF||d===he.RSS_14||d===he.RSS_EXPANDED);c&&!i&&l.push(new no(r,this.verbose)),o.includes(he.QR_CODE)&&l.push(new vi),o.includes(he.DATA_MATRIX)&&l.push(new yi),o.includes(he.AZTEC)&&l.push(new Yl),o.includes(he.PDF_417)&&l.push(new Zt),c&&i&&l.push(new no(r,this.verbose))}l.length===0&&(i||l.push(new no(r,this.verbose)),l.push(new vi),l.push(new yi),l.push(new Yl),l.push(new Zt),i&&l.push(new no(r,this.verbose))),this.readers=l}reset(){if(this.readers!==null)for(const r of this.readers)r.reset()}decodeInternal(r){if(this.readers===null)throw new Jl("No readers where selected, nothing can be read.");for(const i of this.readers)try{return i.decode(r,this.hints)}catch(o){if(o instanceof Jl)continue}throw new X("No MultiFormat Readers were able to detect the code.")}}class PE extends at{constructor(r=null,i=500){const o=new ap;o.setHints(r),super(o,i)}decodeBitmap(r){return this.reader.decodeWithState(r)}}class kE extends at{constructor(r=500){super(new Zt,r)}}class LE extends at{constructor(r=500){super(new vi,r)}}var Rd;(function(N){N[N.ERROR_CORRECTION=0]="ERROR_CORRECTION",N[N.CHARACTER_SET=1]="CHARACTER_SET",N[N.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",N[N.MIN_SIZE=3]="MIN_SIZE",N[N.MAX_SIZE=4]="MAX_SIZE",N[N.MARGIN=5]="MARGIN",N[N.PDF417_COMPACT=6]="PDF417_COMPACT",N[N.PDF417_COMPACTION=7]="PDF417_COMPACTION",N[N.PDF417_DIMENSIONS=8]="PDF417_DIMENSIONS",N[N.AZTEC_LAYERS=9]="AZTEC_LAYERS",N[N.QR_VERSION=10]="QR_VERSION"})(Rd||(Rd={}));var Ut=Rd;class _d{constructor(r){this.field=r,this.cachedGenerators=[],this.cachedGenerators.push(new Oe(r,Int32Array.from([1])))}buildGenerator(r){const i=this.cachedGenerators;if(r>=i.length){let o=i[i.length-1];const l=this.field;for(let c=i.length;c<=r;c++){const d=o.multiply(new Oe(l,Int32Array.from([1,l.exp(c-1+l.getGeneratorBase())])));i.push(d),o=d}}return i[r]}encode(r,i){if(i===0)throw new v("No error correction bytes");const o=r.length-i;if(o<=0)throw new v("No data bytes provided");const l=this.buildGenerator(i),c=new Int32Array(o);S.arraycopy(r,0,c,0,o);let d=new Oe(this.field,c);d=d.multiplyByMonomial(i,1);const p=d.divide(l)[1].getCoefficients(),y=i-p.length;for(let E=0;E<y;E++)r[o+E]=0;S.arraycopy(p,0,r,o+y,p.length)}}class _t{constructor(){}static applyMaskPenaltyRule1(r){return _t.applyMaskPenaltyRule1Internal(r,!0)+_t.applyMaskPenaltyRule1Internal(r,!1)}static applyMaskPenaltyRule2(r){let i=0;const o=r.getArray(),l=r.getWidth(),c=r.getHeight();for(let d=0;d<c-1;d++){const f=o[d];for(let p=0;p<l-1;p++){const y=f[p];y===f[p+1]&&y===o[d+1][p]&&y===o[d+1][p+1]&&i++}}return _t.N2*i}static applyMaskPenaltyRule3(r){let i=0;const o=r.getArray(),l=r.getWidth(),c=r.getHeight();for(let d=0;d<c;d++)for(let f=0;f<l;f++){const p=o[d];f+6<l&&p[f]===1&&p[f+1]===0&&p[f+2]===1&&p[f+3]===1&&p[f+4]===1&&p[f+5]===0&&p[f+6]===1&&(_t.isWhiteHorizontal(p,f-4,f)||_t.isWhiteHorizontal(p,f+7,f+11))&&i++,d+6<c&&o[d][f]===1&&o[d+1][f]===0&&o[d+2][f]===1&&o[d+3][f]===1&&o[d+4][f]===1&&o[d+5][f]===0&&o[d+6][f]===1&&(_t.isWhiteVertical(o,f,d-4,d)||_t.isWhiteVertical(o,f,d+7,d+11))&&i++}return i*_t.N3}static isWhiteHorizontal(r,i,o){i=Math.max(i,0),o=Math.min(o,r.length);for(let l=i;l<o;l++)if(r[l]===1)return!1;return!0}static isWhiteVertical(r,i,o,l){o=Math.max(o,0),l=Math.min(l,r.length);for(let c=o;c<l;c++)if(r[c][i]===1)return!1;return!0}static applyMaskPenaltyRule4(r){let i=0;const o=r.getArray(),l=r.getWidth(),c=r.getHeight();for(let p=0;p<c;p++){const y=o[p];for(let E=0;E<l;E++)y[E]===1&&i++}const d=r.getHeight()*r.getWidth();return Math.floor(Math.abs(i*2-d)*10/d)*_t.N4}static getDataMaskBit(r,i,o){let l,c;switch(r){case 0:l=o+i&1;break;case 1:l=o&1;break;case 2:l=i%3;break;case 3:l=(o+i)%3;break;case 4:l=Math.floor(o/2)+Math.floor(i/3)&1;break;case 5:c=o*i,l=(c&1)+c%3;break;case 6:c=o*i,l=(c&1)+c%3&1;break;case 7:c=o*i,l=c%3+(o+i&1)&1;break;default:throw new v("Invalid mask pattern: "+r)}return l===0}static applyMaskPenaltyRule1Internal(r,i){let o=0;const l=i?r.getHeight():r.getWidth(),c=i?r.getWidth():r.getHeight(),d=r.getArray();for(let f=0;f<l;f++){let p=0,y=-1;for(let E=0;E<c;E++){const T=i?d[f][E]:d[E][f];T===y?p++:(p>=5&&(o+=_t.N1+(p-5)),p=1,y=T)}p>=5&&(o+=_t.N1+(p-5))}return o}}_t.N1=3,_t.N2=3,_t.N3=40,_t.N4=10;class ec{constructor(r,i){this.width=r,this.height=i;const o=new Array(i);for(let l=0;l!==i;l++)o[l]=new Uint8Array(r);this.bytes=o}getHeight(){return this.height}getWidth(){return this.width}get(r,i){return this.bytes[i][r]}getArray(){return this.bytes}setNumber(r,i,o){this.bytes[i][r]=o}setBoolean(r,i,o){this.bytes[i][r]=o?1:0}clear(r){for(const i of this.bytes)I.fill(i,r)}equals(r){if(!(r instanceof ec))return!1;const i=r;if(this.width!==i.width||this.height!==i.height)return!1;for(let o=0,l=this.height;o<l;++o){const c=this.bytes[o],d=i.bytes[o];for(let f=0,p=this.width;f<p;++f)if(c[f]!==d[f])return!1}return!0}toString(){const r=new fe;for(let i=0,o=this.height;i<o;++i){const l=this.bytes[i];for(let c=0,d=this.width;c<d;++c)switch(l[c]){case 0:r.append(" 0");break;case 1:r.append(" 1");break;default:r.append("  ");break}r.append(`
`)}return r.toString()}}class ws{constructor(){this.maskPattern=-1}getMode(){return this.mode}getECLevel(){return this.ecLevel}getVersion(){return this.version}getMaskPattern(){return this.maskPattern}getMatrix(){return this.matrix}toString(){const r=new fe;return r.append(`<<
`),r.append(" mode: "),r.append(this.mode?this.mode.toString():"null"),r.append(`
 ecLevel: `),r.append(this.ecLevel?this.ecLevel.toString():"null"),r.append(`
 version: `),r.append(this.version?this.version.toString():"null"),r.append(`
 maskPattern: `),r.append(this.maskPattern.toString()),this.matrix?(r.append(`
 matrix:
`),r.append(this.matrix.toString())):r.append(`
 matrix: null
`),r.append(`>>
`),r.toString()}setMode(r){this.mode=r}setECLevel(r){this.ecLevel=r}setVersion(r){this.version=r}setMaskPattern(r){this.maskPattern=r}setMatrix(r){this.matrix=r}static isValidMaskPattern(r){return r>=0&&r<ws.NUM_MASK_PATTERNS}}ws.NUM_MASK_PATTERNS=8;class ct extends m{}ct.kind="WriterException";class be{constructor(){}static clearMatrix(r){r.clear(255)}static buildMatrix(r,i,o,l,c){be.clearMatrix(c),be.embedBasicPatterns(o,c),be.embedTypeInfo(i,l,c),be.maybeEmbedVersionInfo(o,c),be.embedDataBits(r,l,c)}static embedBasicPatterns(r,i){be.embedPositionDetectionPatternsAndSeparators(i),be.embedDarkDotAtLeftBottomCorner(i),be.maybeEmbedPositionAdjustmentPatterns(r,i),be.embedTimingPatterns(i)}static embedTypeInfo(r,i,o){const l=new F;be.makeTypeInfoBits(r,i,l);for(let c=0,d=l.getSize();c<d;++c){const f=l.get(l.getSize()-1-c),p=be.TYPE_INFO_COORDINATES[c],y=p[0],E=p[1];if(o.setBoolean(y,E,f),c<8){const T=o.getWidth()-c-1;o.setBoolean(T,8,f)}else{const M=o.getHeight()-7+(c-8);o.setBoolean(8,M,f)}}}static maybeEmbedVersionInfo(r,i){if(r.getVersionNumber()<7)return;const o=new F;be.makeVersionInfoBits(r,o);let l=6*3-1;for(let c=0;c<6;++c)for(let d=0;d<3;++d){const f=o.get(l);l--,i.setBoolean(c,i.getHeight()-11+d,f),i.setBoolean(i.getHeight()-11+d,c,f)}}static embedDataBits(r,i,o){let l=0,c=-1,d=o.getWidth()-1,f=o.getHeight()-1;for(;d>0;){for(d===6&&(d-=1);f>=0&&f<o.getHeight();){for(let p=0;p<2;++p){const y=d-p;if(!be.isEmpty(o.get(y,f)))continue;let E;l<r.getSize()?(E=r.get(l),++l):E=!1,i!==255&&_t.getDataMaskBit(i,y,f)&&(E=!E),o.setBoolean(y,f,E)}f+=c}c=-c,f+=c,d-=2}if(l!==r.getSize())throw new ct("Not all bits consumed: "+l+"/"+r.getSize())}static findMSBSet(r){return 32-R.numberOfLeadingZeros(r)}static calculateBCHCode(r,i){if(i===0)throw new v("0 polynomial");const o=be.findMSBSet(i);for(r<<=o-1;be.findMSBSet(r)>=o;)r^=i<<be.findMSBSet(r)-o;return r}static makeTypeInfoBits(r,i,o){if(!ws.isValidMaskPattern(i))throw new ct("Invalid mask pattern");const l=r.getBits()<<3|i;o.appendBits(l,5);const c=be.calculateBCHCode(l,be.TYPE_INFO_POLY);o.appendBits(c,10);const d=new F;if(d.appendBits(be.TYPE_INFO_MASK_PATTERN,15),o.xor(d),o.getSize()!==15)throw new ct("should not happen but we got: "+o.getSize())}static makeVersionInfoBits(r,i){i.appendBits(r.getVersionNumber(),6);const o=be.calculateBCHCode(r.getVersionNumber(),be.VERSION_INFO_POLY);if(i.appendBits(o,12),i.getSize()!==18)throw new ct("should not happen but we got: "+i.getSize())}static isEmpty(r){return r===255}static embedTimingPatterns(r){for(let i=8;i<r.getWidth()-8;++i){const o=(i+1)%2;be.isEmpty(r.get(i,6))&&r.setNumber(i,6,o),be.isEmpty(r.get(6,i))&&r.setNumber(6,i,o)}}static embedDarkDotAtLeftBottomCorner(r){if(r.get(8,r.getHeight()-8)===0)throw new ct;r.setNumber(8,r.getHeight()-8,1)}static embedHorizontalSeparationPattern(r,i,o){for(let l=0;l<8;++l){if(!be.isEmpty(o.get(r+l,i)))throw new ct;o.setNumber(r+l,i,0)}}static embedVerticalSeparationPattern(r,i,o){for(let l=0;l<7;++l){if(!be.isEmpty(o.get(r,i+l)))throw new ct;o.setNumber(r,i+l,0)}}static embedPositionAdjustmentPattern(r,i,o){for(let l=0;l<5;++l){const c=be.POSITION_ADJUSTMENT_PATTERN[l];for(let d=0;d<5;++d)o.setNumber(r+d,i+l,c[d])}}static embedPositionDetectionPattern(r,i,o){for(let l=0;l<7;++l){const c=be.POSITION_DETECTION_PATTERN[l];for(let d=0;d<7;++d)o.setNumber(r+d,i+l,c[d])}}static embedPositionDetectionPatternsAndSeparators(r){const i=be.POSITION_DETECTION_PATTERN[0].length;be.embedPositionDetectionPattern(0,0,r),be.embedPositionDetectionPattern(r.getWidth()-i,0,r),be.embedPositionDetectionPattern(0,r.getWidth()-i,r);const o=8;be.embedHorizontalSeparationPattern(0,o-1,r),be.embedHorizontalSeparationPattern(r.getWidth()-o,o-1,r),be.embedHorizontalSeparationPattern(0,r.getWidth()-o,r);const l=7;be.embedVerticalSeparationPattern(l,0,r),be.embedVerticalSeparationPattern(r.getHeight()-l-1,0,r),be.embedVerticalSeparationPattern(l,r.getHeight()-l,r)}static maybeEmbedPositionAdjustmentPatterns(r,i){if(r.getVersionNumber()<2)return;const o=r.getVersionNumber()-1,l=be.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[o];for(let c=0,d=l.length;c!==d;c++){const f=l[c];if(f>=0)for(let p=0;p!==d;p++){const y=l[p];y>=0&&be.isEmpty(i.get(y,f))&&be.embedPositionAdjustmentPattern(y-2,f-2,i)}}}}be.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),be.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),be.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),be.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),be.VERSION_INFO_POLY=7973,be.TYPE_INFO_POLY=1335,be.TYPE_INFO_MASK_PATTERN=21522;class FE{constructor(r,i){this.dataBytes=r,this.errorCorrectionBytes=i}getDataBytes(){return this.dataBytes}getErrorCorrectionBytes(){return this.errorCorrectionBytes}}class gt{constructor(){}static calculateMaskPenalty(r){return _t.applyMaskPenaltyRule1(r)+_t.applyMaskPenaltyRule2(r)+_t.applyMaskPenaltyRule3(r)+_t.applyMaskPenaltyRule4(r)}static encode(r,i,o=null){let l=gt.DEFAULT_BYTE_MODE_ENCODING;const c=o!==null&&o.get(Ut.CHARACTER_SET)!==void 0;c&&(l=o.get(Ut.CHARACTER_SET).toString());const d=this.chooseMode(r,l),f=new F;if(d===Se.BYTE&&(c||gt.DEFAULT_BYTE_MODE_ENCODING!==l)){const oe=H.getCharacterSetECIByName(l);oe!==void 0&&this.appendECI(oe,f)}this.appendModeInfo(d,f);const p=new F;this.appendBytes(r,d,p,l);let y;if(o!==null&&o.get(Ut.QR_VERSION)!==void 0){const oe=Number.parseInt(o.get(Ut.QR_VERSION).toString(),10);y=Ee.getVersionForNumber(oe);const ne=this.calculateBitsNeeded(d,f,p,y);if(!this.willFit(ne,y,i))throw new ct("Data too big for requested version")}else y=this.recommendVersion(i,d,f,p);const E=new F;E.appendBitArray(f);const T=d===Se.BYTE?p.getSizeInBytes():r.length;this.appendLengthInfo(T,y,d,E),E.appendBitArray(p);const M=y.getECBlocksForLevel(i),L=y.getTotalCodewords()-M.getTotalECCodewords();this.terminateBits(L,E);const j=this.interleaveWithECBytes(E,y.getTotalCodewords(),L,M.getNumBlocks()),V=new ws;V.setECLevel(i),V.setMode(d),V.setVersion(y);const Y=y.getDimensionForVersion(),q=new ec(Y,Y),se=this.chooseMaskPattern(j,i,y,q);return V.setMaskPattern(se),be.buildMatrix(j,i,y,se,q),V.setMatrix(q),V}static recommendVersion(r,i,o,l){const c=this.calculateBitsNeeded(i,o,l,Ee.getVersionForNumber(1)),d=this.chooseVersion(c,r),f=this.calculateBitsNeeded(i,o,l,d);return this.chooseVersion(f,r)}static calculateBitsNeeded(r,i,o,l){return i.getSize()+r.getCharacterCountBits(l)+o.getSize()}static getAlphanumericCode(r){return r<gt.ALPHANUMERIC_TABLE.length?gt.ALPHANUMERIC_TABLE[r]:-1}static chooseMode(r,i=null){if(H.SJIS.getName()===i&&this.isOnlyDoubleByteKanji(r))return Se.KANJI;let o=!1,l=!1;for(let c=0,d=r.length;c<d;++c){const f=r.charAt(c);if(gt.isDigit(f))o=!0;else if(this.getAlphanumericCode(f.charCodeAt(0))!==-1)l=!0;else return Se.BYTE}return l?Se.ALPHANUMERIC:o?Se.NUMERIC:Se.BYTE}static isOnlyDoubleByteKanji(r){let i;try{i=de.encode(r,H.SJIS)}catch{return!1}const o=i.length;if(o%2!==0)return!1;for(let l=0;l<o;l+=2){const c=i[l]&255;if((c<129||c>159)&&(c<224||c>235))return!1}return!0}static chooseMaskPattern(r,i,o,l){let c=Number.MAX_SAFE_INTEGER,d=-1;for(let f=0;f<ws.NUM_MASK_PATTERNS;f++){be.buildMatrix(r,i,o,f,l);let p=this.calculateMaskPenalty(l);p<c&&(c=p,d=f)}return d}static chooseVersion(r,i){for(let o=1;o<=40;o++){const l=Ee.getVersionForNumber(o);if(gt.willFit(r,l,i))return l}throw new ct("Data too big")}static willFit(r,i,o){const l=i.getTotalCodewords(),d=i.getECBlocksForLevel(o).getTotalECCodewords(),f=l-d,p=(r+7)/8;return f>=p}static terminateBits(r,i){const o=r*8;if(i.getSize()>o)throw new ct("data bits cannot fit in the QR Code"+i.getSize()+" > "+o);for(let d=0;d<4&&i.getSize()<o;++d)i.appendBit(!1);const l=i.getSize()&7;if(l>0)for(let d=l;d<8;d++)i.appendBit(!1);const c=r-i.getSizeInBytes();for(let d=0;d<c;++d)i.appendBits(d&1?17:236,8);if(i.getSize()!==o)throw new ct("Bits size does not equal capacity")}static getNumDataBytesAndNumECBytesForBlockID(r,i,o,l,c,d){if(l>=o)throw new ct("Block ID too large");const f=r%o,p=o-f,y=Math.floor(r/o),E=y+1,T=Math.floor(i/o),M=T+1,L=y-T,j=E-M;if(L!==j)throw new ct("EC bytes mismatch");if(o!==p+f)throw new ct("RS blocks mismatch");if(r!==(T+L)*p+(M+j)*f)throw new ct("Total bytes mismatch");l<p?(c[0]=T,d[0]=L):(c[0]=M,d[0]=j)}static interleaveWithECBytes(r,i,o,l){if(r.getSizeInBytes()!==o)throw new ct("Number of bits and data bytes does not match");let c=0,d=0,f=0;const p=new Array;for(let E=0;E<l;++E){const T=new Int32Array(1),M=new Int32Array(1);gt.getNumDataBytesAndNumECBytesForBlockID(i,o,l,E,T,M);const L=T[0],j=new Uint8Array(L);r.toBytes(8*c,j,0,L);const V=gt.generateECBytes(j,M[0]);p.push(new FE(j,V)),d=Math.max(d,L),f=Math.max(f,V.length),c+=T[0]}if(o!==c)throw new ct("Data bytes does not match offset");const y=new F;for(let E=0;E<d;++E)for(const T of p){const M=T.getDataBytes();E<M.length&&y.appendBits(M[E],8)}for(let E=0;E<f;++E)for(const T of p){const M=T.getErrorCorrectionBytes();E<M.length&&y.appendBits(M[E],8)}if(i!==y.getSizeInBytes())throw new ct("Interleaving error: "+i+" and "+y.getSizeInBytes()+" differ.");return y}static generateECBytes(r,i){const o=r.length,l=new Int32Array(o+i);for(let d=0;d<o;d++)l[d]=r[d]&255;new _d(Re.QR_CODE_FIELD_256).encode(l,i);const c=new Uint8Array(i);for(let d=0;d<i;d++)c[d]=l[o+d];return c}static appendModeInfo(r,i){i.appendBits(r.getBits(),4)}static appendLengthInfo(r,i,o,l){const c=o.getCharacterCountBits(i);if(r>=1<<c)throw new ct(r+" is bigger than "+((1<<c)-1));l.appendBits(r,c)}static appendBytes(r,i,o,l){switch(i){case Se.NUMERIC:gt.appendNumericBytes(r,o);break;case Se.ALPHANUMERIC:gt.appendAlphanumericBytes(r,o);break;case Se.BYTE:gt.append8BitBytes(r,o,l);break;case Se.KANJI:gt.appendKanjiBytes(r,o);break;default:throw new ct("Invalid mode: "+i)}}static getDigit(r){return r.charCodeAt(0)-48}static isDigit(r){const i=gt.getDigit(r);return i>=0&&i<=9}static appendNumericBytes(r,i){const o=r.length;let l=0;for(;l<o;){const c=gt.getDigit(r.charAt(l));if(l+2<o){const d=gt.getDigit(r.charAt(l+1)),f=gt.getDigit(r.charAt(l+2));i.appendBits(c*100+d*10+f,10),l+=3}else if(l+1<o){const d=gt.getDigit(r.charAt(l+1));i.appendBits(c*10+d,7),l+=2}else i.appendBits(c,4),l++}}static appendAlphanumericBytes(r,i){const o=r.length;let l=0;for(;l<o;){const c=gt.getAlphanumericCode(r.charCodeAt(l));if(c===-1)throw new ct;if(l+1<o){const d=gt.getAlphanumericCode(r.charCodeAt(l+1));if(d===-1)throw new ct;i.appendBits(c*45+d,11),l+=2}else i.appendBits(c,6),l++}}static append8BitBytes(r,i,o){let l;try{l=de.encode(r,o)}catch(c){throw new ct(c)}for(let c=0,d=l.length;c!==d;c++){const f=l[c];i.appendBits(f,8)}}static appendKanjiBytes(r,i){let o;try{o=de.encode(r,H.SJIS)}catch(c){throw new ct(c)}const l=o.length;for(let c=0;c<l;c+=2){const d=o[c]&255,f=o[c+1]&255,p=d<<8&4294967295|f;let y=-1;if(p>=33088&&p<=40956?y=p-33088:p>=57408&&p<=60351&&(y=p-49472),y===-1)throw new ct("Invalid byte sequence");const E=(y>>8)*192+(y&255);i.appendBits(E,13)}}static appendECI(r,i){i.appendBits(Se.ECI.getBits(),4),i.appendBits(r.getValue(),8)}}gt.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),gt.DEFAULT_BYTE_MODE_ENCODING=H.UTF8.getName();class ys{write(r,i,o,l=null){if(r.length===0)throw new v("Found empty contents");if(i<0||o<0)throw new v("Requested dimensions are too small: "+i+"x"+o);let c=dt.L,d=ys.QUIET_ZONE_SIZE;l!==null&&(l.get(Ut.ERROR_CORRECTION)!==void 0&&(c=dt.fromString(l.get(Ut.ERROR_CORRECTION).toString())),l.get(Ut.MARGIN)!==void 0&&(d=Number.parseInt(l.get(Ut.MARGIN).toString(),10)));const f=gt.encode(r,c,l);return this.renderResult(f,i,o,d)}writeToDom(r,i,o,l,c=null){typeof r=="string"&&(r=document.querySelector(r));const d=this.write(i,o,l,c);r&&r.appendChild(d)}renderResult(r,i,o,l){const c=r.getMatrix();if(c===null)throw new nn;const d=c.getWidth(),f=c.getHeight(),p=d+l*2,y=f+l*2,E=Math.max(i,p),T=Math.max(o,y),M=Math.min(Math.floor(E/p),Math.floor(T/y)),L=Math.floor((E-d*M)/2),j=Math.floor((T-f*M)/2),V=this.createSVGElement(E,T);for(let Y=0,q=j;Y<f;Y++,q+=M)for(let se=0,oe=L;se<d;se++,oe+=M)if(c.get(se,Y)===1){const ne=this.createSvgRectElement(oe,q,M,M);V.appendChild(ne)}return V}createSVGElement(r,i){const o=document.createElementNS(ys.SVG_NS,"svg");return o.setAttributeNS(null,"height",r.toString()),o.setAttributeNS(null,"width",i.toString()),o}createSvgRectElement(r,i,o,l){const c=document.createElementNS(ys.SVG_NS,"rect");return c.setAttributeNS(null,"x",r.toString()),c.setAttributeNS(null,"y",i.toString()),c.setAttributeNS(null,"height",o.toString()),c.setAttributeNS(null,"width",l.toString()),c.setAttributeNS(null,"fill","#000000"),c}}ys.QUIET_ZONE_SIZE=4,ys.SVG_NS="http://www.w3.org/2000/svg";class io{encode(r,i,o,l,c){if(r.length===0)throw new v("Found empty contents");if(i!==he.QR_CODE)throw new v("Can only encode QR_CODE, but got "+i);if(o<0||l<0)throw new v(`Requested dimensions are too small: ${o}x${l}`);let d=dt.L,f=io.QUIET_ZONE_SIZE;c!==null&&(c.get(Ut.ERROR_CORRECTION)!==void 0&&(d=dt.fromString(c.get(Ut.ERROR_CORRECTION).toString())),c.get(Ut.MARGIN)!==void 0&&(f=Number.parseInt(c.get(Ut.MARGIN).toString(),10)));const p=gt.encode(r,d,c);return io.renderResult(p,o,l,f)}static renderResult(r,i,o,l){const c=r.getMatrix();if(c===null)throw new nn;const d=c.getWidth(),f=c.getHeight(),p=d+l*2,y=f+l*2,E=Math.max(i,p),T=Math.max(o,y),M=Math.min(Math.floor(E/p),Math.floor(T/y)),L=Math.floor((E-d*M)/2),j=Math.floor((T-f*M)/2),V=new te(E,T);for(let Y=0,q=j;Y<f;Y++,q+=M)for(let se=0,oe=L;se<d;se++,oe+=M)c.get(se,Y)===1&&V.setRegion(oe,q,M,M);return V}}io.QUIET_ZONE_SIZE=4;class BE{encode(r,i,o,l,c){let d;switch(i){case he.QR_CODE:d=new io;break;default:throw new v("No encoder available for format "+i)}return d.encode(r,i,o,l,c)}}class _r extends Z{constructor(r,i,o,l,c,d,f,p){if(super(d,f),this.yuvData=r,this.dataWidth=i,this.dataHeight=o,this.left=l,this.top=c,l+d>i||c+f>o)throw new v("Crop rectangle does not fit within image data.");p&&this.reverseHorizontal(d,f)}getRow(r,i){if(r<0||r>=this.getHeight())throw new v("Requested row is outside the image: "+r);const o=this.getWidth();(i==null||i.length<o)&&(i=new Uint8ClampedArray(o));const l=(r+this.top)*this.dataWidth+this.left;return S.arraycopy(this.yuvData,l,i,0,o),i}getMatrix(){const r=this.getWidth(),i=this.getHeight();if(r===this.dataWidth&&i===this.dataHeight)return this.yuvData;const o=r*i,l=new Uint8ClampedArray(o);let c=this.top*this.dataWidth+this.left;if(r===this.dataWidth)return S.arraycopy(this.yuvData,c,l,0,o),l;for(let d=0;d<i;d++){const f=d*r;S.arraycopy(this.yuvData,c,l,f,r),c+=this.dataWidth}return l}isCropSupported(){return!0}crop(r,i,o,l){return new _r(this.yuvData,this.dataWidth,this.dataHeight,this.left+r,this.top+i,o,l,!1)}renderThumbnail(){const r=this.getWidth()/_r.THUMBNAIL_SCALE_FACTOR,i=this.getHeight()/_r.THUMBNAIL_SCALE_FACTOR,o=new Int32Array(r*i),l=this.yuvData;let c=this.top*this.dataWidth+this.left;for(let d=0;d<i;d++){const f=d*r;for(let p=0;p<r;p++){const y=l[c+p*_r.THUMBNAIL_SCALE_FACTOR]&255;o[f+p]=4278190080|y*65793}c+=this.dataWidth*_r.THUMBNAIL_SCALE_FACTOR}return o}getThumbnailWidth(){return this.getWidth()/_r.THUMBNAIL_SCALE_FACTOR}getThumbnailHeight(){return this.getHeight()/_r.THUMBNAIL_SCALE_FACTOR}reverseHorizontal(r,i){const o=this.yuvData;for(let l=0,c=this.top*this.dataWidth+this.left;l<i;l++,c+=this.dataWidth){const d=c+r/2;for(let f=c,p=c+r-1;f<d;f++,p--){const y=o[f];o[f]=o[p],o[p]=y}}}invert(){return new $(this)}}_r.THUMBNAIL_SCALE_FACTOR=2;class Od extends Z{constructor(r,i,o,l,c,d,f){if(super(i,o),this.dataWidth=l,this.dataHeight=c,this.left=d,this.top=f,r.BYTES_PER_ELEMENT===4){const p=i*o,y=new Uint8ClampedArray(p);for(let E=0;E<p;E++){const T=r[E],M=T>>16&255,L=T>>7&510,j=T&255;y[E]=(M+L+j)/4&255}this.luminances=y}else this.luminances=r;if(l===void 0&&(this.dataWidth=i),c===void 0&&(this.dataHeight=o),d===void 0&&(this.left=0),f===void 0&&(this.top=0),this.left+i>this.dataWidth||this.top+o>this.dataHeight)throw new v("Crop rectangle does not fit within image data.")}getRow(r,i){if(r<0||r>=this.getHeight())throw new v("Requested row is outside the image: "+r);const o=this.getWidth();(i==null||i.length<o)&&(i=new Uint8ClampedArray(o));const l=(r+this.top)*this.dataWidth+this.left;return S.arraycopy(this.luminances,l,i,0,o),i}getMatrix(){const r=this.getWidth(),i=this.getHeight();if(r===this.dataWidth&&i===this.dataHeight)return this.luminances;const o=r*i,l=new Uint8ClampedArray(o);let c=this.top*this.dataWidth+this.left;if(r===this.dataWidth)return S.arraycopy(this.luminances,c,l,0,o),l;for(let d=0;d<i;d++){const f=d*r;S.arraycopy(this.luminances,c,l,f,r),c+=this.dataWidth}return l}isCropSupported(){return!0}crop(r,i,o,l){return new Od(this.luminances,o,l,this.dataWidth,this.dataHeight,this.left+r,this.top+i)}invert(){return new $(this)}}class lp extends H{static forName(r){return this.getCharacterSetECIByName(r)}}class Md{}Md.ISO_8859_1=H.ISO8859_1;class cp{isCompact(){return this.compact}setCompact(r){this.compact=r}getSize(){return this.size}setSize(r){this.size=r}getLayers(){return this.layers}setLayers(r){this.layers=r}getCodeWords(){return this.codeWords}setCodeWords(r){this.codeWords=r}getMatrix(){return this.matrix}setMatrix(r){this.matrix=r}}class up{static singletonList(r){return[r]}static min(r,i){return r.sort(i)[0]}}class jE{constructor(r){this.previous=r}getPrevious(){return this.previous}}class so extends jE{constructor(r,i,o){super(r),this.value=i,this.bitCount=o}appendTo(r,i){r.appendBits(this.value,this.bitCount)}add(r,i){return new so(this,r,i)}addBinaryShift(r,i){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new so(this,r,i)}toString(){let r=this.value&(1<<this.bitCount)-1;return r|=1<<this.bitCount,"<"+R.toBinaryString(r|1<<this.bitCount).substring(1)+">"}}class Dd extends so{constructor(r,i,o){super(r,0,0),this.binaryShiftStart=i,this.binaryShiftByteCount=o}appendTo(r,i){for(let o=0;o<this.binaryShiftByteCount;o++)(o===0||o===31&&this.binaryShiftByteCount<=62)&&(r.appendBits(31,5),this.binaryShiftByteCount>62?r.appendBits(this.binaryShiftByteCount-31,16):o===0?r.appendBits(Math.min(this.binaryShiftByteCount,31),5):r.appendBits(this.binaryShiftByteCount-31,5)),r.appendBits(i[this.binaryShiftStart+o],8)}addBinaryShift(r,i){return new Dd(this,r,i)}toString(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"}}function UE(N,r,i){return new Dd(N,r,i)}function Ia(N,r,i){return new so(N,r,i)}const VE=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],Ei=0,tc=1,$n=2,dp=3,Or=4,WE=new so(null,0,0),Pd=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,932798]),Int32Array.from([(5<<16)+29,(5<<16)+28,656318,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,656380,656382,656381,0])];function HE(N){for(let r of N)I.fill(r,-1);return N[Ei][Or]=0,N[tc][Or]=0,N[tc][Ei]=28,N[dp][Or]=0,N[$n][Or]=0,N[$n][Ei]=15,N}const fp=HE(I.createInt32Array(6,6));class Mr{constructor(r,i,o,l){this.token=r,this.mode=i,this.binaryShiftByteCount=o,this.bitCount=l}getMode(){return this.mode}getToken(){return this.token}getBinaryShiftByteCount(){return this.binaryShiftByteCount}getBitCount(){return this.bitCount}latchAndAppend(r,i){let o=this.bitCount,l=this.token;if(r!==this.mode){let d=Pd[this.mode][r];l=Ia(l,d&65535,d>>16),o+=d>>16}let c=r===$n?4:5;return l=Ia(l,i,c),new Mr(l,r,0,o+c)}shiftAndAppend(r,i){let o=this.token,l=this.mode===$n?4:5;return o=Ia(o,fp[this.mode][r],l),o=Ia(o,i,5),new Mr(o,this.mode,0,this.bitCount+l+5)}addBinaryShiftChar(r){let i=this.token,o=this.mode,l=this.bitCount;if(this.mode===Or||this.mode===$n){let f=Pd[o][Ei];i=Ia(i,f&65535,f>>16),l+=f>>16,o=Ei}let c=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,d=new Mr(i,o,this.binaryShiftByteCount+1,l+c);return d.binaryShiftByteCount===2078&&(d=d.endBinaryShift(r+1)),d}endBinaryShift(r){if(this.binaryShiftByteCount===0)return this;let i=this.token;return i=UE(i,r-this.binaryShiftByteCount,this.binaryShiftByteCount),new Mr(i,this.mode,0,this.bitCount)}isBetterThanOrEqualTo(r){let i=this.bitCount+(Pd[this.mode][r.mode]>>16);return this.binaryShiftByteCount<r.binaryShiftByteCount?i+=Mr.calculateBinaryShiftCost(r)-Mr.calculateBinaryShiftCost(this):this.binaryShiftByteCount>r.binaryShiftByteCount&&r.binaryShiftByteCount>0&&(i+=10),i<=r.bitCount}toBitArray(r){let i=[];for(let l=this.endBinaryShift(r.length).token;l!==null;l=l.getPrevious())i.unshift(l);let o=new F;for(const l of i)l.appendTo(o,r);return o}toString(){return J.format("%s bits=%d bytes=%d",VE[this.mode],this.bitCount,this.binaryShiftByteCount)}static calculateBinaryShiftCost(r){return r.binaryShiftByteCount>62?21:r.binaryShiftByteCount>31?20:r.binaryShiftByteCount>0?10:0}}Mr.INITIAL_STATE=new Mr(WE,Ei,0,0);function zE(N){const r=J.getCharCode(" "),i=J.getCharCode("."),o=J.getCharCode(",");N[Ei][r]=1;const l=J.getCharCode("Z"),c=J.getCharCode("A");for(let M=c;M<=l;M++)N[Ei][M]=M-c+2;N[tc][r]=1;const d=J.getCharCode("z"),f=J.getCharCode("a");for(let M=f;M<=d;M++)N[tc][M]=M-f+2;N[$n][r]=1;const p=J.getCharCode("9"),y=J.getCharCode("0");for(let M=y;M<=p;M++)N[$n][M]=M-y+2;N[$n][o]=12,N[$n][i]=13;const E=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""];for(let M=0;M<E.length;M++)N[dp][J.getCharCode(E[M])]=M;const T=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"];for(let M=0;M<T.length;M++)J.getCharCode(T[M])>0&&(N[Or][J.getCharCode(T[M])]=M);return N}const kd=zE(I.createInt32Array(5,256));class Ta{constructor(r){this.text=r}encode(){const r=J.getCharCode(" "),i=J.getCharCode(`
`);let o=up.singletonList(Mr.INITIAL_STATE);for(let c=0;c<this.text.length;c++){let d,f=c+1<this.text.length?this.text[c+1]:0;switch(this.text[c]){case J.getCharCode("\r"):d=f===i?2:0;break;case J.getCharCode("."):d=f===r?3:0;break;case J.getCharCode(","):d=f===r?4:0;break;case J.getCharCode(":"):d=f===r?5:0;break;default:d=0}d>0?(o=Ta.updateStateListForPair(o,c,d),c++):o=this.updateStateListForChar(o,c)}return up.min(o,(c,d)=>c.getBitCount()-d.getBitCount()).toBitArray(this.text)}updateStateListForChar(r,i){const o=[];for(let l of r)this.updateStateForChar(l,i,o);return Ta.simplifyStates(o)}updateStateForChar(r,i,o){let l=this.text[i]&255,c=kd[r.getMode()][l]>0,d=null;for(let f=0;f<=Or;f++){let p=kd[f][l];if(p>0){if(d==null&&(d=r.endBinaryShift(i)),!c||f===r.getMode()||f===$n){const y=d.latchAndAppend(f,p);o.push(y)}if(!c&&fp[r.getMode()][f]>=0){const y=d.shiftAndAppend(f,p);o.push(y)}}}if(r.getBinaryShiftByteCount()>0||kd[r.getMode()][l]===0){let f=r.addBinaryShiftChar(i);o.push(f)}}static updateStateListForPair(r,i,o){const l=[];for(let c of r)this.updateStateForPair(c,i,o,l);return this.simplifyStates(l)}static updateStateForPair(r,i,o,l){let c=r.endBinaryShift(i);if(l.push(c.latchAndAppend(Or,o)),r.getMode()!==Or&&l.push(c.shiftAndAppend(Or,o)),o===3||o===4){let d=c.latchAndAppend($n,16-o).latchAndAppend($n,1);l.push(d)}if(r.getBinaryShiftByteCount()>0){let d=r.addBinaryShiftChar(i).addBinaryShiftChar(i+1);l.push(d)}}static simplifyStates(r){let i=[];for(const o of r){let l=!0;for(const c of i){if(c.isBetterThanOrEqualTo(o)){l=!1;break}o.isBetterThanOrEqualTo(c)&&(i=i.filter(d=>d!==c))}l&&i.push(o)}return i}}class Xe{constructor(){}static encodeBytes(r){return Xe.encode(r,Xe.DEFAULT_EC_PERCENT,Xe.DEFAULT_AZTEC_LAYERS)}static encode(r,i,o){let l=new Ta(r).encode(),c=R.truncDivision(l.getSize()*i,100)+11,d=l.getSize()+c,f,p,y,E,T;if(o!==Xe.DEFAULT_AZTEC_LAYERS){if(f=o<0,p=Math.abs(o),p>(f?Xe.MAX_NB_BITS_COMPACT:Xe.MAX_NB_BITS))throw new v(J.format("Illegal value %s for layers",o));y=Xe.totalBitsInLayer(p,f),E=Xe.WORD_SIZE[p];let ne=y-y%E;if(T=Xe.stuffBits(l,E),T.getSize()+c>ne)throw new v("Data to large for user specified layer");if(f&&T.getSize()>E*64)throw new v("Data to large for user specified layer")}else{E=0,T=null;for(let ne=0;;ne++){if(ne>Xe.MAX_NB_BITS)throw new v("Data too large for an Aztec code");if(f=ne<=3,p=f?ne+1:ne,y=Xe.totalBitsInLayer(p,f),d>y)continue;(T==null||E!==Xe.WORD_SIZE[p])&&(E=Xe.WORD_SIZE[p],T=Xe.stuffBits(l,E));let Ve=y-y%E;if(!(f&&T.getSize()>E*64)&&T.getSize()+c<=Ve)break}}let M=Xe.generateCheckWords(T,y,E),L=T.getSize()/E,j=Xe.generateModeMessage(f,p,L),V=(f?11:14)+p*4,Y=new Int32Array(V),q;if(f){q=V;for(let ne=0;ne<Y.length;ne++)Y[ne]=ne}else{q=V+1+2*R.truncDivision(R.truncDivision(V,2)-1,15);let ne=R.truncDivision(V,2),Ve=R.truncDivision(q,2);for(let Me=0;Me<ne;Me++){let In=Me+R.truncDivision(Me,15);Y[ne-Me-1]=Ve-In-1,Y[ne+Me]=Ve+In+1}}let se=new te(q);for(let ne=0,Ve=0;ne<p;ne++){let Me=(p-ne)*4+(f?9:12);for(let In=0;In<Me;In++){let fr=In*2;for(let Tn=0;Tn<2;Tn++)M.get(Ve+fr+Tn)&&se.set(Y[ne*2+Tn],Y[ne*2+In]),M.get(Ve+Me*2+fr+Tn)&&se.set(Y[ne*2+In],Y[V-1-ne*2-Tn]),M.get(Ve+Me*4+fr+Tn)&&se.set(Y[V-1-ne*2-Tn],Y[V-1-ne*2-In]),M.get(Ve+Me*6+fr+Tn)&&se.set(Y[V-1-ne*2-In],Y[ne*2+Tn])}Ve+=Me*8}if(Xe.drawModeMessage(se,f,q,j),f)Xe.drawBullsEye(se,R.truncDivision(q,2),5);else{Xe.drawBullsEye(se,R.truncDivision(q,2),7);for(let ne=0,Ve=0;ne<R.truncDivision(V,2)-1;ne+=15,Ve+=16)for(let Me=R.truncDivision(q,2)&1;Me<q;Me+=2)se.set(R.truncDivision(q,2)-Ve,Me),se.set(R.truncDivision(q,2)+Ve,Me),se.set(Me,R.truncDivision(q,2)-Ve),se.set(Me,R.truncDivision(q,2)+Ve)}let oe=new cp;return oe.setCompact(f),oe.setSize(q),oe.setLayers(p),oe.setCodeWords(L),oe.setMatrix(se),oe}static drawBullsEye(r,i,o){for(let l=0;l<o;l+=2)for(let c=i-l;c<=i+l;c++)r.set(c,i-l),r.set(c,i+l),r.set(i-l,c),r.set(i+l,c);r.set(i-o,i-o),r.set(i-o+1,i-o),r.set(i-o,i-o+1),r.set(i+o,i-o),r.set(i+o,i-o+1),r.set(i+o,i+o-1)}static generateModeMessage(r,i,o){let l=new F;return r?(l.appendBits(i-1,2),l.appendBits(o-1,6),l=Xe.generateCheckWords(l,28,4)):(l.appendBits(i-1,5),l.appendBits(o-1,11),l=Xe.generateCheckWords(l,40,4)),l}static drawModeMessage(r,i,o,l){let c=R.truncDivision(o,2);if(i)for(let d=0;d<7;d++){let f=c-3+d;l.get(d)&&r.set(f,c-5),l.get(d+7)&&r.set(c+5,f),l.get(20-d)&&r.set(f,c+5),l.get(27-d)&&r.set(c-5,f)}else for(let d=0;d<10;d++){let f=c-5+d+R.truncDivision(d,5);l.get(d)&&r.set(f,c-7),l.get(d+10)&&r.set(c+7,f),l.get(29-d)&&r.set(f,c+7),l.get(39-d)&&r.set(c-7,f)}}static generateCheckWords(r,i,o){let l=r.getSize()/o,c=new _d(Xe.getGF(o)),d=R.truncDivision(i,o),f=Xe.bitsToWords(r,o,d);c.encode(f,d-l);let p=i%o,y=new F;y.appendBits(0,p);for(const E of Array.from(f))y.appendBits(E,o);return y}static bitsToWords(r,i,o){let l=new Int32Array(o),c,d;for(c=0,d=r.getSize()/i;c<d;c++){let f=0;for(let p=0;p<i;p++)f|=r.get(c*i+p)?1<<i-p-1:0;l[c]=f}return l}static getGF(r){switch(r){case 4:return Re.AZTEC_PARAM;case 6:return Re.AZTEC_DATA_6;case 8:return Re.AZTEC_DATA_8;case 10:return Re.AZTEC_DATA_10;case 12:return Re.AZTEC_DATA_12;default:throw new v("Unsupported word size "+r)}}static stuffBits(r,i){let o=new F,l=r.getSize(),c=(1<<i)-2;for(let d=0;d<l;d+=i){let f=0;for(let p=0;p<i;p++)(d+p>=l||r.get(d+p))&&(f|=1<<i-1-p);(f&c)===c?(o.appendBits(f&c,i),d--):f&c?o.appendBits(f,i):(o.appendBits(f|1,i),d--)}return o}static totalBitsInLayer(r,i){return((i?88:112)+16*r)*r}}Xe.DEFAULT_EC_PERCENT=33,Xe.DEFAULT_AZTEC_LAYERS=0,Xe.MAX_NB_BITS=32,Xe.MAX_NB_BITS_COMPACT=4,Xe.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]);class nc{encode(r,i,o,l){return this.encodeWithHints(r,i,o,l,null)}encodeWithHints(r,i,o,l,c){let d=Md.ISO_8859_1,f=Xe.DEFAULT_EC_PERCENT,p=Xe.DEFAULT_AZTEC_LAYERS;return c!=null&&(c.has(Ut.CHARACTER_SET)&&(d=lp.forName(c.get(Ut.CHARACTER_SET).toString())),c.has(Ut.ERROR_CORRECTION)&&(f=R.parseInt(c.get(Ut.ERROR_CORRECTION).toString())),c.has(Ut.AZTEC_LAYERS)&&(p=R.parseInt(c.get(Ut.AZTEC_LAYERS).toString()))),nc.encodeLayers(r,i,o,l,d,f,p)}static encodeLayers(r,i,o,l,c,d,f){if(i!==he.AZTEC)throw new v("Can only encode AZTEC, but got "+i);let p=Xe.encode(J.getBytes(r,c),d,f);return nc.renderResult(p,o,l)}static renderResult(r,i,o){let l=r.getMatrix();if(l==null)throw new nn;let c=l.getWidth(),d=l.getHeight(),f=Math.max(i,c),p=Math.max(o,d),y=Math.min(f/c,p/d),E=(f-c*y)/2,T=(p-d*y)/2,M=new te(f,p);for(let L=0,j=T;L<d;L++,j+=y)for(let V=0,Y=E;V<c;V++,Y+=y)l.get(V,L)&&M.setRegion(Y,j,y,y);return M}}n.AbstractExpandedDecoder=vd,n.ArgumentException=C,n.ArithmeticException=Ge,n.AztecCode=cp,n.AztecCodeReader=Yl,n.AztecCodeWriter=nc,n.AztecDecoder=rt,n.AztecDetector=Q0,n.AztecDetectorResult=Y0,n.AztecEncoder=Xe,n.AztecHighLevelEncoder=Ta,n.AztecPoint=hn,n.BarcodeFormat=he,n.Binarizer=_,n.BinaryBitmap=b,n.BitArray=F,n.BitMatrix=te,n.BitSource=Sd,n.BrowserAztecCodeReader=mE,n.BrowserBarcodeReader=CE,n.BrowserCodeReader=at,n.BrowserDatamatrixCodeReader=AE,n.BrowserMultiFormatReader=PE,n.BrowserPDF417Reader=kE,n.BrowserQRCodeReader=LE,n.BrowserQRCodeSvgWriter=ys,n.CharacterSetECI=H,n.ChecksumException=D,n.Code128Reader=ue,n.Code39Reader=Bt,n.DataMatrixDecodedBitStreamParser=wi,n.DataMatrixReader=yi,n.DecodeHintType=z,n.DecoderResult=Ke,n.DefaultGridSampler=K0,n.DetectorResult=Xl,n.EAN13Reader=ps,n.EncodeHintType=Ut,n.Exception=m,n.FormatException=B,n.GenericGF=Re,n.GenericGFPoly=Oe,n.GlobalHistogramBinarizer=le,n.GridSampler=md,n.GridSamplerInstance=mi,n.HTMLCanvasElementLuminanceSource=ce,n.HybridBinarizer=ae,n.ITFReader=lt,n.IllegalArgumentException=v,n.IllegalStateException=nn,n.InvertedLuminanceSource=$,n.LuminanceSource=Z,n.MathUtils=je,n.MultiFormatOneDReader=no,n.MultiFormatReader=ap,n.MultiFormatWriter=BE,n.NotFoundException=X,n.OneDReader=Lt,n.PDF417DecodedBitStreamParser=Q,n.PDF417DecoderErrorCorrection=tp,n.PDF417Reader=Zt,n.PDF417ResultMetadata=rp,n.PerspectiveTransform=ur,n.PlanarYUVLuminanceSource=_r,n.QRCodeByteMatrix=ec,n.QRCodeDataMask=qn,n.QRCodeDecodedBitStreamParser=St,n.QRCodeDecoderErrorCorrectionLevel=dt,n.QRCodeDecoderFormatInformation=sn,n.QRCodeEncoder=gt,n.QRCodeEncoderQRCode=ws,n.QRCodeMaskUtil=_t,n.QRCodeMatrixUtil=be,n.QRCodeMode=Se,n.QRCodeReader=vi,n.QRCodeVersion=Ee,n.QRCodeWriter=io,n.RGBLuminanceSource=Od,n.RSS14Reader=Rt,n.RSSExpandedReader=ee,n.ReaderException=Jl,n.ReedSolomonDecoder=cr,n.ReedSolomonEncoder=_d,n.ReedSolomonException=Qt,n.Result=Fe,n.ResultMetadataType=Te,n.ResultPoint=ye,n.StringUtils=J,n.UnsupportedOperationException=re,n.VideoInputDevice=Ce,n.WhiteRectangleDetector=Yr,n.WriterException=ct,n.ZXingArrays=I,n.ZXingCharset=lp,n.ZXingInteger=R,n.ZXingStandardCharsets=Md,n.ZXingStringBuilder=fe,n.ZXingStringEncoding=de,n.ZXingSystem=S,n.createAbstractExpandedDecoder=J0,Object.defineProperty(n,"__esModule",{value:!0})})})(i1,i1.exports);var wt=i1.exports;const u_=s1(wt),d_=zm({__proto__:null,default:u_},[wt]);var Im=function(){function e(t,n,s){if(this.formatMap=new Map([[xe.QR_CODE,wt.BarcodeFormat.QR_CODE],[xe.AZTEC,wt.BarcodeFormat.AZTEC],[xe.CODABAR,wt.BarcodeFormat.CODABAR],[xe.CODE_39,wt.BarcodeFormat.CODE_39],[xe.CODE_93,wt.BarcodeFormat.CODE_93],[xe.CODE_128,wt.BarcodeFormat.CODE_128],[xe.DATA_MATRIX,wt.BarcodeFormat.DATA_MATRIX],[xe.MAXICODE,wt.BarcodeFormat.MAXICODE],[xe.ITF,wt.BarcodeFormat.ITF],[xe.EAN_13,wt.BarcodeFormat.EAN_13],[xe.EAN_8,wt.BarcodeFormat.EAN_8],[xe.PDF_417,wt.BarcodeFormat.PDF_417],[xe.RSS_14,wt.BarcodeFormat.RSS_14],[xe.RSS_EXPANDED,wt.BarcodeFormat.RSS_EXPANDED],[xe.UPC_A,wt.BarcodeFormat.UPC_A],[xe.UPC_E,wt.BarcodeFormat.UPC_E],[xe.UPC_EAN_EXTENSION,wt.BarcodeFormat.UPC_EAN_EXTENSION]]),this.reverseFormatMap=this.createReverseFormatMap(),!d_)throw"Use html5qrcode.min.js without edit, ZXing not found.";this.verbose=n,this.logger=s;var a=this.createZXingFormats(t),u=new Map;u.set(wt.DecodeHintType.POSSIBLE_FORMATS,a),u.set(wt.DecodeHintType.TRY_HARDER,!1),this.hints=u}return e.prototype.decodeAsync=function(t){var n=this;return new Promise(function(s,a){try{s(n.decode(t))}catch(u){a(u)}})},e.prototype.decode=function(t){var n=new wt.MultiFormatReader(this.verbose,this.hints),s=new wt.HTMLCanvasElementLuminanceSource(t),a=new wt.BinaryBitmap(new wt.HybridBinarizer(s)),u=n.decode(a);return{text:u.text,format:hE.create(this.toHtml5QrcodeSupportedFormats(u.format)),debugData:this.createDebugData()}},e.prototype.createReverseFormatMap=function(){var t=new Map;return this.formatMap.forEach(function(n,s,a){t.set(n,s)}),t},e.prototype.toHtml5QrcodeSupportedFormats=function(t){if(!this.reverseFormatMap.has(t))throw"reverseFormatMap doesn't have ".concat(t);return this.reverseFormatMap.get(t)},e.prototype.createZXingFormats=function(t){for(var n=[],s=0,a=t;s<a.length;s++){var u=a[s];this.formatMap.has(u)?n.push(this.formatMap.get(u)):this.logger.logError("".concat(u," is not supported by")+"ZXingHtml5QrcodeShim")}return n},e.prototype.createDebugData=function(){return{decoderName:"zxing-js"}},e}(),f_=function(e,t,n,s){function a(u){return u instanceof n?u:new n(function(h){h(u)})}return new(n||(n=Promise))(function(u,h){function g(C){try{m(s.next(C))}catch(v){h(v)}}function w(C){try{m(s.throw(C))}catch(v){h(v)}}function m(C){C.done?u(C.value):a(C.value).then(g,w)}m((s=s.apply(e,t||[])).next())})},h_=function(e,t){var n={label:0,sent:function(){if(u[0]&1)throw u[1];return u[1]},trys:[],ops:[]},s,a,u,h;return h={next:g(0),throw:g(1),return:g(2)},typeof Symbol=="function"&&(h[Symbol.iterator]=function(){return this}),h;function g(m){return function(C){return w([m,C])}}function w(m){if(s)throw new TypeError("Generator is already executing.");for(;h&&(h=0,m[0]&&(n=0)),n;)try{if(s=1,a&&(u=m[0]&2?a.return:m[0]?a.throw||((u=a.return)&&u.call(a),0):a.next)&&!(u=u.call(a,m[1])).done)return u;switch(a=0,u&&(m=[m[0]&2,u.value]),m[0]){case 0:case 1:u=m;break;case 4:return n.label++,{value:m[1],done:!1};case 5:n.label++,a=m[1],m=[0];continue;case 7:m=n.ops.pop(),n.trys.pop();continue;default:if(u=n.trys,!(u=u.length>0&&u[u.length-1])&&(m[0]===6||m[0]===2)){n=0;continue}if(m[0]===3&&(!u||m[1]>u[0]&&m[1]<u[3])){n.label=m[1];break}if(m[0]===6&&n.label<u[1]){n.label=u[1],u=m;break}if(u&&n.label<u[2]){n.label=u[2],n.ops.push(m);break}u[2]&&n.ops.pop(),n.trys.pop();continue}m=t.call(e,n)}catch(C){m=[6,C],a=0}finally{s=u=0}if(m[0]&5)throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}},Tm=function(){function e(t,n,s){if(this.formatMap=new Map([[xe.QR_CODE,"qr_code"],[xe.AZTEC,"aztec"],[xe.CODABAR,"codabar"],[xe.CODE_39,"code_39"],[xe.CODE_93,"code_93"],[xe.CODE_128,"code_128"],[xe.DATA_MATRIX,"data_matrix"],[xe.ITF,"itf"],[xe.EAN_13,"ean_13"],[xe.EAN_8,"ean_8"],[xe.PDF_417,"pdf417"],[xe.UPC_A,"upc_a"],[xe.UPC_E,"upc_e"]]),this.reverseFormatMap=this.createReverseFormatMap(),!e.isSupported())throw"Use html5qrcode.min.js without edit, Use BarcodeDetectorDelegate only if it isSupported();";this.verbose=n,this.logger=s;var a=this.createBarcodeDetectorFormats(t);if(this.detector=new BarcodeDetector(a),!this.detector)throw"BarcodeDetector detector not supported"}return e.isSupported=function(){if(!("BarcodeDetector"in window))return!1;var t=new BarcodeDetector({formats:["qr_code"]});return typeof t<"u"},e.prototype.decodeAsync=function(t){return f_(this,void 0,void 0,function(){var n,s;return h_(this,function(a){switch(a.label){case 0:return[4,this.detector.detect(t)];case 1:if(n=a.sent(),!n||n.length===0)throw"No barcode or QR code detected.";return s=this.selectLargestBarcode(n),[2,{text:s.rawValue,format:hE.create(this.toHtml5QrcodeSupportedFormats(s.format)),debugData:this.createDebugData()}]}})})},e.prototype.selectLargestBarcode=function(t){for(var n=null,s=0,a=0,u=t;a<u.length;a++){var h=u[a],g=h.boundingBox.width*h.boundingBox.height;g>s&&(s=g,n=h)}if(!n)throw"No largest barcode found";return n},e.prototype.createBarcodeDetectorFormats=function(t){for(var n=[],s=0,a=t;s<a.length;s++){var u=a[s];this.formatMap.has(u)?n.push(this.formatMap.get(u)):this.logger.warn("".concat(u," is not supported by")+"BarcodeDetectorDelegate")}return{formats:n}},e.prototype.toHtml5QrcodeSupportedFormats=function(t){if(!this.reverseFormatMap.has(t))throw"reverseFormatMap doesn't have ".concat(t);return this.reverseFormatMap.get(t)},e.prototype.createReverseFormatMap=function(){var t=new Map;return this.formatMap.forEach(function(n,s,a){t.set(n,s)}),t},e.prototype.createDebugData=function(){return{decoderName:"BarcodeDetector"}},e}(),Rm=function(e,t,n,s){function a(u){return u instanceof n?u:new n(function(h){h(u)})}return new(n||(n=Promise))(function(u,h){function g(C){try{m(s.next(C))}catch(v){h(v)}}function w(C){try{m(s.throw(C))}catch(v){h(v)}}function m(C){C.done?u(C.value):a(C.value).then(g,w)}m((s=s.apply(e,t||[])).next())})},_m=function(e,t){var n={label:0,sent:function(){if(u[0]&1)throw u[1];return u[1]},trys:[],ops:[]},s,a,u,h;return h={next:g(0),throw:g(1),return:g(2)},typeof Symbol=="function"&&(h[Symbol.iterator]=function(){return this}),h;function g(m){return function(C){return w([m,C])}}function w(m){if(s)throw new TypeError("Generator is already executing.");for(;h&&(h=0,m[0]&&(n=0)),n;)try{if(s=1,a&&(u=m[0]&2?a.return:m[0]?a.throw||((u=a.return)&&u.call(a),0):a.next)&&!(u=u.call(a,m[1])).done)return u;switch(a=0,u&&(m=[m[0]&2,u.value]),m[0]){case 0:case 1:u=m;break;case 4:return n.label++,{value:m[1],done:!1};case 5:n.label++,a=m[1],m=[0];continue;case 7:m=n.ops.pop(),n.trys.pop();continue;default:if(u=n.trys,!(u=u.length>0&&u[u.length-1])&&(m[0]===6||m[0]===2)){n=0;continue}if(m[0]===3&&(!u||m[1]>u[0]&&m[1]<u[3])){n.label=m[1];break}if(m[0]===6&&n.label<u[1]){n.label=u[1],u=m;break}if(u&&n.label<u[2]){n.label=u[2],n.ops.push(m);break}u[2]&&n.ops.pop(),n.trys.pop();continue}m=t.call(e,n)}catch(C){m=[6,C],a=0}finally{s=u=0}if(m[0]&5)throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}},p_=function(){function e(t,n,s,a){this.EXECUTIONS_TO_REPORT_PERFORMANCE=100,this.executions=0,this.executionResults=[],this.wasPrimaryDecoderUsedInLastDecode=!1,this.verbose=s,n&&Tm.isSupported()?(this.primaryDecoder=new Tm(t,s,a),this.secondaryDecoder=new Im(t,s,a)):this.primaryDecoder=new Im(t,s,a)}return e.prototype.decodeAsync=function(t){return Rm(this,void 0,void 0,function(){var n;return _m(this,function(s){switch(s.label){case 0:n=performance.now(),s.label=1;case 1:return s.trys.push([1,,3,4]),[4,this.getDecoder().decodeAsync(t)];case 2:return[2,s.sent()];case 3:return this.possiblyLogPerformance(n),[7];case 4:return[2]}})})},e.prototype.decodeRobustlyAsync=function(t){return Rm(this,void 0,void 0,function(){var n,s;return _m(this,function(a){switch(a.label){case 0:n=performance.now(),a.label=1;case 1:return a.trys.push([1,3,4,5]),[4,this.primaryDecoder.decodeAsync(t)];case 2:return[2,a.sent()];case 3:if(s=a.sent(),this.secondaryDecoder)return[2,this.secondaryDecoder.decodeAsync(t)];throw s;case 4:return this.possiblyLogPerformance(n),[7];case 5:return[2]}})})},e.prototype.getDecoder=function(){return this.secondaryDecoder?this.wasPrimaryDecoderUsedInLastDecode===!1?(this.wasPrimaryDecoderUsedInLastDecode=!0,this.primaryDecoder):(this.wasPrimaryDecoderUsedInLastDecode=!1,this.secondaryDecoder):this.primaryDecoder},e.prototype.possiblyLogPerformance=function(t){if(this.verbose){var n=performance.now()-t;this.executionResults.push(n),this.executions++,this.possiblyFlushPerformanceReport()}},e.prototype.possiblyFlushPerformanceReport=function(){if(!(this.executions<this.EXECUTIONS_TO_REPORT_PERFORMANCE)){for(var t=0,n=0,s=this.executionResults;n<s.length;n++){var a=s[n];t+=a}var u=t/this.executionResults.length;console.log("".concat(u," ms for ").concat(this.executionResults.length," last runs.")),this.executions=0,this.executionResults=[]}},e}(),X0=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,a){s.__proto__=a}||function(s,a){for(var u in a)Object.prototype.hasOwnProperty.call(a,u)&&(s[u]=a[u])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function s(){this.constructor=t}t.prototype=n===null?Object.create(n):(s.prototype=n.prototype,new s)}}(),Ru=function(e,t,n,s){function a(u){return u instanceof n?u:new n(function(h){h(u)})}return new(n||(n=Promise))(function(u,h){function g(C){try{m(s.next(C))}catch(v){h(v)}}function w(C){try{m(s.throw(C))}catch(v){h(v)}}function m(C){C.done?u(C.value):a(C.value).then(g,w)}m((s=s.apply(e,t||[])).next())})},_u=function(e,t){var n={label:0,sent:function(){if(u[0]&1)throw u[1];return u[1]},trys:[],ops:[]},s,a,u,h;return h={next:g(0),throw:g(1),return:g(2)},typeof Symbol=="function"&&(h[Symbol.iterator]=function(){return this}),h;function g(m){return function(C){return w([m,C])}}function w(m){if(s)throw new TypeError("Generator is already executing.");for(;h&&(h=0,m[0]&&(n=0)),n;)try{if(s=1,a&&(u=m[0]&2?a.return:m[0]?a.throw||((u=a.return)&&u.call(a),0):a.next)&&!(u=u.call(a,m[1])).done)return u;switch(a=0,u&&(m=[m[0]&2,u.value]),m[0]){case 0:case 1:u=m;break;case 4:return n.label++,{value:m[1],done:!1};case 5:n.label++,a=m[1],m=[0];continue;case 7:m=n.ops.pop(),n.trys.pop();continue;default:if(u=n.trys,!(u=u.length>0&&u[u.length-1])&&(m[0]===6||m[0]===2)){n=0;continue}if(m[0]===3&&(!u||m[1]>u[0]&&m[1]<u[3])){n.label=m[1];break}if(m[0]===6&&n.label<u[1]){n.label=u[1],u=m;break}if(u&&n.label<u[2]){n.label=u[2],n.ops.push(m);break}u[2]&&n.ops.pop(),n.trys.pop();continue}m=t.call(e,n)}catch(C){m=[6,C],a=0}finally{s=u=0}if(m[0]&5)throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}},gE=function(){function e(t,n){this.name=t,this.track=n}return e.prototype.isSupported=function(){return this.track.getCapabilities?this.name in this.track.getCapabilities():!1},e.prototype.apply=function(t){var n={};n[this.name]=t;var s={advanced:[n]};return this.track.applyConstraints(s)},e.prototype.value=function(){var t=this.track.getSettings();if(this.name in t){var n=t[this.name];return n}return null},e}(),g_=function(e){X0(t,e);function t(n,s){return e.call(this,n,s)||this}return t.prototype.min=function(){return this.getCapabilities().min},t.prototype.max=function(){return this.getCapabilities().max},t.prototype.step=function(){return this.getCapabilities().step},t.prototype.apply=function(n){var s={};s[this.name]=n;var a={advanced:[s]};return this.track.applyConstraints(a)},t.prototype.getCapabilities=function(){this.failIfNotSupported();var n=this.track.getCapabilities(),s=n[this.name];return{min:s.min,max:s.max,step:s.step}},t.prototype.failIfNotSupported=function(){if(!this.isSupported())throw new Error("".concat(this.name," capability not supported"))},t}(gE),m_=function(e){X0(t,e);function t(n){return e.call(this,"zoom",n)||this}return t}(g_),x_=function(e){X0(t,e);function t(n){return e.call(this,"torch",n)||this}return t}(gE),w_=function(){function e(t){this.track=t}return e.prototype.zoomFeature=function(){return new m_(this.track)},e.prototype.torchFeature=function(){return new x_(this.track)},e}(),y_=function(){function e(t,n,s){this.isClosed=!1,this.parentElement=t,this.mediaStream=n,this.callbacks=s,this.surface=this.createVideoElement(this.parentElement.clientWidth),t.append(this.surface)}return e.prototype.createVideoElement=function(t){var n=document.createElement("video");return n.style.width="".concat(t,"px"),n.style.display="block",n.muted=!0,n.setAttribute("muted","true"),n.playsInline=!0,n},e.prototype.setupSurface=function(){var t=this;this.surface.onabort=function(){throw"RenderedCameraImpl video surface onabort() called"},this.surface.onerror=function(){throw"RenderedCameraImpl video surface onerror() called"};var n=function(){var s=t.surface.clientWidth,a=t.surface.clientHeight;t.callbacks.onRenderSurfaceReady(s,a),t.surface.removeEventListener("playing",n)};this.surface.addEventListener("playing",n),this.surface.srcObject=this.mediaStream,this.surface.play()},e.create=function(t,n,s,a){return Ru(this,void 0,void 0,function(){var u,h;return _u(this,function(g){switch(g.label){case 0:return u=new e(t,n,a),s.aspectRatio?(h={aspectRatio:s.aspectRatio},[4,u.getFirstTrackOrFail().applyConstraints(h)]):[3,2];case 1:g.sent(),g.label=2;case 2:return u.setupSurface(),[2,u]}})})},e.prototype.failIfClosed=function(){if(this.isClosed)throw"The RenderedCamera has already been closed."},e.prototype.getFirstTrackOrFail=function(){if(this.failIfClosed(),this.mediaStream.getVideoTracks().length===0)throw"No video tracks found";return this.mediaStream.getVideoTracks()[0]},e.prototype.pause=function(){this.failIfClosed(),this.surface.pause()},e.prototype.resume=function(t){this.failIfClosed();var n=this,s=function(){setTimeout(t,200),n.surface.removeEventListener("playing",s)};this.surface.addEventListener("playing",s),this.surface.play()},e.prototype.isPaused=function(){return this.failIfClosed(),this.surface.paused},e.prototype.getSurface=function(){return this.failIfClosed(),this.surface},e.prototype.getRunningTrackCapabilities=function(){return this.getFirstTrackOrFail().getCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getFirstTrackOrFail().getSettings()},e.prototype.applyVideoConstraints=function(t){return Ru(this,void 0,void 0,function(){return _u(this,function(n){if("aspectRatio"in t)throw"Changing 'aspectRatio' in run-time is not yet supported.";return[2,this.getFirstTrackOrFail().applyConstraints(t)]})})},e.prototype.close=function(){if(this.isClosed)return Promise.resolve();var t=this;return new Promise(function(n,s){var a=t.mediaStream.getVideoTracks(),u=a.length,h=0;t.mediaStream.getVideoTracks().forEach(function(g){t.mediaStream.removeTrack(g),g.stop(),++h,h>=u&&(t.isClosed=!0,t.parentElement.removeChild(t.surface),n())})})},e.prototype.getCapabilities=function(){return new w_(this.getFirstTrackOrFail())},e}(),v_=function(){function e(t){this.mediaStream=t}return e.prototype.render=function(t,n,s){return Ru(this,void 0,void 0,function(){return _u(this,function(a){return[2,y_.create(t,this.mediaStream,n,s)]})})},e.create=function(t){return Ru(this,void 0,void 0,function(){var n,s;return _u(this,function(a){switch(a.label){case 0:if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return n={audio:!1,video:t},[4,navigator.mediaDevices.getUserMedia(n)];case 1:return s=a.sent(),[2,new e(s)]}})})},e}(),Om=function(e,t,n,s){function a(u){return u instanceof n?u:new n(function(h){h(u)})}return new(n||(n=Promise))(function(u,h){function g(C){try{m(s.next(C))}catch(v){h(v)}}function w(C){try{m(s.throw(C))}catch(v){h(v)}}function m(C){C.done?u(C.value):a(C.value).then(g,w)}m((s=s.apply(e,t||[])).next())})},Mm=function(e,t){var n={label:0,sent:function(){if(u[0]&1)throw u[1];return u[1]},trys:[],ops:[]},s,a,u,h;return h={next:g(0),throw:g(1),return:g(2)},typeof Symbol=="function"&&(h[Symbol.iterator]=function(){return this}),h;function g(m){return function(C){return w([m,C])}}function w(m){if(s)throw new TypeError("Generator is already executing.");for(;h&&(h=0,m[0]&&(n=0)),n;)try{if(s=1,a&&(u=m[0]&2?a.return:m[0]?a.throw||((u=a.return)&&u.call(a),0):a.next)&&!(u=u.call(a,m[1])).done)return u;switch(a=0,u&&(m=[m[0]&2,u.value]),m[0]){case 0:case 1:u=m;break;case 4:return n.label++,{value:m[1],done:!1};case 5:n.label++,a=m[1],m=[0];continue;case 7:m=n.ops.pop(),n.trys.pop();continue;default:if(u=n.trys,!(u=u.length>0&&u[u.length-1])&&(m[0]===6||m[0]===2)){n=0;continue}if(m[0]===3&&(!u||m[1]>u[0]&&m[1]<u[3])){n.label=m[1];break}if(m[0]===6&&n.label<u[1]){n.label=u[1],u=m;break}if(u&&n.label<u[2]){n.label=u[2],n.ops.push(m);break}u[2]&&n.ops.pop(),n.trys.pop();continue}m=t.call(e,n)}catch(C){m=[6,C],a=0}finally{s=u=0}if(m[0]&5)throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}},C_=function(){function e(){}return e.failIfNotSupported=function(){return Om(this,void 0,void 0,function(){return Mm(this,function(t){if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return[2,new e]})})},e.prototype.create=function(t){return Om(this,void 0,void 0,function(){return Mm(this,function(n){return[2,v_.create(t)]})})},e}(),E_=function(e,t,n,s){function a(u){return u instanceof n?u:new n(function(h){h(u)})}return new(n||(n=Promise))(function(u,h){function g(C){try{m(s.next(C))}catch(v){h(v)}}function w(C){try{m(s.throw(C))}catch(v){h(v)}}function m(C){C.done?u(C.value):a(C.value).then(g,w)}m((s=s.apply(e,t||[])).next())})},A_=function(e,t){var n={label:0,sent:function(){if(u[0]&1)throw u[1];return u[1]},trys:[],ops:[]},s,a,u,h;return h={next:g(0),throw:g(1),return:g(2)},typeof Symbol=="function"&&(h[Symbol.iterator]=function(){return this}),h;function g(m){return function(C){return w([m,C])}}function w(m){if(s)throw new TypeError("Generator is already executing.");for(;h&&(h=0,m[0]&&(n=0)),n;)try{if(s=1,a&&(u=m[0]&2?a.return:m[0]?a.throw||((u=a.return)&&u.call(a),0):a.next)&&!(u=u.call(a,m[1])).done)return u;switch(a=0,u&&(m=[m[0]&2,u.value]),m[0]){case 0:case 1:u=m;break;case 4:return n.label++,{value:m[1],done:!1};case 5:n.label++,a=m[1],m=[0];continue;case 7:m=n.ops.pop(),n.trys.pop();continue;default:if(u=n.trys,!(u=u.length>0&&u[u.length-1])&&(m[0]===6||m[0]===2)){n=0;continue}if(m[0]===3&&(!u||m[1]>u[0]&&m[1]<u[3])){n.label=m[1];break}if(m[0]===6&&n.label<u[1]){n.label=u[1],u=m;break}if(u&&n.label<u[2]){n.label=u[2],n.ops.push(m);break}u[2]&&n.ops.pop(),n.trys.pop();continue}m=t.call(e,n)}catch(C){m=[6,C],a=0}finally{s=u=0}if(m[0]&5)throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}},S_=function(){function e(){}return e.retrieve=function(){if(navigator.mediaDevices)return e.getCamerasFromMediaDevices();var t=MediaStreamTrack;return MediaStreamTrack&&t.getSources?e.getCamerasFromMediaStreamTrack():e.rejectWithError()},e.rejectWithError=function(){var t=Io.unableToQuerySupportedDevices();return e.isHttpsOrLocalhost()||(t=Io.insecureContextCameraQueryError()),Promise.reject(t)},e.isHttpsOrLocalhost=function(){if(location.protocol==="https:")return!0;var t=location.host.split(":")[0];return t==="127.0.0.1"||t==="localhost"},e.getCamerasFromMediaDevices=function(){return E_(this,void 0,void 0,function(){var t,n,s,a,u,h,g;return A_(this,function(w){switch(w.label){case 0:return t=function(m){for(var C=m.getVideoTracks(),v=0,b=C;v<b.length;v++){var D=b[v];D.enabled=!1,D.stop(),m.removeTrack(D)}},[4,navigator.mediaDevices.getUserMedia({audio:!1,video:!0})];case 1:return n=w.sent(),[4,navigator.mediaDevices.enumerateDevices()];case 2:for(s=w.sent(),a=[],u=0,h=s;u<h.length;u++)g=h[u],g.kind==="videoinput"&&a.push({id:g.deviceId,label:g.label});return t(n),[2,a]}})})},e.getCamerasFromMediaStreamTrack=function(){return new Promise(function(t,n){var s=function(u){for(var h=[],g=0,w=u;g<w.length;g++){var m=w[g];m.kind==="video"&&h.push({id:m.id,label:m.label})}t(h)},a=MediaStreamTrack;a.getSources(s)})},e}(),Mt;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.NOT_STARTED=1]="NOT_STARTED",e[e.SCANNING=2]="SCANNING",e[e.PAUSED=3]="PAUSED"})(Mt||(Mt={}));var b_=function(){function e(){this.state=Mt.NOT_STARTED,this.onGoingTransactionNewState=Mt.UNKNOWN}return e.prototype.directTransition=function(t){this.failIfTransitionOngoing(),this.validateTransition(t),this.state=t},e.prototype.startTransition=function(t){return this.failIfTransitionOngoing(),this.validateTransition(t),this.onGoingTransactionNewState=t,this},e.prototype.execute=function(){if(this.onGoingTransactionNewState===Mt.UNKNOWN)throw"Transaction is already cancelled, cannot execute().";var t=this.onGoingTransactionNewState;this.onGoingTransactionNewState=Mt.UNKNOWN,this.directTransition(t)},e.prototype.cancel=function(){if(this.onGoingTransactionNewState===Mt.UNKNOWN)throw"Transaction is already cancelled, cannot cancel().";this.onGoingTransactionNewState=Mt.UNKNOWN},e.prototype.getState=function(){return this.state},e.prototype.failIfTransitionOngoing=function(){if(this.onGoingTransactionNewState!==Mt.UNKNOWN)throw"Cannot transition to a new state, already under transition"},e.prototype.validateTransition=function(t){switch(this.state){case Mt.UNKNOWN:throw"Transition from unknown is not allowed";case Mt.NOT_STARTED:this.failIfNewStateIs(t,[Mt.PAUSED]);break;case Mt.SCANNING:break;case Mt.PAUSED:break}},e.prototype.failIfNewStateIs=function(t,n){for(var s=0,a=n;s<a.length;s++){var u=a[s];if(t===u)throw"Cannot transition from ".concat(this.state," to ").concat(t)}},e}(),N_=function(){function e(t){this.stateManager=t}return e.prototype.startTransition=function(t){return this.stateManager.startTransition(t)},e.prototype.directTransition=function(t){this.stateManager.directTransition(t)},e.prototype.getState=function(){return this.stateManager.getState()},e.prototype.canScanFile=function(){return this.stateManager.getState()===Mt.NOT_STARTED},e.prototype.isScanning=function(){return this.stateManager.getState()!==Mt.NOT_STARTED},e.prototype.isStrictlyScanning=function(){return this.stateManager.getState()===Mt.SCANNING},e.prototype.isPaused=function(){return this.stateManager.getState()===Mt.PAUSED},e}(),I_=function(){function e(){}return e.create=function(){return new N_(new b_)},e}(),T_=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,a){s.__proto__=a}||function(s,a){for(var u in a)Object.prototype.hasOwnProperty.call(a,u)&&(s[u]=a[u])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function s(){this.constructor=t}t.prototype=n===null?Object.create(n):(s.prototype=n.prototype,new s)}}(),Bn=function(e){T_(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.DEFAULT_WIDTH=300,t.DEFAULT_WIDTH_OFFSET=2,t.FILE_SCAN_MIN_HEIGHT=300,t.FILE_SCAN_HIDDEN_CANVAS_PADDING=100,t.MIN_QR_BOX_SIZE=50,t.SHADED_LEFT=1,t.SHADED_RIGHT=2,t.SHADED_TOP=3,t.SHADED_BOTTOM=4,t.SHADED_REGION_ELEMENT_ID="qr-shaded-region",t.VERBOSE=!1,t.BORDER_SHADER_DEFAULT_COLOR="#ffffff",t.BORDER_SHADER_MATCH_COLOR="rgb(90, 193, 56)",t}(a_),R_=function(){function e(t,n){this.logger=n,this.fps=Bn.SCAN_DEFAULT_FPS,t?(t.fps&&(this.fps=t.fps),this.disableFlip=t.disableFlip===!0,this.qrbox=t.qrbox,this.aspectRatio=t.aspectRatio,this.videoConstraints=t.videoConstraints):this.disableFlip=Bn.DEFAULT_DISABLE_FLIP}return e.prototype.isMediaStreamConstraintsValid=function(){return this.videoConstraints?pE.isMediaStreamConstraintsValid(this.videoConstraints,this.logger):(this.logger.logError("Empty videoConstraints",!0),!1)},e.prototype.isShadedBoxEnabled=function(){return!qr(this.qrbox)},e.create=function(t,n){return new e(t,n)},e}(),__=function(){function e(t,n){if(this.element=null,this.canvasElement=null,this.scannerPausedUiElement=null,this.hasBorderShaders=null,this.borderShaders=null,this.qrMatch=null,this.renderedCamera=null,this.qrRegion=null,this.context=null,this.lastScanImageFile=null,this.isScanning=!1,!document.getElementById(t))throw"HTML Element with id=".concat(t," not found");this.elementId=t,this.verbose=!1;var s;typeof n=="boolean"?this.verbose=n===!0:n&&(s=n,this.verbose=s.verbose===!0,s.experimentalFeatures),this.logger=new c_(this.verbose),this.qrcode=new p_(this.getSupportedFormats(n),this.getUseBarCodeDetectorIfSupported(s),this.verbose,this.logger),this.foreverScanTimeout,this.shouldScan=!0,this.stateManagerProxy=I_.create()}return e.prototype.start=function(t,n,s,a){var u=this;if(!t)throw"cameraIdOrConfig is required";if(!s||typeof s!="function")throw"qrCodeSuccessCallback is required and should be a function.";var h;a?h=a:h=this.verbose?this.logger.log:function(){};var g=R_.create(n,this.logger);this.clearElement();var w=!1;g.videoConstraints&&(g.isMediaStreamConstraintsValid()?w=!0:this.logger.logError("'videoConstraints' is not valid 'MediaStreamConstraints, it will be ignored.'",!0));var m=w,C=document.getElementById(this.elementId);C.clientWidth?C.clientWidth:Bn.DEFAULT_WIDTH,C.style.position="relative",this.shouldScan=!0,this.element=C;var v=this,b=this.stateManagerProxy.startTransition(Mt.SCANNING);return new Promise(function(D,_){var S=m?g.videoConstraints:v.createVideoConstraints(t);if(!S){b.cancel(),_("videoConstraints should be defined");return}var P={};(!m||g.aspectRatio)&&(P.aspectRatio=g.aspectRatio);var O={onRenderSurfaceReady:function(I,R){v.setupUi(I,R,g),v.isScanning=!0,v.foreverScan(g,s,h)}};C_.failIfNotSupported().then(function(I){I.create(S).then(function(R){return R.render(u.element,P,O).then(function(F){v.renderedCamera=F,b.execute(),D(null)}).catch(function(F){b.cancel(),_(F)})}).catch(function(R){b.cancel(),_(Io.errorGettingUserMedia(R))})}).catch(function(I){b.cancel(),_(Io.cameraStreamingNotSupported())})})},e.prototype.pause=function(t){if(!this.stateManagerProxy.isStrictlyScanning())throw"Cannot pause, scanner is not scanning.";this.stateManagerProxy.directTransition(Mt.PAUSED),this.showPausedState(),(qr(t)||t!==!0)&&(t=!1),t&&this.renderedCamera&&this.renderedCamera.pause()},e.prototype.resume=function(){if(!this.stateManagerProxy.isPaused())throw"Cannot result, scanner is not paused.";if(!this.renderedCamera)throw"renderedCamera doesn't exist while trying resume()";var t=this,n=function(){t.stateManagerProxy.directTransition(Mt.SCANNING),t.hidePausedState()};if(!this.renderedCamera.isPaused()){n();return}this.renderedCamera.resume(function(){n()})},e.prototype.getState=function(){return this.stateManagerProxy.getState()},e.prototype.stop=function(){var t=this;if(!this.stateManagerProxy.isScanning())throw"Cannot stop, scanner is not running or paused.";var n=this.stateManagerProxy.startTransition(Mt.NOT_STARTED);this.shouldScan=!1,this.foreverScanTimeout&&clearTimeout(this.foreverScanTimeout);var s=function(){if(t.element){var u=document.getElementById(Bn.SHADED_REGION_ELEMENT_ID);u&&t.element.removeChild(u)}},a=this;return this.renderedCamera.close().then(function(){return a.renderedCamera=null,a.element&&(a.element.removeChild(a.canvasElement),a.canvasElement=null),s(),a.qrRegion&&(a.qrRegion=null),a.context&&(a.context=null),n.execute(),a.hidePausedState(),a.isScanning=!1,Promise.resolve()})},e.prototype.scanFile=function(t,n){return this.scanFileV2(t,n).then(function(s){return s.decodedText})},e.prototype.scanFileV2=function(t,n){var s=this;if(!t||!(t instanceof File))throw"imageFile argument is mandatory and should be instance of File. Use 'event.target.files[0]'.";if(qr(n)&&(n=!0),!this.stateManagerProxy.canScanFile())throw"Cannot start file scan - ongoing camera scan";return new Promise(function(a,u){s.possiblyCloseLastScanImageFile(),s.clearElement(),s.lastScanImageFile=URL.createObjectURL(t);var h=new Image;h.onload=function(){var g=h.width,w=h.height,m=document.getElementById(s.elementId),C=m.clientWidth?m.clientWidth:Bn.DEFAULT_WIDTH,v=Math.max(m.clientHeight?m.clientHeight:w,Bn.FILE_SCAN_MIN_HEIGHT),b=s.computeCanvasDrawConfig(g,w,C,v);if(n){var D=s.createCanvasElement(C,v,"qr-canvas-visible");D.style.display="inline-block",m.appendChild(D);var _=D.getContext("2d");if(!_)throw"Unable to get 2d context from canvas";_.canvas.width=C,_.canvas.height=v,_.drawImage(h,0,0,g,w,b.x,b.y,b.width,b.height)}var S=Bn.FILE_SCAN_HIDDEN_CANVAS_PADDING,P=Math.max(h.width,b.width),O=Math.max(h.height,b.height),I=P+2*S,R=O+2*S,F=s.createCanvasElement(I,R);m.appendChild(F);var W=F.getContext("2d");if(!W)throw"Unable to get 2d context from canvas";W.canvas.width=I,W.canvas.height=R,W.drawImage(h,0,0,g,w,S,S,P,O);try{s.qrcode.decodeRobustlyAsync(F).then(function(z){a(Nm.createFromQrcodeResult(z))}).catch(u)}catch(z){u("QR code parse error, error = ".concat(z))}},h.onerror=u,h.onabort=u,h.onstalled=u,h.onsuspend=u,h.src=URL.createObjectURL(t)})},e.prototype.clear=function(){this.clearElement()},e.getCameras=function(){return S_.retrieve()},e.prototype.getRunningTrackCapabilities=function(){return this.getRenderedCameraOrFail().getRunningTrackCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getRenderedCameraOrFail().getRunningTrackSettings()},e.prototype.getRunningTrackCameraCapabilities=function(){return this.getRenderedCameraOrFail().getCapabilities()},e.prototype.applyVideoConstraints=function(t){if(t){if(!pE.isMediaStreamConstraintsValid(t,this.logger))throw"invalid videoConstaints passed, check logs for more details"}else throw"videoConstaints is required argument.";return this.getRenderedCameraOrFail().applyVideoConstraints(t)},e.prototype.getRenderedCameraOrFail=function(){if(this.renderedCamera==null)throw"Scanning is not in running state, call this API only when QR code scanning using camera is in running state.";return this.renderedCamera},e.prototype.getSupportedFormats=function(t){var n=[xe.QR_CODE,xe.AZTEC,xe.CODABAR,xe.CODE_39,xe.CODE_93,xe.CODE_128,xe.DATA_MATRIX,xe.MAXICODE,xe.ITF,xe.EAN_13,xe.EAN_8,xe.PDF_417,xe.RSS_14,xe.RSS_EXPANDED,xe.UPC_A,xe.UPC_E,xe.UPC_EAN_EXTENSION];if(!t||typeof t=="boolean"||!t.formatsToSupport)return n;if(!Array.isArray(t.formatsToSupport))throw"configOrVerbosityFlag.formatsToSupport should be undefined or an array.";if(t.formatsToSupport.length===0)throw"Atleast 1 formatsToSupport is needed.";for(var s=[],a=0,u=t.formatsToSupport;a<u.length;a++){var h=u[a];o_(h)?s.push(h):this.logger.warn("Invalid format: ".concat(h," passed in config, ignoring."))}if(s.length===0)throw"None of formatsToSupport match supported values.";return s},e.prototype.getUseBarCodeDetectorIfSupported=function(t){if(qr(t))return!0;if(!qr(t.useBarCodeDetectorIfSupported))return t.useBarCodeDetectorIfSupported!==!1;if(qr(t.experimentalFeatures))return!0;var n=t.experimentalFeatures;return qr(n.useBarCodeDetectorIfSupported)?!0:n.useBarCodeDetectorIfSupported!==!1},e.prototype.validateQrboxSize=function(t,n,s){var a=this,u=s.qrbox;this.validateQrboxConfig(u);var h=this.toQrdimensions(t,n,u),g=function(m){if(m<Bn.MIN_QR_BOX_SIZE)throw"minimum size of 'config.qrbox' dimension value is"+" ".concat(Bn.MIN_QR_BOX_SIZE,"px.")},w=function(m){return m>t&&(a.logger.warn("`qrbox.width` or `qrbox` is larger than the width of the root element. The width will be truncated to the width of root element."),m=t),m};g(h.width),g(h.height),h.width=w(h.width)},e.prototype.validateQrboxConfig=function(t){if(typeof t!="number"&&typeof t!="function"&&(t.width===void 0||t.height===void 0))throw"Invalid instance of QrDimensions passed for 'config.qrbox'. Both 'width' and 'height' should be set."},e.prototype.toQrdimensions=function(t,n,s){if(typeof s=="number")return{width:s,height:s};if(typeof s=="function")try{return s(t,n)}catch(a){throw new Error("qrbox config was passed as a function but it failed with unknown error"+a)}return s},e.prototype.setupUi=function(t,n,s){s.isShadedBoxEnabled()&&this.validateQrboxSize(t,n,s);var a=qr(s.qrbox)?{width:t,height:n}:s.qrbox;this.validateQrboxConfig(a);var u=this.toQrdimensions(t,n,a);u.height>n&&this.logger.warn("[Html5Qrcode] config.qrbox has height that isgreater than the height of the video stream. Shading will be ignored");var h=s.isShadedBoxEnabled()&&u.height<=n,g={x:0,y:0,width:t,height:n},w=h?this.getShadedRegionBounds(t,n,u):g,m=this.createCanvasElement(w.width,w.height),C={willReadFrequently:!0},v=m.getContext("2d",C);v.canvas.width=w.width,v.canvas.height=w.height,this.element.append(m),h&&this.possiblyInsertShadingElement(this.element,t,n,u),this.createScannerPausedUiElement(this.element),this.qrRegion=w,this.context=v,this.canvasElement=m},e.prototype.createScannerPausedUiElement=function(t){var n=document.createElement("div");n.innerText=Io.scannerPaused(),n.style.display="none",n.style.position="absolute",n.style.top="0px",n.style.zIndex="1",n.style.background="rgba(9, 9, 9, 0.46)",n.style.color="#FFECEC",n.style.textAlign="center",n.style.width="100%",t.appendChild(n),this.scannerPausedUiElement=n},e.prototype.scanContext=function(t,n){var s=this;return this.stateManagerProxy.isPaused()?Promise.resolve(!1):this.qrcode.decodeAsync(this.canvasElement).then(function(a){return t(a.text,Nm.createFromQrcodeResult(a)),s.possiblyUpdateShaders(!0),!0}).catch(function(a){s.possiblyUpdateShaders(!1);var u=Io.codeParseError(a);return n(u,l_.createFrom(u)),!1})},e.prototype.foreverScan=function(t,n,s){var a=this;if(this.shouldScan&&this.renderedCamera){var u=this.renderedCamera.getSurface(),h=u.videoWidth/u.clientWidth,g=u.videoHeight/u.clientHeight;if(!this.qrRegion)throw"qrRegion undefined when localMediaStream is ready.";var w=this.qrRegion.width*h,m=this.qrRegion.height*g,C=this.qrRegion.x*h,v=this.qrRegion.y*g;this.context.drawImage(u,C,v,w,m,0,0,this.qrRegion.width,this.qrRegion.height);var b=function(){a.foreverScanTimeout=setTimeout(function(){a.foreverScan(t,n,s)},a.getTimeoutFps(t.fps))};this.scanContext(n,s).then(function(D){!D&&t.disableFlip!==!0?(a.context.translate(a.context.canvas.width,0),a.context.scale(-1,1),a.scanContext(n,s).finally(function(){b()})):b()}).catch(function(D){a.logger.logError("Error happend while scanning context",D),b()})}},e.prototype.createVideoConstraints=function(t){if(typeof t=="string")return{deviceId:{exact:t}};if(typeof t=="object"){var n="facingMode",s="deviceId",a={user:!0,environment:!0},u="exact",h=function(_){if(_ in a)return!0;throw"config has invalid 'facingMode' value = "+"'".concat(_,"'")},g=Object.keys(t);if(g.length!==1)throw"'cameraIdOrConfig' object should have exactly 1 key,"+" if passed as an object, found ".concat(g.length," keys");var w=Object.keys(t)[0];if(w!==n&&w!==s)throw"Only '".concat(n,"' and '").concat(s,"' ")+" are supported for 'cameraIdOrConfig'";if(w===n){var m=t.facingMode;if(typeof m=="string"){if(h(m))return{facingMode:m}}else if(typeof m=="object")if(u in m){if(h(m["".concat(u)]))return{facingMode:{exact:m["".concat(u)]}}}else throw"'facingMode' should be string or object with"+" ".concat(u," as key.");else{var C=typeof m;throw"Invalid type of 'facingMode' = ".concat(C)}}else{var v=t.deviceId;if(typeof v=="string")return{deviceId:v};if(typeof v=="object"){if(u in v)return{deviceId:{exact:v["".concat(u)]}};throw"'deviceId' should be string or object with"+" ".concat(u," as key.")}else{var b=typeof v;throw"Invalid type of 'deviceId' = ".concat(b)}}}var D=typeof t;throw"Invalid type of 'cameraIdOrConfig' = ".concat(D)},e.prototype.computeCanvasDrawConfig=function(t,n,s,a){if(t<=s&&n<=a){var u=(s-t)/2,h=(a-n)/2;return{x:u,y:h,width:t,height:n}}else{var g=t,w=n;return t>s&&(n=s/t*n,t=s),n>a&&(t=a/n*t,n=a),this.logger.log("Image downsampled from "+"".concat(g,"X").concat(w)+" to ".concat(t,"X").concat(n,".")),this.computeCanvasDrawConfig(t,n,s,a)}},e.prototype.clearElement=function(){if(this.stateManagerProxy.isScanning())throw"Cannot clear while scan is ongoing, close it first.";var t=document.getElementById(this.elementId);t&&(t.innerHTML="")},e.prototype.possiblyUpdateShaders=function(t){this.qrMatch!==t&&(this.hasBorderShaders&&this.borderShaders&&this.borderShaders.length&&this.borderShaders.forEach(function(n){n.style.backgroundColor=t?Bn.BORDER_SHADER_MATCH_COLOR:Bn.BORDER_SHADER_DEFAULT_COLOR}),this.qrMatch=t)},e.prototype.possiblyCloseLastScanImageFile=function(){this.lastScanImageFile&&(URL.revokeObjectURL(this.lastScanImageFile),this.lastScanImageFile=null)},e.prototype.createCanvasElement=function(t,n,s){var a=t,u=n,h=document.createElement("canvas");return h.style.width="".concat(a,"px"),h.style.height="".concat(u,"px"),h.style.display="none",h.id=qr(s)?"qr-canvas":s,h},e.prototype.getShadedRegionBounds=function(t,n,s){if(s.width>t||s.height>n)throw"'config.qrbox' dimensions should not be greater than the dimensions of the root HTML element.";return{x:(t-s.width)/2,y:(n-s.height)/2,width:s.width,height:s.height}},e.prototype.possiblyInsertShadingElement=function(t,n,s,a){if(!(n-a.width<1||s-a.height<1)){var u=document.createElement("div");u.style.position="absolute";var h=(n-a.width)/2,g=(s-a.height)/2;if(u.style.borderLeft="".concat(h,"px solid rgba(0, 0, 0, 0.48)"),u.style.borderRight="".concat(h,"px solid rgba(0, 0, 0, 0.48)"),u.style.borderTop="".concat(g,"px solid rgba(0, 0, 0, 0.48)"),u.style.borderBottom="".concat(g,"px solid rgba(0, 0, 0, 0.48)"),u.style.boxSizing="border-box",u.style.top="0px",u.style.bottom="0px",u.style.left="0px",u.style.right="0px",u.id="".concat(Bn.SHADED_REGION_ELEMENT_ID),n-a.width<11||s-a.height<11)this.hasBorderShaders=!1;else{var w=5,m=40;this.insertShaderBorders(u,m,w,-w,null,0,!0),this.insertShaderBorders(u,m,w,-w,null,0,!1),this.insertShaderBorders(u,m,w,null,-w,0,!0),this.insertShaderBorders(u,m,w,null,-w,0,!1),this.insertShaderBorders(u,w,m+w,-w,null,-w,!0),this.insertShaderBorders(u,w,m+w,null,-w,-w,!0),this.insertShaderBorders(u,w,m+w,-w,null,-w,!1),this.insertShaderBorders(u,w,m+w,null,-w,-w,!1),this.hasBorderShaders=!0}t.append(u)}},e.prototype.insertShaderBorders=function(t,n,s,a,u,h,g){var w=document.createElement("div");w.style.position="absolute",w.style.backgroundColor=Bn.BORDER_SHADER_DEFAULT_COLOR,w.style.width="".concat(n,"px"),w.style.height="".concat(s,"px"),a!==null&&(w.style.top="".concat(a,"px")),u!==null&&(w.style.bottom="".concat(u,"px")),g?w.style.left="".concat(h,"px"):w.style.right="".concat(h,"px"),this.borderShaders||(this.borderShaders=[]),this.borderShaders.push(w),t.appendChild(w)},e.prototype.showPausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="block"},e.prototype.hidePausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="none"},e.prototype.getTimeoutFps=function(t){return 1e3/t},e}(),Dm;(function(e){e[e.STATUS_DEFAULT=0]="STATUS_DEFAULT",e[e.STATUS_SUCCESS=1]="STATUS_SUCCESS",e[e.STATUS_WARNING=2]="STATUS_WARNING",e[e.STATUS_REQUESTING_PERMISSION=3]="STATUS_REQUESTING_PERMISSION"})(Dm||(Dm={}));function O_(){const[,e]=i0("/student/scan/:examId"),[,t]=Gr(),{toast:n}=qs(),s=e==null?void 0:e.examId,[a,u]=A.useState(""),[h,g]=A.useState(!1),[w,m]=A.useState(!1),C=A.useRef(null),[v,b]=A.useState(!1),{data:D}=Ar({queryKey:["/api/exams",s],enabled:!!s}),_=ri({mutationFn:async I=>{const R=await ii("PATCH",`/api/exams/${s}/claim-code`,{codeValue:I});if(!R.ok){const F=await R.text();throw new Error(F||"Failed to claim code")}return await R.json()},onSuccess:()=>{ir.invalidateQueries({queryKey:["/api/student/exams"]}),n({title:"QR Code claimed successfully!",description:"Your anonymous identity has been assigned"}),t("/student")},onError:I=>{n({title:"Failed to claim code",description:I.message,variant:"destructive"})}}),S=async()=>{try{const I=new __("qr-reader");C.current=I,g(!0),b(!1),await I.start({facingMode:"environment"},{fps:10,qrbox:{width:250,height:250}},R=>{P(),_.mutate(R)},()=>{})}catch(I){console.error("Camera error:",I),b(!0),m(!0),n({title:"Camera access denied",description:"Please use manual entry or allow camera access",variant:"destructive"})}},P=async()=>{if(C.current&&h)try{await C.current.stop(),C.current=null,g(!1)}catch(I){console.error("Error stopping scanner:",I)}};A.useEffect(()=>()=>{P()},[]);const O=I=>{I.preventDefault(),a.trim()&&_.mutate(a.trim())};return x.jsxs("div",{className:"min-h-screen bg-background",children:[x.jsx(hi,{}),x.jsxs("main",{className:"max-w-3xl mx-auto p-6 space-y-6",children:[x.jsxs("div",{className:"flex items-center gap-4",children:[x.jsx(Et,{variant:"ghost",size:"icon",onClick:()=>{P(),t("/student")},"data-testid":"button-back",children:x.jsx(ed,{className:"h-4 w-4"})}),x.jsxs("div",{children:[x.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"Scan QR Code"}),x.jsx("p",{className:"text-muted-foreground",children:D==null?void 0:D.courseName})]})]}),x.jsxs("div",{className:"flex gap-2 mb-4",children:[x.jsxs(Et,{variant:w?"outline":"default",onClick:()=>{m(!1),P()},disabled:v,"data-testid":"button-camera-mode",children:[x.jsx(zg,{className:"h-4 w-4 mr-2"}),"Camera"]}),x.jsxs(Et,{variant:w?"default":"outline",onClick:()=>{P(),m(!0)},"data-testid":"button-manual-mode",children:[x.jsx(T4,{className:"h-4 w-4 mr-2"}),"Manual Entry"]})]}),w?x.jsxs(et,{children:[x.jsxs(ht,{children:[x.jsx(pt,{children:"Manual Entry"}),x.jsx(Gn,{children:"Type the QR code value from your exam sheet"})]}),x.jsx(tt,{children:x.jsxs("form",{onSubmit:O,className:"space-y-4",children:[x.jsxs("div",{className:"space-y-2",children:[x.jsx(yn,{htmlFor:"qrCode",children:"QR Code Value"}),x.jsx(Mn,{id:"qrCode",placeholder:"Enter the code from your QR sheet",value:a,onChange:I=>u(I.target.value),required:!0,className:"font-mono","data-testid":"input-manual-code"}),x.jsx("p",{className:"text-sm text-muted-foreground",children:"The code is printed below the QR code image on your exam sheet"})]}),x.jsx(Et,{type:"submit",className:"w-full",disabled:_.isPending||!a.trim(),"data-testid":"button-submit-manual",children:_.isPending?"Claiming...":x.jsxs(x.Fragment,{children:[x.jsx(iy,{className:"h-4 w-4 mr-2"}),"Claim QR Code"]})})]})})]}):x.jsxs(et,{children:[x.jsxs(ht,{children:[x.jsx(pt,{children:"Camera Scanner"}),x.jsx(Gn,{children:"Position the QR code within the frame to scan automatically"})]}),x.jsxs(tt,{className:"space-y-4",children:[x.jsx("div",{id:"qr-reader",className:"w-full rounded-lg overflow-hidden bg-muted",style:{minHeight:"300px"},"data-testid":"qr-scanner"}),h?x.jsx(Et,{variant:"outline",onClick:P,className:"w-full","data-testid":"button-stop-scanner",children:"Stop Camera"}):x.jsxs(Et,{onClick:S,className:"w-full",disabled:_.isPending,"data-testid":"button-start-scanner",children:[x.jsx(zg,{className:"h-4 w-4 mr-2"}),"Start Camera"]}),x.jsx("div",{className:"p-4 bg-muted rounded-lg",children:x.jsxs("p",{className:"text-sm text-muted-foreground",children:[x.jsx("strong",{children:"Instructions:"})," Hold the QR code sheet steady in front of your camera. The code will be automatically detected and claimed."]})})]})]}),x.jsxs(et,{className:"border-primary/20 bg-primary/5",children:[x.jsx(ht,{children:x.jsxs(pt,{className:"text-base flex items-center gap-2",children:[x.jsx(is,{className:"h-5 w-5"}),"Important"]})}),x.jsx(tt,{className:"text-sm text-muted-foreground space-y-2",children:x.jsxs("ul",{className:"list-disc list-inside space-y-1 ml-2",children:[x.jsx("li",{children:"Each QR code can only be claimed once"}),x.jsx("li",{children:"Make sure to write this QR code on your exam paper"}),x.jsx("li",{children:"Do not write your name or student ID on the exam"}),x.jsx("li",{children:"Keep your QR code confidential to maintain anonymity"})]})})]})]})]})}function M_(){const{user:e}=wa(),{toast:t}=qs(),[n,s]=A.useState(""),[a,u]=A.useState(""),[h,g]=A.useState(""),{data:w,isLoading:m}=Ar({queryKey:["/api/exams"]}),{data:C,isLoading:v}=Ar({queryKey:["/api/marks",n],enabled:!!n}),b=ri({mutationFn:async _=>{const S=await ii("POST","/api/marks",_);if(!S.ok){const P=await S.text();throw new Error(P||"Failed to submit mark")}return await S.json()},onSuccess:()=>{ir.invalidateQueries({queryKey:["/api/marks",n]}),t({title:"Mark submitted successfully",description:"The grade has been recorded"}),u(""),g("")},onError:_=>{t({title:"Failed to submit mark",description:_.message,variant:"destructive"})}}),D=_=>{_.preventDefault(),n&&a&&h&&b.mutate({examId:n,qrCode:a.trim(),score:parseFloat(h)})};return x.jsxs("div",{className:"min-h-screen bg-background",children:[x.jsx(hi,{}),x.jsxs("main",{className:"max-w-7xl mx-auto p-6 space-y-6",children:[x.jsxs("div",{children:[x.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"Marker Dashboard"}),x.jsxs("p",{className:"text-muted-foreground",children:["Welcome, ",e==null?void 0:e.name]})]}),x.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[x.jsxs(et,{children:[x.jsxs(ht,{children:[x.jsx(pt,{children:"Enter Mark"}),x.jsx(Gn,{children:"Grade submissions using QR codes only (student identities are hidden)"})]}),x.jsx(tt,{children:x.jsxs("form",{onSubmit:D,className:"space-y-4",children:[x.jsxs("div",{className:"space-y-2",children:[x.jsx(yn,{htmlFor:"exam",children:"Examination"}),x.jsxs(cC,{value:n,onValueChange:s,children:[x.jsx(D0,{id:"exam","data-testid":"select-exam",children:x.jsx(uC,{placeholder:"Select an exam"})}),x.jsx(P0,{children:m?x.jsx("div",{className:"p-2",children:"Loading exams..."}):w&&w.length>0?w.map(_=>x.jsx(sl,{value:_.id,"data-testid":`exam-option-${_.id}`,children:_.courseName},_.id)):x.jsx("div",{className:"p-2 text-sm text-muted-foreground",children:"No exams available"})})]})]}),x.jsxs("div",{className:"space-y-2",children:[x.jsx(yn,{htmlFor:"qrCode",children:x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx(is,{className:"h-4 w-4"}),"QR Code"]})}),x.jsx(Mn,{id:"qrCode",placeholder:"Enter or scan QR code",value:a,onChange:_=>u(_.target.value),required:!0,className:"font-mono","data-testid":"input-qr-code"}),x.jsx("p",{className:"text-sm text-muted-foreground",children:"The QR code from the student's exam paper"})]}),x.jsxs("div",{className:"space-y-2",children:[x.jsx(yn,{htmlFor:"score",children:"Score (0-100)"}),x.jsx(Mn,{id:"score",type:"number",min:"0",max:"100",step:"0.5",placeholder:"Enter score",value:h,onChange:_=>g(_.target.value),required:!0,"data-testid":"input-score"})]}),x.jsx(Et,{type:"submit",className:"w-full",disabled:!n||!a||!h||b.isPending,"data-testid":"button-submit-mark",children:b.isPending?"Submitting...":x.jsxs(x.Fragment,{children:[x.jsx(_4,{className:"h-4 w-4 mr-2"}),"Submit Mark"]})})]})})]}),x.jsxs(et,{children:[x.jsxs(ht,{children:[x.jsx(pt,{children:"Anonymous Grading"}),x.jsx(Gn,{children:"How it works"})]}),x.jsxs(tt,{className:"space-y-4",children:[x.jsxs("div",{className:"p-4 bg-primary/10 rounded-lg border border-primary/20",children:[x.jsx("h4",{className:"font-semibold text-sm mb-2",children:"Maintaining Anonymity"}),x.jsxs("ul",{className:"text-sm text-muted-foreground space-y-1 list-disc list-inside",children:[x.jsx("li",{children:"You will only see QR codes, not student names"}),x.jsx("li",{children:"Each QR code is randomly assigned to a student"}),x.jsx("li",{children:"Student identities are revealed only after all marking is complete"}),x.jsx("li",{children:"This ensures fair and unbiased grading"})]})]}),x.jsxs("div",{className:"p-4 bg-muted rounded-lg",children:[x.jsx("h4",{className:"font-semibold text-sm mb-2",children:"Grading Process"}),x.jsxs("ol",{className:"text-sm text-muted-foreground space-y-1 list-decimal list-inside",children:[x.jsx("li",{children:"Select the examination from the dropdown"}),x.jsx("li",{children:"Enter the QR code from the exam paper"}),x.jsx("li",{children:"Input the score (0-100)"}),x.jsx("li",{children:"Submit the mark"})]})]})]})]})]}),n&&x.jsxs(et,{children:[x.jsxs(ht,{children:[x.jsx(pt,{children:"Submitted Marks"}),x.jsx(Gn,{children:"Marks you've entered for this examination"})]}),x.jsx(tt,{children:v?x.jsx("div",{className:"space-y-2",children:[1,2,3].map(_=>x.jsx(si,{className:"h-12 w-full"},_))}):C&&C.length>0?x.jsx("div",{className:"rounded-md border",children:x.jsxs(H0,{children:[x.jsx(z0,{children:x.jsxs(Rl,{children:[x.jsx(Xi,{children:"QR Code"}),x.jsx(Xi,{className:"text-right",children:"Score"}),x.jsx(Xi,{className:"text-right",children:"Submitted"})]})}),x.jsx(G0,{children:C.map(_=>x.jsxs(Rl,{"data-testid":`mark-row-${_.id}`,children:[x.jsx(Yi,{className:"font-mono","data-testid":`mark-qr-${_.id}`,children:_.codeId}),x.jsxs(Yi,{className:"text-right font-semibold","data-testid":`mark-score-${_.id}`,children:[_.score,"%"]}),x.jsx(Yi,{className:"text-right text-muted-foreground text-sm",children:new Date(_.createdAt).toLocaleString()})]},_.id))})]})}):x.jsxs("div",{className:"text-center py-12",children:[x.jsx(Bh,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),x.jsx("p",{className:"text-muted-foreground",children:"No marks submitted yet for this exam"})]})})]})]})]})}function D_(){return x.jsx("div",{className:"min-h-screen w-full flex items-center justify-center bg-gray-50",children:x.jsx(et,{className:"w-full max-w-md mx-4",children:x.jsxs(tt,{className:"pt-6",children:[x.jsxs("div",{className:"flex mb-4 gap-2",children:[x.jsx(N4,{className:"h-8 w-8 text-red-500"}),x.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"404 Page Not Found"})]}),x.jsx("p",{className:"mt-4 text-sm text-gray-600",children:"Did you forget to add the page to the router?"})]})})})}function P_(){return x.jsxs(YS,{children:[x.jsx(No,{path:"/auth",component:OT}),x.jsx(Ni,{path:"/",component:HN}),x.jsx(Ni,{path:"/admin",component:JR,allowedRoles:[wn.ADMIN]}),x.jsx(Ni,{path:"/admin/exams/create",component:e_,allowedRoles:[wn.ADMIN]}),x.jsx(Ni,{path:"/admin/exams/:id/qr-codes",component:t_,allowedRoles:[wn.ADMIN]}),x.jsx(Ni,{path:"/admin/exams/:id/reveal",component:i_,allowedRoles:[wn.ADMIN]}),x.jsx(Ni,{path:"/student",component:s_,allowedRoles:[wn.STUDENT]}),x.jsx(Ni,{path:"/student/scan/:examId",component:O_,allowedRoles:[wn.STUDENT]}),x.jsx(Ni,{path:"/marker",component:M_,allowedRoles:[wn.MARKER]}),x.jsx(No,{component:D_})]})}function k_(){return x.jsx(pb,{client:ir,children:x.jsx(WN,{children:x.jsxs(UN,{children:[x.jsx(p8,{}),x.jsx(P_,{})]})})})}iw(document.getElementById("root")).render(x.jsx(k_,{}));
